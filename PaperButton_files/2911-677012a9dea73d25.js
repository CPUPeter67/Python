!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="6b8cc016-94e5-4ba4-9c8d-6ac6ef6bcf6c",e._sentryDebugIdIdentifier="sentry-dbid-6b8cc016-94e5-4ba4-9c8d-6ac6ef6bcf6c")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"a8a5682e"},(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2911],{2526:(e,t,r)=>{"use strict";r.d(t,{Zw:()=>L,yf:()=>N,rj:()=>A});var n,i,o=r(12694),a=r(62019),u=r(37743),l=r(83846),c=r(1833),s=r(89264),f=function(e){return e.FILE_HEADER_MISSING="FILE_HEADER_MISSING",e.FILE_HEADER_INVALID="FILE_HEADER_INVALID",e.FILE_HEADER_SAME_SIDE="FILE_HEADER_SAME_SIDE",e.FILE_HEADER_MISSING_LABEL="FILE_HEADER_MISSING_LABEL",e.HUNK_EMPTY="HUNK_EMPTY",e.HUNK_HEADER_INVALID="HUNK_HEADER_INVALID",e.HUNK_LINE_INVALID="HUNK_LINE_INVALID",e.GIT_DIFF_HEADER_MISSING="GIT_DIFF_HEADER_MISSING",e.GIT_DIFF_HEADER_INVALID="GIT_DIFF_HEADER_INVALID",e.GIT_DIFF_HEADER_LINE_INVALID="GIT_DIFF_HEADER_LINE_INVALID",e.NEVER="NEVER",e}({}),d=(n={},(0,l._)(n,"FILE_HEADER_MISSING","Missing one-of either `---` or `+++` headers"),(0,l._)(n,"FILE_HEADER_INVALID","File header does not match the expected format"),(0,l._)(n,"FILE_HEADER_SAME_SIDE","Both file headers use the same prefix (e.g. `---`)"),(0,l._)(n,"FILE_HEADER_MISSING_LABEL","File header is missing a label"),(0,l._)(n,"HUNK_EMPTY","Hunk is empty"),(0,l._)(n,"HUNK_HEADER_INVALID","Hunk header does not match the expected format"),(0,l._)(n,"HUNK_LINE_INVALID","Hunk line does not match the expected format"),(0,l._)(n,"GIT_DIFF_HEADER_MISSING","Git diff header is missing"),(0,l._)(n,"GIT_DIFF_HEADER_INVALID","Git diff header does not match the expected format"),(0,l._)(n,"GIT_DIFF_HEADER_LINE_INVALID","Incorrectly formatted or unknown git diff header line"),(0,l._)(n,"NEVER","Encountered unreachable code, this should never happen"),n),p=function(e){function t(e){var r,n,i,o,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,u._)(this,t),(r=(0,a._)(this,t,["Exception when parsing diff: ".concat(e," - ").concat(d[e])])).name="ParseError",r.reason=e,r.context=null!=(n=l.context)?n:null,r.chunk=null!=(i=l.chunk)?i:null,r.patch=null!=(o=l.patch)?o:null,r}return(0,c._)(t,e),t}((0,s._)(Error)),h=/(?:\\[0-7]{1,3})+/g,m=/\\([0-7]{1,3})/g,v=/\\([0btvfrn])/g;function g(e){return e.startsWith('"')&&e.endsWith('"')?e.slice(1,-1).replaceAll("\\\\","￼").replaceAll('\\"','"').replace(h,function(e){null!=i||(i=new TextDecoder);var t=Uint8Array.from(Array.from(e.matchAll(m)),function(e){return parseInt(e[1],8)});return i.decode(t)}).replace(v,function(e,t){switch(t){case"0":return"\0";case"b":return"\b";case"t":return"	";case"v":return"\v";case"f":return"\f";case"r":return"\r";case"n":return"\n";default:throw Error("unexpected match")}}).replaceAll("￼","\\"):e}function y(e,t){var r=e.startsWith("a/"),n=t.startsWith("b/");return e=r&&(n||"/dev/null"===t)?e.slice(2):e,t=n&&(r||"/dev/null"===e)?t.slice(2):t,[e,t]}var E=/^(---|\+\+\+)[ \t](.+?)([ \t]\d+-\d+-\d+[ \t]\d+:\d+:\d+(?:\.\d+)?[ \t](?:-|\+)\d+)?$/,_=RegExp("^@@[ \\t]+-(\\d+)(?:,(\\d+))?[ \\t]\\+(\\d+)(?:,(\\d+))?[ \\t]@@(?:[ \\t](.*))?$","s"),D=RegExp("^([ +-])(.*)$","s"),b=/(?:^|\n)(?=@@)/;function A(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.split(/\r?\n/),i=n[0],a=n[1];if(!i||!a)throw new p(f.FILE_HEADER_MISSING,{context:e});var u=E.exec(i),l=E.exec(a);if(!u||!l)throw new p(f.FILE_HEADER_INVALID,{context:e,chunk:u?a:i});if(u[1]===l[1])throw new p(f.FILE_HEADER_SAME_SIDE,{context:e});var c=null,s=null;if("---"===u[1]?c=u[2]:"+++"===u[1]&&(s=u[2]),"---"===l[1]?c=l[2]:"+++"===l[1]&&(s=l[2]),null===c||null===s)throw new p(f.FILE_HEADER_MISSING_LABEL,{context:e});r.git&&(c=g(c),s=g(s),c=(t=(0,o._)(y(c,s),2))[0],s=t[1],c="/dev/null"===c?null:c,s="/dev/null"===s?null:s);var d=n.slice(2).join("\n").split(b);return 1===d.length&&""===d[0]?{labelA:c,labelB:s,hunks:[]}:{labelA:c,labelB:s,hunks:d.map(function(t){var r=t.split("\n").filter(function(e){return"\\ No newline at end of file"!==e});if(r.length&&!r[r.length-1]&&r.pop(),!r.length)throw new p(f.HUNK_EMPTY,{context:e,chunk:t});var n=_.exec(r[0]);if(!n)throw new p(f.HUNK_HEADER_INVALID,{context:e,chunk:r[0]});var i=parseInt(n[1],10),o=i+(n[2]?parseInt(n[2],10):1)-1,a=parseInt(n[3],10),u=a+(n[4]?parseInt(n[4],10):1)-1,l=n[5]||null,c=i,s=a;return{fromA:i,toA:o,fromB:a,toB:u,heading:l,lines:r.slice(1).map(function(t){var r,n,i,o=D.exec(t);if(!o)throw new p(f.HUNK_LINE_INVALID,{context:e,chunk:t});var a=o[2];switch(o[1]){case" ":r="same",n=c,i=s,c++,s++;break;case"+":r="added",n=null,i=s,s++;break;case"-":r="removed",n=c,i=null,c++;break;default:throw new p(f.NEVER,{context:e,chunk:t})}return{type:r,content:a,numberA:n,numberB:i}})}})}}var w={"old mode":/^old mode[ \t](\d{6})$/,"new mode":/^new mode[ \t](\d{6})$/,"deleted file mode":/^deleted file mode[ \t](\d{6})$/,"new file mode":/^new file mode[ \t](\d{6})$/,"copy from":/^copy from[ \t](.+)$/,"copy to":/^copy to[ \t](.+)$/,"rename from":/^rename from[ \t](.+)$/,"rename to":/^rename to[ \t](.+)$/,"similarity index":/^similarity index[ \t](\d+)%$/,"dissimilarity index":/^dissimilarity index[ \t](\d+)%$/,index:/^index (.+?)\.\.(.+?)(?:[ \t]([0-7]{6}))?$/},I=/^Binary files (.*) and (.*) differ$/,U=/^diff --git ("a\/.*?"|a\/.*?)[ \t]("b\/.*?"|b\/.*?)$/,R=/(?:^|\n)(?=diff --git)/;function S(e){for(var t in w){var r=w[t],n=e.match(r);if(n)switch(t){case"old mode":case"new mode":case"deleted file mode":case"new file mode":return{type:t,mode:n[1]};case"copy from":case"copy to":case"rename from":case"rename to":return{type:t,path:g(n[1])};case"similarity index":case"dissimilarity index":return{type:t,index:parseInt(n[1],10)};case"index":return{type:t,hashA:n[1],hashB:n[2],mode:n[3]?n[3]:null}}}throw new p(f.GIT_DIFF_HEADER_LINE_INVALID,{chunk:e})}function x(e){var t=e.split(/\r?\n/);if(!t[0])throw new p(f.GIT_DIFF_HEADER_MISSING,{context:e});if(!U.test(t[0]))throw new p(f.GIT_DIFF_HEADER_INVALID,{context:e,chunk:t[0]});var r=t.findIndex(function(e){return e.startsWith("---")});if(-1===r){var n,i=t[0].match(U);if(!i)throw new p(f.FILE_HEADER_INVALID,{context:e,chunk:t[0]});var a=i[1],u=i[2],l=!1;a=g(a),u=g(u),a=(n=(0,o._)(y(a,u),2))[0],u=n[1],a="/dev/null"===a?null:a,u="/dev/null"===u?null:u;for(var c=[],s=1;s<t.length;s++)if(t[s].trim()){if(I.test(t[s])){l=!0;break}c.push(S(t[s]))}return{pathA:a,pathB:u,headers:c,binary:l,hunks:[]}}for(var d=!1,h=[],m=1;m<r;m++){if(I.test(t[m])){d=!0;break}h.push(S(t[m]))}var v=A(t.slice(r).join("\n"),{git:!0});return{pathA:v.labelA,pathB:v.labelB,headers:h,binary:d,hunks:v.hunks}}function N(e){var t=e.split(R);t.length&&!t[0].startsWith("diff --git")&&t.shift();try{return t.map(function(e){return e.endsWith("\n")?e.slice(0,-1):e}).map(x)}catch(t){throw t instanceof p&&(t.patch=e),t}}var T=r(79730),C=T.ZU.Union([T.ZU.Object({type:T.ZU.Literal("added"),content:T.ZU.String(),numberA:T.ZU.Null(),numberB:T.ZU.Number()},{title:"HunkLineAdded"}),T.ZU.Object({type:T.ZU.Literal("removed"),content:T.ZU.String(),numberA:T.ZU.Number(),numberB:T.ZU.Null()},{title:"HunkLineRemoved"}),T.ZU.Object({type:T.ZU.Literal("same"),content:T.ZU.String(),numberA:T.ZU.Integer(),numberB:T.ZU.Integer()},{title:"HunkLineSame"})],{title:"HunkLine"}),O=T.ZU.Object({fromA:T.ZU.Integer(),toA:T.ZU.Integer(),fromB:T.ZU.Integer(),toB:T.ZU.Integer(),heading:T.ZU.Union([T.ZU.String(),T.ZU.Null()]),lines:T.ZU.Array(C)},{title:"Hunk"}),L=T.ZU.Object({labelA:T.ZU.Union([T.ZU.String(),T.ZU.Null()]),labelB:T.ZU.Union([T.ZU.String(),T.ZU.Null()]),hunks:T.ZU.Array(O)},{title:"UnifiedDiff"}),M=T.ZU.Union([T.ZU.Object({type:T.ZU.Literal("old mode"),mode:T.ZU.String()},{title:"GitDiffHeaderLineOldMode"}),T.ZU.Object({type:T.ZU.Literal("new mode"),mode:T.ZU.String()},{title:"GitDiffHeaderLineNewMode"}),T.ZU.Object({type:T.ZU.Literal("deleted file mode"),mode:T.ZU.String()},{title:"GitDiffHeaderLineDeletedFileMode"}),T.ZU.Object({type:T.ZU.Literal("new file mode"),mode:T.ZU.String()},{title:"GitDiffHeaderLineNewFileMode"}),T.ZU.Object({type:T.ZU.Literal("copy from"),path:T.ZU.String()},{title:"GitDiffHeaderLineCopyFrom"}),T.ZU.Object({type:T.ZU.Literal("copy to"),path:T.ZU.String()},{title:"GitDiffHeaderLineCopyTo"}),T.ZU.Object({type:T.ZU.Literal("rename from"),path:T.ZU.String()},{title:"GitDiffHeaderLineRenameFrom"}),T.ZU.Object({type:T.ZU.Literal("rename to"),path:T.ZU.String()},{title:"GitDiffHeaderLineRenameTo"}),T.ZU.Object({type:T.ZU.Literal("similarity index"),index:T.ZU.Integer()},{title:"GitDiffHeaderLineSimilarityIndex"}),T.ZU.Object({type:T.ZU.Literal("dissimilarity index"),index:T.ZU.Integer()},{title:"GitDiffHeaderLineDissimilarityIndex"}),T.ZU.Object({type:T.ZU.Literal("index"),hashA:T.ZU.String(),hashB:T.ZU.String(),mode:T.ZU.Union([T.ZU.String(),T.ZU.Null()])},{title:"GitDiffHeaderLineIndex"})],{title:"GitDiffHeaderLine"});T.ZU.Object({pathA:T.ZU.Union([T.ZU.String(),T.ZU.Null()]),pathB:T.ZU.Union([T.ZU.String(),T.ZU.Null()]),headers:T.ZU.Array(M),binary:T.ZU.Optional(T.ZU.Boolean()),hunks:T.ZU.Array(O)},{title:"GitDiff"})},10571:(e,t,r)=>{"use strict";r.d(t,{A:()=>p});var n=r(81073),i=r(7868),o=r(19316),a=r(27023),u=r(4616),l=r(85389),c=r(52351);function s(e){var t=e.count,r=e.children,i=e.tooltip,s=e.small,f=(0,o.$)(t);return(0,n.FD)(l.S,{"aria-label":i,"data-microtip-position":"left",role:"tooltip",css:[a.wp.color.foregroundDimmer,{userSelect:"none",lineHeight:1}],row:!0,gap:4,align:"center",children:[(0,n.Y)(c.Z_,{size:s?12:void 0,children:r}),(0,n.Y)(u.EY,{variant:s?"small":void 0,color:"dimmer",multiline:!1,children:f})]})}var f=r(55352),d=r(13028);function p(e){var t=e.repl;return(0,n.FD)(l.S,{row:!0,gap:16,align:"center",children:[(0,n.Y)(s,{small:!0,count:t.publicForkCount,tooltip:(0,i.A)("remix",t.publicForkCount),children:(0,n.Y)(d.A,{})}),(0,n.Y)(s,{small:!0,count:t.likeCount,tooltip:(0,i.A)("like",t.likeCount),children:(0,n.Y)(f.A,{})})]})}},11536:(e,t,r)=>{"use strict";r.d(t,{A:()=>u});var n=r(17844),i=r(93629),o=r(81073),a=r(52351);function u(e){return(0,o.Y)(a.Ay,(0,i._)((0,n._)({},e),{children:(0,o.Y)("path",{d:"M20.76 4.47a19.848 19.848 0 0 0-4.951-1.524c-.234.419-.446.85-.634 1.29a18.439 18.439 0 0 0-5.495 0c-.19-.44-.4-.871-.635-1.29A19.99 19.99 0 0 0 4.09 4.474C.957 9.11.107 13.63.532 18.087a19.96 19.96 0 0 0 6.073 3.05c.491-.662.926-1.364 1.3-2.098a12.916 12.916 0 0 1-2.048-.978c.172-.125.34-.253.502-.377a14.266 14.266 0 0 0 12.142 0 7.1 7.1 0 0 0 .502.377c-.654.386-1.34.714-2.052.98.373.734.808 1.435 1.3 2.095a19.868 19.868 0 0 0 6.077-3.047c.498-5.168-.851-9.647-3.568-13.62ZM8.443 15.347c-1.183 0-2.161-1.074-2.161-2.396 0-1.321.944-2.405 2.157-2.405 1.214 0 2.184 1.084 2.164 2.405-.021 1.322-.954 2.396-2.16 2.396Zm7.974 0c-1.186 0-2.16-1.074-2.16-2.396 0-1.321.944-2.405 2.16-2.405 1.215 0 2.178 1.084 2.157 2.405-.02 1.322-.951 2.396-2.157 2.396Z"})}))}},12546:(e,t,r)=>{"use strict";r.d(t,{Df:()=>v,xS:()=>p});var n=r(17844),i=r(12584),o=r(41114),a=r(86997),u=r(78638),l=r(27641);function c(){var e=(0,i._)(["\n  fragment PublishReplData on Repl {\n    id\n    url\n    title\n    description\n    iconUrl\n    publishedAs\n    imageUrl\n    isRenamed\n    templateInfo {\n      iconUrl\n    }\n    replViewSettings {\n      id\n      defaultView\n      replImage\n      replFile\n    }\n    authorizations {\n      editMetadata {\n        isAuthorized\n      }\n      editFileContents {\n        isAuthorized\n      }\n      publish {\n        isAuthorized\n      }\n    }\n    ...CrosisContextRepl\n    ...PublishedReplShareInfoReplData\n  }\n  ","\n  ","\n"]);return c=function(){return e},e}function s(){var e=(0,i._)(["\n  fragment PublishCurrentUser on CurrentUser {\n    id\n    image\n    isTemplateDeveloper: hasRole(role: TEMPLATE_DEVELOPER)\n    ...CrosisContextCurrentUser\n  }\n  ","\n"]);return s=function(){return e},e}function f(){var e=(0,i._)(["\n  query PublishCurrentUser {\n    currentUser {\n      id\n      ...PublishCurrentUser\n    }\n  }\n  ","\n"]);return f=function(){return e},e}var d={},p=(0,o.J1)(c(),u.c,l.E),h=(0,o.J1)(s(),u.N),m=(0,o.J1)(f(),h);function v(e){var t=(0,n._)({},d,e);return a.I(m,t)}},14596:(e,t,r)=>{"use strict";r.d(t,{DO:()=>n,sV:()=>o,uZ:()=>i});var n=function(e){return e.NotFound="NOT_FOUND",e.ParseError="PARSE_ERROR",e.Disconnected="DISCONNECTED",e.Unknown="UNKOWN_ERROR",e}({}),i=function(e){return e.ChannelClosed="CHANNEL_CLOSED",e.JSONParseError="JSON_PARSE_ERROR",e.NotFound="NOT_FOUND",e.TOMLParseError="TOML_PARSE_ERROR",e.OpType="OP_TYPE",e.CouldNotWrite="COULD_NOT_WRITE",e.ReadLine="COULD_NOT_READ_LINE",e.Unknown="UNKNOWN_ERROR",e}({}),o=function(e){return e.CHANGE="CHANGE",e.CHANNEL_OPENED="CHANNEL_OPENED",e}({})},19202:(e,t,r)=>{"use strict";r.d(t,{e:()=>d});var n=r(81073),i=r(42793),o=r(36937),a=r(27023),u=r(4616),l=(0,i.AH)([a.wp.flex.shrink(1),a.wp.fontSize("inherit"),{lineHeight:"inherit"}]),c=(0,i.AH)([l,a.wp.truncate]),s=(0,i.AH)([l]),f={normal:{matched:o.LU.foregroundDefault,unmatched:o.LU.foregroundDimmer},dimmed:{matched:o.LU.foregroundDimmer,unmatched:o.LU.foregroundDimmest}};function d(e){var t,r,i,a,l=null==(a=e.highlight)?void 0:a.filter(function(e){return e.to>0}),d=e.dimmed?f.dimmed:f.normal;return(null==l?void 0:l.length)?(0,n.Y)(u.EY,{className:e.className,css:e.multiline?s:c,children:(t=e.text,r=0,i=[],l.forEach(function(e){var n=e.from,o=e.to,a=t.slice(r,n);a&&i.push({text:a,match:!1});var u=t.slice(n,o);u&&i.push({text:u,match:!0}),r=o}),r<t.length&&i.push({text:t.slice(r),match:!1}),i).map(function(e,t){return(0,n.Y)("span",{style:{fontWeight:e.match?o.LU.fontWeightBold:o.LU.fontWeightRegular,color:e.match?d.matched:d.unmatched},children:e.text},e.text+t)})}):(0,n.Y)(u.EY,{className:e.className,style:{color:d.matched},css:e.multiline?s:c,children:e.text})}},22089:(e,t,r)=>{"use strict";r.d(t,{R:()=>u});var n=r(81073),i=r(41358),o=r(66246),a=r.n(o);function u(e){var t=e.className,r=e.children;return(0,n.Y)(i.ui,{elevated:!0,tag:"span",px:4,clsx:[a().surface,t],children:r})}},22115:(e,t,r)=>{"use strict";r.d(t,{A:()=>i,l:()=>n});var n="https://twitter.com/intent/tweet";function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.text,r=e.url,i=e.hashtags,o=e.via,a=new URLSearchParams;t&&a.append("text",t),r&&a.append("url",r),i&&a.append("hashtags",i.join(",")),o&&a.append("via",o);var u=a.toString();return u.length>0?"".concat(n,"?").concat(u):n}},25588:(e,t,r)=>{"use strict";r.d(t,{A:()=>u});var n=r(17844),i=r(93629),o=r(81073),a=r(52351);function u(e){return(0,o.Y)(a.Ay,(0,i._)((0,n._)({},e),{children:(0,o.Y)("path",{fillRule:"evenodd",d:"M11.47 4.47a.75.75 0 0 1 1.06 0l7 7a.75.75 0 1 1-1.06 1.06l-5.72-5.72V19a.75.75 0 0 1-1.5 0V6.81l-5.72 5.72a.75.75 0 0 1-1.06-1.06l7-7Z",clipRule:"evenodd"})}))}},27641:(e,t,r)=>{"use strict";r.d(t,{E:()=>o});var n=r(12584);function i(){var e=(0,n._)(["\n  fragment PublishedReplShareInfoReplData on Repl {\n    id\n    url\n    publishedAs\n    title\n  }\n"]);return i=function(){return e},e}var o=(0,r(41114).J1)(i())},35479:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i,v:()=>o});var n=r(41467),i=function(e){return e.Media="Media",e.Binary="Binary",e.Code="Code",e.Markdown="Markdown",e.Draw="Draw",e.Pedit="Pedit",e}({});function o(e){return(0,n.e$)(e)?"Markdown":(0,n.P1)(e)?"Draw":(0,n.rb)(e)?"Pedit":(0,n.FN)(e)?"Media":(0,n.Go)(e)?"Binary":"Code"}},39229:(e,t,r)=>{"use strict";r.d(t,{J:()=>c});var n=r(21462),i=r(95707),o=r(3171),a=r(86139),u=r(71424),l=r(50301),c=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=(0,u.A)().dotReplit,r=(0,a.$)(t),c=(0,l.xi)();return(0,n.useCallback)(function(t){return!!(0,o.yU)(t)||!!e&&!c&&((0,o.rp)(t)||(0,i.RZ)(t)||(0,i._L)(t)||(0,o.Mo)(t,r))},[c,r,e])}},40604:(e,t,r)=>{"use strict";r.d(t,{A:()=>A});var n=r(81073),i=r(70871),o=r(43303),a=r(18509),u=r(27023),l=r(11769),c=r(86733),s=r(83070),f=r(22089),d=r(4616),p=r(78626),h=r(85389),m=r(1035),v=r(41526),g=r(17844),y=r(93629),E=r(52351),_=function(e){return(0,n.Y)(E.Ay,(0,y._)((0,g._)({viewBox:"0 0 800.5 907.77"},e),{children:(0,n.Y)("path",{d:"M303.36,238.61c31.36-21.37,71.76-12.97,65-6.53c-12.89,12.28,4.26,8.65,6.11,31.31 c1.36,16.69-4.09,25.88-8.78,31.11c-9.79,1.28-21.69,3.67-36.02,8.33c-8.48,2.76-15.85,5.82-22.31,8.9 c-1.7-1.11-3.55-2.47-5.74-4.36C279.5,288.19,280.24,254.37,303.36,238.61 M490.68,370.72c5.69-4.41,31.55-12.72,55.49-15.55 c12.57-1.48,30.49-2.34,34.31-0.2c7.59,4.19,7.59,17.16,2.39,29.14c-7.57,17.4-18.27,36.63-30.39,38.21 c-19.77,2.61-38.46-8.09-59.8-24.03C485.06,392.56,480.38,378.68,490.68,370.72 M526.75,201.27c29.19,13.58,25.37,39.42,26.18,54.6 c0.22,4.36,0.15,7.3-0.22,9.32c-4.04-2.19-10.43-3.8-20.56-3.35c-2.96,0.12-5.84,0.47-8.63,0.91c-10.77-5.77-17.21-17.06-23.1-29.06 c-0.54-1.11-0.96-2.1-1.36-3.06c-0.17-0.44-0.35-0.91-0.52-1.31c-0.07-0.22-0.12-0.39-0.2-0.59c-3.23-10.25-1.06-12.3,0.3-15.46 c1.41-3.23,6.68-5.89-1.11-8.58c-0.67-0.25-1.5-0.39-2.44-0.57C500.25,197.72,515.7,196.17,526.75,201.27 M367.62,510.22 c-31.45-20.19-63.99-49.15-78.22-65.18c-2.39-1.8-2-9.79-2-9.79c12.84,9.98,66.11,48.04,122.44,65.42 c19.87,6.14,50.36,8.46,76.81-6.53c20.21-11.46,44.54-31.43,59.06-52.01l2.66,4.61c-0.1,3.06-6.78,17.97-10.18,23.96 c6.14,3.53,10.72,4.49,17.55,6.36l46.64-7.27c16.74-27.04,28.74-70.65,15.95-112.16c-7.3-23.81-45.36-71.22-48.09-73.83 c-9.56-9.19,1.6-44.69-17.35-83.42C532.86,159.41,480.67,116.69,458,98.1c6.68,4.88,47.82,21.47,67,44.62 c1.8-2.39,2.54-14.82,4.19-17.97c-16.47-21.57-17.75-59.95-17.75-70.21c0-18.81-9.56-40.13-9.56-40.13s16.47,13.04,20.73,35.5 c5.03,26.6,15.75,47.55,29.93,65.28c26.84,33.43,51.08,50.58,63.33,38.23C630.53,138.58,601,72.2,563.28,35.15 C519.25-8.09,507.74-2.52,481.91,6.7c-20.61,7.35-31.75,65.87-85.47,64.71c-9.1-1.06-32.54-1.63-44.13-1.53 c6.04-8.43,11.22-14.94,11.22-14.94s-18.02,7.25-33.38,16.44l-1.18-1.77c5.18-10.92,10.75-17.82,10.75-17.82s-14.4,8.65-27.54,19.01 c2.39-13.02,11.44-21.27,11.44-21.27s-18.19,3.28-41.36,28.77c-26.33,7.2-32.66,11.93-53.64,21.22 c-34.12-7.44-50.21-19.45-65.55-41.56c-11.68-16.89-32.47-19.45-53.71-10.72c-30.97,12.8-70.14,30.33-70.14,30.33 s12.77-0.52,26.08,0.05c-18.22,6.9-35.72,16.39-35.72,16.39s8.53-0.3,19.06-0.12c-7.27,6.04-11.29,8.92-18.22,13.51 c-16.66,12.1-30.17,26.08-30.17,26.08s11.31-5.15,21.47-8.04c-7.1,16.27-21.18,28.25-18.59,48.17 c2.49,18.19,24.82,55.66,53.64,78.66c2.49,2,41.86,38.43,71.56,23.47c29.68-14.94,41.39-28.25,46.27-48.66 c5.74-23.44,2.47-41.17-9.79-92.05c-4.04-16.79-14.57-51.37-19.65-67.91l1.13-0.81c9.71,20.49,34.56,74.5,44.57,110.78 c15.63,56.57,10.75,85.27,3.6,95.79c-21.57,31.73-76.84,35.92-101.98,18.34c-3.85,60.91,9.76,87.73,14.37,101.24 c-2.29,15.53,7.77,44.37,7.77,44.37s1.13-13.11,5.74-20.02c1.23,15.41,9,33.72,9,33.72s-0.47-11.31,3.06-21.08 c4.98,8.43,8.63,10.43,13.34,16.76c4.71,16.47,14.15,28.5,14.15,28.5s-1.53-8.83-0.69-18.02c23.05,22.14,27.02,54.45,29.31,79.28 c6.46,68.26-107.63,122.54-129.74,165.24c-16.76,25.29-26.8,65.3,1.58,88.89c68.6,56.97,42.25,72.65,76.59,97.69 c47.11,34.34,106.05,18.96,126.11-8.97c27.93-38.92,20.76-75.63,10.38-109.97c-8.11-26.85-30.15-71.46-57.41-88.72 c-27.86-17.65-54.95-20.95-77.9-18.59l2.12-2.44c33.01-6.56,67.52-2.96,92.49,13.14c28.35,18.22,54.28,49.47,67.84,97.37 c15.38-2.19,17.55-3.18,31.63-5.18l-31.7-246.76L367.62,510.22z M385.94,819.52l-3.65-34.22l71.29-108.74l80.93,23.64l69.59-116.23 L687.52,639l63.38-132.92l22.53,242.07L385.94,819.52z M774.27,456.51l-254.72,46.17c-6.31,8.13-21.91,22.41-29.41,26.13 c-32.17,16.2-53.91,11.51-72.7,6.63c-12.08-3.06-19.08-4.78-29.11-9.29l-62.17,8.53l37.74,314.87l436.35-78.66L774.27,456.51z"})}))},D=r(99998),b=(0,a.x)({styles0:[{alignItems:"center"}],styles1:[u.wp.align.center]});function A(e){var t=e.replId,r=e.showFlag,a=e.buttonsOnly,u=(0,o.D)().isDarkColorScheme;return(0,n.FD)(n.FK,{children:[(0,n.Y)(c.v,{href:"https://us5.datadoghq.com/logs?"+new URLSearchParams({query:"@replid:".concat(t)}).toString(),iconLeft:(0,n.Y)(_,{color:u?"#FFFFFF":"#632CA6"}),iconRight:(0,n.Y)(m.A,{}),target:"_blank",text:"View Datadog Logs by Repl ID"}),(0,n.Y)(c.v,{href:"https://us5.datadoghq.com/logs?"+new URLSearchParams({query:"@replid:".concat(t),agg_q:"@containerid",agg_q_source:"base",cols:"host,service",messageDisplay:"inline",stream_sort:"desc",top_n:"30",top_o:"top",viz:"transaction",x_missing:"true",live:"true"}).toString(),iconLeft:(0,n.Y)(_,{color:u?"#FFFFFF":"#632CA6"}),iconRight:(0,n.Y)(m.A,{}),target:"_blank",text:"View Datadog Logs by Container ID"}),void 0!==a&&a?(0,n.Y)(p.m_,{maxWidth:300,tooltip:(0,n.Y)(d.EY,{multiline:!1,children:t}),children:(0,n.Y)(l.$n,{iconLeft:(0,n.Y)(v.A,{}),text:"Copy Repl ID",onClick:function(){return(0,i.default)(t)}})}):(0,n.FD)(h.S,{css:b.styles0,row:!0,gap:2,children:[void 0!==r&&r?(0,n.FD)(p.m_,{tooltip:"You are seeing this functionality because you have special permissions.",children:[(0,n.Y)(D.A,{})," "]}):null,(0,n.FD)(d.EY,{css:b.styles1,multiline:!1,children:["Repl ID: ",(0,n.Y)(f.R,{children:t})]}),(0,n.Y)(s.K0,{alt:"Copy to clipboard",onClick:function(){return(0,i.default)(t)},children:(0,n.Y)(v.A,{})})]})]})}},45330:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(21462).createContext)(null)},46023:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n={brand:{darkBlue:"#0D101E",lightBlue:"#68CDEE",gray:"#6D7D84"},main:{green:{dark:"#0A6640",default:"#0F9960",light:"#3DCC91",25:"rgba(15,153,96,0.25)",15:"rgba(15,153,96,0.15)"},red:{dark:"#A82A2A",default:"#DB3737",light:"#FF7373",25:"rgba(219, 55, 55, 0.25)",15:"rgba(219, 55, 55, 0.15)"},blue:{dark:"#0068AD",default:"#0097FB",light:"#73C4FA",25:"rgba(0, 151, 251, 0.25)",15:"rgba(0, 151, 251, 0.15)"},orange:{dark:"#A14809",default:"#E16D1A",light:"#FC9C58",25:"rgba(225, 109, 26, 0.25)",15:"rgba(225, 109, 26, 0.15)"},purple:{dark:"#6213B1",default:"#9D43F7",light:"#BF80FF",25:"rgba(98, 19, 177, 0.25)",15:"rgba(98, 19, 177, 0.15)"},gold:{dark:"#A67908",default:"#D99E0B",light:"#FFC940",25:"rgba(217, 158, 11, 0.25)",15:"rgba(217, 158, 11, 0.15)"}},neutrals:{black:"#21242C",white:"#FFFFFF",offWhite:"#F7F8FA",black64:"rgba(33, 36, 44, 0.64)",black50:"rgba(33, 36, 44, 0.50)",black16:"rgba(33, 36, 44, 0.16)",black8:"rgba(33, 36, 44, 0.08)",white64:"rgba(255, 255, 255, 0.64)",white50:"rgba(255, 255, 255, 0.50)",white16:"rgba(255, 255, 255, 0.16)",white8:"rgba(255, 255, 255, 0.08)"},multiplayer:{green:"#1BC47D",red:"#EF5533",blue:"#18A0FB",purple:"#907CFF",teal:"#00B5CE",pink:"#EE46D3"},languages:{java:"#b07219",scheme:"#1e4aec",clojure:"#db5855",haskell:"#5e5086",lua:"#000080",ruby:"#701516",python:"#3572A5",go:"#00ADD8",cpp:"#f34b7d",c:"#555555","c#":"#178600","f#":"#b845fc",rust:"#dea584",swift:"#ffac45",r:"#198CE7",bash:"#000000",crystal:"#000100",julia:"#a270ba",elixir:"#6e4a7e",nim:"#37775b",dart:"#00B4AB",erlang:"#B83998",typescript:"#2b7489",elisp:"#c065db",sql:"#e34c26",php:"#4F5D95",html:"#e34c26",css:"#563d7c",javascript:"#f1e05a"},brands:{github:"#181717",twitter:"#00A8FF",discord:"#7289DA",facebook:"#3B5998",linkedin:"#0077B5"}}},47877:(e,t,r)=>{"use strict";r.d(t,{o:()=>s});var n=r(29935),i=r(12694),o=r(82643),a=r(41467),u=r(7769),l=r(38674),c=r(33090);function s(e){return f.apply(this,arguments)}function f(){return(f=(0,n._)(function(e){var t,r,s,f,d,p,h,m,v;function g(){return(g=(0,n._)(function(){var e;return(0,o.YH)(this,function(r){switch(r.label){case 0:if("function"==typeof t)return[2,t()];return[4,t.getConfig()];case 1:return[2,null==(e=r.sent().config)?void 0:e.entrypoint]}})})).apply(this,arguments)}function y(){return(y=(0,n._)(function(){var e,t;return(0,o.YH)(this,function(n){switch(n.label){case 0:if(!(e=d))return[2,null];if(!(0,a._6)(e))return[2,m.includes(e)?e:null];return[4,r.stat(e)];case 1:return[2,(t=n.sent()).exists&&t.type===c.pt.File?e:null]}})})).apply(this,arguments)}return(0,o.YH)(this,function(n){switch(n.label){case 0:return t=e.dotReplit,[4,Promise.all([(r=e.fs).readDir(l.Dl),function(){return g.apply(this,arguments)}()])];case 1:if(f=(s=i._.apply(void 0,[n.sent(),2]))[0],d=s[1],!f||f.error)throw Error("Could not read files");return h=(p=f.children).find(function(e){return e.type===c.pt.File&&e.filename.toLowerCase().endsWith("readme.md")}),m=p.filter(function(e){return e.type===c.pt.File}).map(function(e){return e.filename}),[4,function(){return y.apply(this,arguments)}()];case 2:if(v=n.sent())return[2,{entrypoint:v,readmeFile:null==h?void 0:h.filename}];return[2,{entrypoint:function(e){var t=e.find(function(e){return e.toLowerCase().endsWith("readme.md")});if(t)return t;if(e.includes("Makefile"))return"Makefile";var r=e.find(a.e$);return r||e.find(function(e){return![".replit","replit.nix"].includes(e)&&!(0,u.RZ)(e)&&!(0,u._L)(e)})}(m),readmeFile:null==h?void 0:h.filename}]}})})).apply(this,arguments)}},48238:(e,t,r)=>{"use strict";r.d(t,{A:()=>u});var n=r(17844),i=r(93629),o=r(81073),a=r(52351);function u(e){return(0,o.Y)(a.Ay,(0,i._)((0,n._)({},e),{children:(0,o.Y)("path",{fillRule:"evenodd",d:"M2.25 4.5A2.25 2.25 0 0 1 4.5 2.25h15a2.25 2.25 0 0 1 2.25 2.25v3c0 .576-.217 1.102-.573 1.5.356.398.573.924.573 1.5v3c0 .576-.217 1.102-.573 1.5.356.398.573.924.573 1.5v3a2.25 2.25 0 0 1-2.25 2.25h-11a2.25 2.25 0 0 1-2.25-2.25v-3c0-.576.217-1.102.573-1.5a2.242 2.242 0 0 1-.573-1.5v-3c0-.263.045-.515.128-.75H4.5A2.25 2.25 0 0 1 2.25 7.5v-3ZM19.5 8.25a.75.75 0 0 0 .75-.75v-3a.75.75 0 0 0-.75-.75h-15a.75.75 0 0 0-.75.75v3c0 .414.336.75.75.75h15Zm-11 1.5a.75.75 0 0 0-.75.75v3c0 .414.336.75.75.75h11a.75.75 0 0 0 .75-.75v-3a.75.75 0 0 0-.75-.75h-11Zm11 6h-11a.75.75 0 0 0-.75.75v3c0 .414.336.75.75.75h11a.75.75 0 0 0 .75-.75v-3a.75.75 0 0 0-.75-.75Z",clipRule:"evenodd"})}))}},50301:(e,t,r)=>{"use strict";r.d(t,{CP:()=>_,J0:()=>d.J0,Q4:()=>E.Q4,xi:()=>u.xi,Ne:()=>u.Ne,rM:()=>d.rM,gp:()=>u.gp,vO:()=>d.vO,u6:()=>u.u6,eg:()=>u.eg,F9:()=>y,W9:()=>s,xu:()=>u.xu,Qd:()=>u.Qd,RF:()=>g,gi:()=>f,Av:()=>u.Av});var n=r(81073),i=r(12694),o=r(21462),a=r(76957),u=r(67057),l=r(63492),c=(0,a.eU)(null);function s(){return(0,l.h)(c)}function f(){return(0,l.ob)(c)}var d=r(64237),p=r(35992),h=r(27741),m=(0,a.eU)(new Map),v=(0,a.eU)(null,function(e,t,r){t(m,function(e){return(0,p.jM)(e,function(e){r.indicatorType?e.set(r.paneType,r.indicatorType):e.delete(r.paneType)})})});function g(){return(0,l.ob)(v)}function y(e){var t=e.paneType;return(0,l.h)((0,h.A)(function(){return(0,a.eU)(function(e){return t?e(m).get(t):void 0})},[t]))}var E=r(72457);function _(e){var t,r=(t=e.isAgentOnboarding,(0,i._)((0,o.useState)(function(){var e=(0,a.y$)();return t&&e.set(u.QQ,!0),e}),1)[0]);return(0,n.Y)(l.IC.Provider,{value:r,children:e.children})}},52629:(e,t,r)=>{"use strict";function n(e){var t=document.createElement("canvas"),r=t.getContext("2d");if(t.width=e.width,t.height=e.height,!r)throw Error("failed to get canvas ctx");return{version:"1",width:e.width,height:e.height,palette:[[0,0,0,255],[255,255,255,255],[255,255,128,255],[255,128,255,255],[0,128,128,255],[128,0,255,255],[255,0,128,255],[0,255,255,255]],anims:{},frames:e.frames.map(function(n){var i=new window.ImageData(new Uint8ClampedArray(n.pixels),e.width,e.height);return r.putImageData(i,0,0),t.toDataURL()})}}function i(e){return new Promise(function(t,r){var n=new window.Image;n.src=e,n.onload=function(){t(n)},n.onerror=r})}function o(e){return new Promise(function(t,r){Promise.all(e.frames.map(i)).then(function(n){var i=document.createElement("canvas");i.width=e.width,i.height=e.height;var o=i.getContext("2d");if(!o)return void r(Error("failed to get canvas ctx"));t({frames:n.map(function(t){return o.drawImage(t,0,0),{pixels:Array.from(o.getImageData(0,0,e.width,e.height).data),width:e.width,height:e.height}}),preview:e.frames[0],width:e.width,height:e.height})}).catch(r)})}r.d(t,{L:()=>n,t:()=>o})},54781:(e,t,r)=>{"use strict";r.d(t,{A:()=>u});var n=r(17844),i=r(93629),o=r(81073),a=r(52351);function u(e){return(0,o.FD)(a.Ay,(0,i._)((0,n._)({},e),{children:[(0,o.Y)("path",{fill:"url(#paint0_linear_7101_264)",fillRule:"evenodd",d:"M24 3.429a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0ZM6.857 12A3.429 3.429 0 1 0 0 12a3.429 3.429 0 0 0 6.857 0ZM3.43 0a3.429 3.429 0 0 1 3.428 3.429v.027a5.143 5.143 0 0 0 5.14 5.115H12a3.429 3.429 0 1 1 0 6.858h-.007a5.143 5.143 0 0 0-5.136 5.116v.026a3.429 3.429 0 1 1-3.428-3.428h.004a5.143 5.143 0 0 0-.005-10.286 3.429 3.429 0 0 1 0-6.857Zm12 3.429a3.429 3.429 0 1 0-3.43 3.428 5.143 5.143 0 0 1 .005 10.286H12a3.429 3.429 0 1 0 3.429 3.428v-.027a5.143 5.143 0 0 1 5.135-5.115h.007a3.429 3.429 0 1 0 0-6.858h-.003a5.143 5.143 0 0 1-5.14-5.106V3.43Zm5.142 13.714a3.429 3.429 0 1 1 0 6.857 3.429 3.429 0 0 1 0-6.857Z",clipRule:"evenodd"}),(0,o.Y)("defs",{children:(0,o.FD)("linearGradient",{id:"paint0_linear_7101_264",x1:"0",x2:"24",y1:"0",y2:"24",gradientUnits:"userSpaceOnUse",children:[(0,o.Y)("stop",{stopColor:"#A694FF"}),(0,o.Y)("stop",{offset:"1",stopColor:"#795EFF"})]})})]}))}},55100:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(21462),i=r(45330);function o(){var e=(0,n.useContext)(i.A);if(!e)throw Error("Expected Repl info to be in context");return e.id}},55352:(e,t,r)=>{"use strict";r.d(t,{A:()=>u});var n=r(17844),i=r(93629),o=r(81073),a=r(52351);function u(e){return(0,o.Y)(a.Ay,(0,i._)((0,n._)({},e),{children:(0,o.Y)("path",{fillRule:"evenodd",d:"M14.558 2.724A6.25 6.25 0 0 1 23.202 8.5a6.249 6.249 0 0 1-1.832 4.42l-8.84 8.84a.75.75 0 0 1-1.06 0l-8.84-8.84a6.251 6.251 0 1 1 8.84-8.84l.53.53.53-.53a6.25 6.25 0 0 1 2.028-1.356ZM20.31 5.14a4.75 4.75 0 0 0-6.72 0L12.53 6.2a.75.75 0 0 1-1.06 0l-1.06-1.06a4.751 4.751 0 0 0-6.72 6.72L12 20.17l8.31-8.31a4.752 4.752 0 0 0 0-6.72Z",clipRule:"evenodd"})}))}},62252:(e,t,r)=>{"use strict";r.d(t,{A:()=>u});var n=r(17844),i=r(93629),o=r(81073),a=r(52351);function u(e){return(0,o.Y)(a.Ay,(0,i._)((0,n._)({},e),{children:(0,o.Y)("path",{fillRule:"evenodd",d:"M4 21.75A2.75 2.75 0 0 1 1.25 19V5A2.75 2.75 0 0 1 4 2.25h5a.75.75 0 0 1 .624.334l1.777 2.666H20A2.75 2.75 0 0 1 22.75 8v1.213c.835.559 1.34 1.56 1.2 2.643l-.98 7.5a2.75 2.75 0 0 1-2.726 2.394H4ZM3.116 4.116A1.25 1.25 0 0 1 4 3.75h4.599l1.777 2.666A.75.75 0 0 0 11 6.75h9A1.25 1.25 0 0 1 21.25 8v.75H5.256a2.75 2.75 0 0 0-2.506 1.617V5c0-.332.132-.65.366-.884ZM4.278 20.25h15.966a1.25 1.25 0 0 0 1.24-1.088l.978-7.5a1.25 1.25 0 0 0-1.24-1.412H5.256a1.25 1.25 0 0 0-1.24 1.088l-.978 7.5a1.25 1.25 0 0 0 1.24 1.412Z",clipRule:"evenodd"})}))}},63166:(e,t,r)=>{"use strict";r.d(t,{A:()=>y});var n=r(83846),i=r(17844),o=r(93629),a=r(81073),u=r(18509),l=r(15311),c=r(27023),s=r(22422),f=r(78626),d=r(85389),p=(0,l.v)(["size","fontSize","listGap","iconTextGap","avatarOverlap","tooltipFontSize"]),h=p.styleTokens,m=p.cssVars,v=(0,u.x)({avatarsRow:[{"& > *":{marginLeft:"calc(-0.4 * ".concat(h.size,")")},"& > *:first-child":{marginLeft:0}}],countCirlce:[c.wp.center,c.wp.overflow("hidden"),c.wp.backgroundColor.backgroundDefault,c.wp.color.foregroundDimmer,c.wp.px(2),{borderRadius:"50%",minWidth:h.size,height:h.size,fontSize:h.fontSize}],tooltop:[{gap:h.listGap,gridTemplateColumns:"repeat(auto-fill, 200px)"}],tooltipText:[c.wp.truncate,c.wp.color.foregroundDimmer,{paddingLeft:h.iconTextGap,fontSize:h.tooltipFontSize}],stackItem:[]}),g={12:{fontSize:8,listGap:2,iconTextGap:2,tooltipAvatarSize:12,tooltipFontSize:8},16:{fontSize:10,listGap:2,iconTextGap:2,tooltipAvatarSize:16,tooltipFontSize:10},24:{fontSize:12,listGap:4,iconTextGap:4,tooltipAvatarSize:16,tooltipFontSize:12},32:{fontSize:14,listGap:4,iconTextGap:4,tooltipAvatarSize:16,tooltipFontSize:14},40:{fontSize:16,listGap:8,iconTextGap:4,tooltipAvatarSize:24,tooltipFontSize:14},48:{fontSize:24,listGap:8,iconTextGap:4,tooltipAvatarSize:24,tooltipFontSize:14}};function y(e){var t,r,u,l,c,p,h,y,E,_=e.activeUsers,D=e.visibleNumOfUsers,b=void 0===D?3:D,A=e.size,w=void 0===A?24:A,I=_.length,U=(E={},(0,n._)(E,m.size,w+"px"),(0,n._)(E,m.fontSize,(null!=(c=null==(t=g[w])?void 0:t.fontSize)?c:w)+"px"),(0,n._)(E,m.listGap,(null!=(p=null==(r=g[w])?void 0:r.listGap)?p:8)+"px"),(0,n._)(E,m.iconTextGap,(null!=(h=null==(u=g[w])?void 0:u.iconTextGap)?h:8)+"px"),(0,n._)(E,m.tooltipFontSize,(null!=(y=null==(l=g[w])?void 0:l.tooltipFontSize)?y:14)+"px"),E),R=I>b,S=_.slice(0,R?b-1:b);return(0,a.Y)(f.m_,{tooltip:(0,a.Y)(d.S,{css:v.tooltop,style:U,children:_.map(function(e){var t;return(0,a.FD)(d.S,{row:!0,gap:2,align:"center",children:[(0,a.Y)(s.e,{size:(null==(t=g[w])?void 0:t.tooltipAvatarSize)||w,src:e.image||null,ringColor:e.color,username:e.username},e.id),(0,a.Y)(d.S,{css:v.tooltipText,grow:!0,shrink:!0,children:e.username})]},e.username)})}),children:function(e,t){return(0,a.FD)(d.S,(0,o._)((0,i._)({},e),{tag:"ul",innerRef:t,css:v.avatarsRow,row:!0,style:U,children:[S.map(function(e,t){return(0,a.Y)(d.S,{tag:"li",style:{zIndex:t+1},css:v.stackItem,children:(0,a.Y)(s.e,{size:w,src:e.image||null,ringColor:e.color,username:e.username})},e.id)}),R?(0,a.Y)(d.S,{tag:"li",css:v.stackItem,style:{zIndex:S.length},children:(0,a.Y)(d.S,{css:v.countCirlce,children:(0,a.FD)(d.S,{children:["+",I-b+1]})})}):null]}))}})}},63816:(e,t,r)=>{"use strict";r.d(t,{D:()=>H});var n=r(83846),i=r(12694),o=r(81073),a=r(21462),u=r(41467),l=r(38674),c=r(33090),s=r(32331),f=r(71424),d=r(75267),p=r(39229),h=r(42793),m=r(36937),v=r(18509),g=r(85051),y=r(15311),E=r(27023),_=r(43813),D=r(36075),b=r(41358),A=r(85389),w=r(54613),I=r(2188);function U(e){var t=e.node;return t.type===c.pt.Directory?(0,o.Y)(I.A,{size:12}):(0,o.Y)(_.A,{size:12,path:t.path})}var R=(0,y.v)(["menuY","menuX"]),S=R.cssVars,x=R.styleTokens,N=(0,v.x)({root:[E.wp.maxHeight(400),E.wp.position.absolute,E.wp.borderRadius(8),E.wp.shadow(3),{border:"1px solid",borderColor:m.LU.outlineDefault,top:x.menuY,left:x.menuX,"& > div":[E.wp.maxHeight(400)]}]}),T=(0,h.AH)([g.b.nofill,{transitionProperty:"background-color, box-shadow, opacity",opacity:.8,":focus":{zIndex:1,opacity:1}}]),C={button:(0,h.AH)([E.wp.reset.button,E.wp.p(2),E.wp.rowWithGap(4),E.wp.align.center,T]),text:(0,h.AH)({fontSize:m.LU.fontSizeSmall})},O={opacity:1};function L(e){var t,r=e.node,c=e.openFile,f=e.expandable,d=void 0===f||f,p=(0,i._)((0,a.useState)(!1),2),h=p[0],m=p[1],v=(0,a.useRef)(null),g=(0,s.A)(function(e){var t;h&&(e.target instanceof HTMLElement&&(null==(t=v.current)?void 0:t.contains(e.target))||m(!1))},[h]),y=(0,a.useId)(),E=(0,a.useId)(),_=(0,u._6)(r.path)||l.Dl,w=(0,u.WP)(r.path);function I(){var e,t=null==(e=v.current)?void 0:e.getBoundingClientRect();t&&d&&m({x:t.x+"px",y:t.y+t.height+4+"px"})}return(0,o.FD)(o.FK,{children:[(0,o.FD)(A.S,{innerRef:v,tag:"button",id:y,style:h?O:void 0,"aria-haspopup":"true","aria-expanded":!!h,"aria-controls":E,css:C.button,onClick:function(){d&&(h?m(!1):I())},onKeyDown:function(e){switch(e.key){case" ":case"Enter":case"ArrowDown":if(!d)return;I()}},children:[(0,o.Y)(U,{node:r}),(0,o.Y)(A.S,{css:C.text,children:w})]}),h&&d?(0,o.Y)(D.Z,{children:(0,o.Y)(b.ui,{id:E,css:N.root,innerRef:g,style:(t={},(0,n._)(t,S.menuX,h.x),(0,n._)(t,S.menuY,h.y),t),onKeyDown:function(e){if("Escape"===e.key){var t;m(!1),null==(t=v.current)||t.focus()}},children:(0,o.Y)(M,{openFile:c,parentPath:_,currentPath:r.path,readOnly:e.readOnly})})}):null]})}function M(e){var t=(0,f.A)().fs,r=(0,p.J)(!0),n=(0,a.useCallback)(function(e){return!r(e.filename)},[r]),i=(0,d.u)({fs:t,filter:n,focusedPath:e.currentPath,fontSize:13,root:e.parentPath,manageWidth:!0,onFileSelect:function(t){var r=t.path;e.openFile(r)},alwaysShowCreateRow:!0,readOnly:e.readOnly});return(0,o.Y)(d.J,{store:i.store})}var Z=(0,h.AH)([E.wp.flex.row,E.wp.align.center,E.wp.height("100%"),E.wp.px(2)]),H=(0,a.memo)(function(e){var t,r,n=e.path,i=e.onFileClick,u=e.expandable,l=void 0===u||u,s=e.readOnly,f=e.children,d=(r=(t=n.split("/")).length,t.map(function(e,n){return{type:n===r-1?c.pt.File:c.pt.Directory,path:t.slice(0,n+1).join("/")}}));return(0,o.FD)(A.S,{css:Z,children:[d.map(function(e){return(0,o.FD)(a.Fragment,{children:[(0,o.Y)(L,{node:e,openFile:i,expandable:l,readOnly:s}),e.type===c.pt.Directory?(0,o.Y)(w.A,{size:12}):null]},CSS.escape(e.path))}),f||null]})})},64237:(e,t,r)=>{"use strict";r.d(t,{Af:()=>f,EZ:()=>l,J0:()=>o,rM:()=>c,vO:()=>s});var n=r(76957),i=r(63492),o=(0,n.eU)(null),a=(0,n.eU)(function(e){var t=e(o);return(null==t?void 0:t.isVisible)?t.path:null}),u=(0,n.eU)(null,function(e,t,r,n){switch(n.type){case"focus":return void t(o,{hasFocus:!0,isVisible:!0,position:n.position,path:r});case"update":return void t(o,{hasFocus:n.hasFocus,isVisible:!0,position:n.position,path:r});case"blur":return void t(o,function(e){var t;return{hasFocus:!1,isVisible:!!(null==e?void 0:e.isVisible),position:null!=(t=null==e?void 0:e.position)?t:{line:1,column:1,offset:0},path:r}});case"unmount":return void t(o,null);case"hidden":return void t(o,function(e){var t;return{hasFocus:!1,isVisible:!1,position:null!=(t=null==e?void 0:e.position)?t:{line:1,column:1,offset:0},path:r}});case"unhidden":return void t(o,function(e){var t;return{hasFocus:!!(null==e?void 0:e.hasFocus),isVisible:!0,position:null!=(t=null==e?void 0:e.position)?t:{line:1,column:1,offset:0},path:r}})}});function l(){return(0,i.ob)(u)}function c(){return(0,i.h)(a)}function s(){return(0,i.Ou)(o)}function f(){return(0,i.AI)(o)}},66246:e=>{e.exports={surface:"InlineCode_surface__XllZg"}},67057:(e,t,r)=>{"use strict";r.d(t,{Av:()=>_,Cv:()=>x,Ne:()=>R,QQ:()=>D,Qd:()=>y,eg:()=>b,gp:()=>A,nb:()=>U,rN:()=>I,u6:()=>g,xi:()=>h,xu:()=>m});var n=r(12694),i=r(86105),o=r(21462),a=r(76957),u=r(69737),l=r(26072),c=r(55100),s=r(30908),f=r(63492),d=(0,u.KU)(function(){return{getItem:function(e){return s.A.get(e,"string")},setItem:function(e,t){return s.A.set(e,t)},removeItem:function(e){return s.A.remove(e)}}}),p=(0,u.tG)("areHiddenFilesVisible",!1,d);function h(){return(0,f.h)(p)}function m(){return(0,f.ob)(p)}var v=(0,a.eU)(null);function g(){return(0,f.Ou)(v)}function y(){return(0,f.ob)(v)}var E=(0,a.eU)((0,l.F)(!1));function _(){return(0,f.h)(E)}var D=(0,a.eU)(!1);function b(){return(0,f.h)(D)}function A(){var e=(0,f.ob)(D);return(0,o.useCallback)(function(){return e(!1)},[e])}var w=(0,a.eU)(!1);function I(){return(0,f.h)(w)}function U(){return(0,f.ob)(w)}function R(){var e=(0,c.A)(),t=e?"".concat("auth-blueprint-approved",":").concat(e):null;return[!!t&&"true"===s.A.get(t,"string"),(0,o.useCallback)(function(e){t&&s.A.set(t,e?"true":"false")},[t])]}var S=(0,a.eU)([]);function x(e){var t=(0,c.A)(),r=(0,f.h)(S),a=(0,f.ob)(S),u="ws-tool-added-to-dock:".concat(e,":").concat(t),l=(0,n._)((0,o.useState)(function(){return s.A.get(u,"string")}),2),d=l[0],p=l[1],h=(0,o.useCallback)(function(t){s.A.set(u,t),p(t),"was-added-by-agent"!==t||r.includes(e)||a((0,i._)(r).concat([e]))},[u,r,a,e]),m=(0,o.useCallback)(function(){h("callout-dismissed"),a(r.filter(function(t){return t!==e}))},[r,e,a,h]);return{toolState:d,setToolState:h,dismissCallout:m,showCallout:"was-added-by-agent"===d&&r.length>0&&r[0]===e}}},67382:(e,t,r)=>{"use strict";r.d(t,{A:()=>u});var n=r(17844),i=r(93629),o=r(81073),a=r(52351);function u(e){return(0,o.Y)(a.Ay,(0,i._)((0,n._)({},e),{children:(0,o.Y)("path",{fillRule:"evenodd",d:"M20.593 10.91a1.25 1.25 0 0 1 0 2.18l-14.48 8.145a1.25 1.25 0 0 1-1.863-1.09V3.855a1.25 1.25 0 0 1 1.863-1.09l14.48 8.146Z",clipRule:"evenodd"})}))}},67843:(e,t,r)=>{"use strict";r.d(t,{A:()=>u});var n=r(17844),i=r(93629),o=r(81073),a=r(52351);function u(e){return(0,o.Y)(a.Ay,(0,i._)((0,n._)({},e),{children:(0,o.Y)("path",{fillRule:"evenodd",d:"M12 4.25a.75.75 0 0 1 .75.75v12.19l5.72-5.72a.75.75 0 1 1 1.06 1.06l-7 7a.75.75 0 0 1-1.06 0l-7-7a.75.75 0 1 1 1.06-1.06l5.72 5.72V5a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"})}))}},68373:(e,t,r)=>{"use strict";r.d(t,{U:()=>o});var n=r(95707),i=r(38674);function o(e){var t=e.siblingNames,r=e.fileName,o=e.initialValue,a=e.parentPath;if(r.includes("/"))return"File names cannot include forward slashes";if("."===r||".."===r)return'File names cannot be "'.concat(r,'"');if(r.match(/^\s/)||r.match(/\s$/))return"File names cannot start or end with whitespace";if(o!==r&&t.includes(r))return"A file or folder with that name already exists";if(r.length>100)return"File names cannot be longer than 100 characters";var u=a===i.Dl?r:a+"/"+r;return(0,n.RZ)(u)?'"'.concat(u,'" is reserved'):null}},70633:(e,t,r)=>{"use strict";function n(e){return Math.log(e)*Math.LOG10E+1|0}function i(e,t,r){return Math.floor(Math.min(t,Math.max(e,r)))}r.d(t,{E:()=>i,V:()=>n})},72457:(e,t,r)=>{"use strict";r.d(t,{Q4:()=>x,DJ:()=>I,q6:()=>L});var n=r(29935),i=r(12694),o=r(86105),a=r(82643),u=r(21462),l=r(23099),c=r.n(l),s=r(35992),f=r(76957),d=r(69737),p=r(96907),h=r.n(p),m=r(12584);function v(){var e=(0,m._)(["\n  query WorkspaceSessionPresence($userIds: [Int!]!) {\n    usersByIds(ids: $userIds) {\n      id\n      image\n    }\n  }\n"]);return v=function(){return e},e}var g=(0,r(41114).J1)(v()),y=r(78502),E=r(27741),_=r(81869),D=r(77562),b=r(63492),A=(0,f.eU)(new Map),w=(0,f.eU)(null,function(e,t,r){return t(A,function(e){return(0,s.jM)(e,function(e){e.set(r.userId,r.color)})})});function I(){var e=(0,b.Ou)(R),t=(0,b.ob)(w);return(0,u.useCallback)(function(r){var n,i=e(),o=null==(n=i.get(r.userId))?void 0:n.color;return o||t({color:o=(0,D.a4)(Object.values(i)),userId:r.userId}),o},[e,t])}function U(e,t,r,n){var i=n||{timestamp:Math.floor(Date.now()/1e3),activeFile:null},a=e.get(t.id);if(a)return void a.sessions.set(t.session,i);e.set(t.id,{id:t.id,username:t.name,color:null!=r?r:(0,D.a4)((0,o._)(e.values())),roles:t.roles,sessions:new Map([[t.session,i]])})}var R=(0,f.eU)(new Map),S=((0,d.mg)(R,function(e){var t=new Map,r=!0,n=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var l=(0,i._)(a.value,2)[1],c=null,s=!0,f=!1,d=void 0;try{for(var p,h=l.sessions[Symbol.iterator]();!(s=(p=h.next()).done);s=!0){var m=(0,i._)(p.value,2)[1];m.activeFile&&(c&&c.timestamp>m.timestamp||(c=m))}}catch(e){f=!0,d=e}finally{try{s||null==h.return||h.return()}finally{if(f)throw d}}if(null==c?void 0:c.activeFile){var v=t.get(c.activeFile),g={id:l.id,username:l.username,image:l.image,color:l.color,roles:l.roles};v?v.push(g):t.set(c.activeFile,[g])}}}catch(e){n=!0,o=e}finally{try{r||null==u.return||u.return()}finally{if(n)throw o}}return t},c()),(0,d.mg)(R,function(e){return(0,o._)(e.values()).map(function(e){return{id:e.id,username:e.username,color:e.color,image:e.image,roles:e.roles}})},c()));function x(){return(0,b.h)(S)}function N(e){var t=e.id,r=e.name,n=e.session,i=e.roles;return t&&r&&n&&i?{id:t,name:r,session:n,roles:i}:null}function T(e){var t=e.seconds,r=e.nanos;return"number"!=typeof t||"number"!=typeof r?null:(0,D.iY)({seconds:t,nanos:r})}var C=(0,f.eU)(null,function(e,t,r,n){t(R,function(t){return(0,s.jM)(t,function(t){var o;if(null==(o=r.roster)?void 0:o.user){var a=!0,u=!1,l=void 0;try{for(var c,s=r.roster.user[Symbol.iterator]();!(a=(c=s.next()).done);a=!0){var f=c.value,d=N(f);if(null!==d&&(null==d?void 0:d.id)!==n){var p=function(e,t){if(!e.files)return null;var r=e.files.find(function(e){return e.userId===t.id&&e.session===t.session});if(!r)return null;var n=r.timestamp?T(r.timestamp):null;return n?{activeFile:r.file||null,timestamp:n}:null}(r.roster,d),h=e(A).get(d.id);U(t,d,h,p)}}}catch(e){u=!0,l=e}finally{try{a||null==s.return||s.return()}finally{if(u)throw l}}return}if(r.join){var m=N(r.join);if(!m||m.id===n)return;var v=e(A).get(m.id);U(t,m,v);return}if(r.part){var g,y,E=r.part,_=E.id,D=E.session;if(!_||!D)return;g={id:_,session:D},(y=t.get(g.id))&&(1===y.sessions.size?t.delete(g.id):y.sessions.delete(g.session));return}if(r.fileOpened){var b=r.fileOpened,w=b.session,I=b.userId,R=b.file,S=r.fileOpened.timestamp?T(r.fileOpened.timestamp):null;if(!S||!w||!I||!R)return;var x={timestamp:S,session:w,userId:I,file:R},C=t.get(x.userId);if(C){var O=C.sessions.get(x.session);O?(O.timestamp=x.timestamp,O.activeFile=x.file):C.sessions.set(x.session,{timestamp:x.timestamp,activeFile:x.file})}return}if(r.sessionTimestampUpdated){var L=r.sessionTimestampUpdated.session,M=r.sessionTimestampUpdated.timestamp?T(r.sessionTimestampUpdated.timestamp):null;if(!M||!L)return;!function(e,t){var r=t.session,n=t.timestamp,o=!0,a=!1,u=void 0;try{for(var l,c=e[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){var s=(0,i._)(l.value,2)[1].sessions.get(r);if(s){s.timestamp=n;break}}}catch(e){a=!0,u=e}finally{try{o||null==c.return||c.return()}finally{if(a)throw u}}}(t,{timestamp:M,session:L});return}})})}),O=(0,f.eU)(null,function(){var e=(0,n._)(function(e,t){var r,n,o,u,l,c,f,d,p,h,m;return(0,a.YH)(this,function(a){switch(a.label){case 0:r=[],n=e(R),o=!0,u=!1,l=void 0;try{for(c=n[Symbol.iterator]();!(o=(f=c.next()).done);o=!0)p=(d=(0,i._)(f.value,2))[0],d[1].image||r.push(p)}catch(e){u=!0,l=e}finally{try{o||null==c.return||c.return()}finally{if(u)throw l}}if(!r.length)return[2];return[4,null===_.V||void 0===_.V?void 0:_.V.query({query:g,variables:{userIds:r}})];case 1:if(!(m=null==(h=a.sent())?void 0:h.data.usersByIds))return[2];return t(R,function(e){return(0,s.jM)(e,function(e){var t=!0,r=!1,n=void 0;try{for(var i,o=m[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value,u=e.get(a.id);u&&(u.image=a.image)}}catch(e){r=!0,n=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw n}}})}),[2]}})});return function(t,r){return e.apply(this,arguments)}}());function L(){var e=(0,y.T)(),t=(0,b.ob)(O),r=(0,b.ob)(C),n=(0,b.AI)(R);return(0,u.useEffect)(function(){t();var e=h()(t,2e3);return n.subscribe(function(){return e()})},[t,n]),(0,E.A)(function(){return function(t){e&&r(t,e)}},[r,e])}},75267:(e,t,r)=>{"use strict";r.d(t,{J:()=>no,u:()=>ni});var n,i,o,a,u,l=r(83846),c=r(86105),s=r(81073),f=r(21462),d=r(33090),p=r(7814),h=r(81986),m=r(29935),v=r(12694),g=r(82643),y=r(76957),E=r(41467),_=r(35992),D=r(69737),b=r(95707),A=r(38674),w=r(5855),I=r(3171),U=r(88645),R="No files",S="Loading...";function x(e,t){var r=t.fromIndex;if("next"===t.dir){for(var n=r+1;n<e.length;n++){var i=e[n];if(i&&("dir"===i.type||"file"===i.type))return i}return null}for(var o=r-1;o>=0;o--){var a=e[o];if(a&&("dir"===a.type||"file"===a.type))return a}return null}function N(e,t,r){if(r){var n=b.ap.includes(t.filename),i=b.ap.includes(e.filename);if(n&&!i)return -1;if(!n&&i)return 1;var o=b.UC.includes(t.filename),a=b.UC.includes(e.filename);if(o&&!a)return -1;if(!o&&a)return 1}return t.type===d.pt.Directory&&e.type!==d.pt.Directory?1:e.type===d.pt.Directory&&t.type!==d.pt.Directory?-1:(0,E.yh)(e.filename,t.filename)}function T(e){var t=e.row,r=e.baseDepth;return"dir"===t.type||"file"===t.type||"uploadFile"===t.type?t.path===A.Dl?0:(0,E.jP)(t.path)-1-r:t.dir===A.Dl?0:(0,E.jP)(t.dir)-r}var C=function(e,t){return e===A.Dl?t:e+"/"+t},O=function(e,t){return e===A.Dl&&1===(0,E.jP)(t)||(0,w.GG)(e,t)},L=(0,y.eU)(new Map),M=(0,y.eU)({width:0,height:0}),Z=(0,y.eU)(0),H=(0,y.eU)(null),F=(0,y.eU)(new Map),Y=(0,y.eU)(function(e){var t;return null!=(t=e(K).root)?t:A.Dl}),P=(0,y.eU)(null),k=(0,y.eU)(void 0),G=(0,y.eU)(null),B=(0,y.eU)(null,function(e,t,r){e(X)||t(G,r)}),j=(0,y.eU)(function(e){var t=e(K).root,r=void 0===t?A.Dl:t;return r===A.Dl?0:(0,E.jP)(r)}),z=(0,y.eU)(function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=[],n=0,i=!0,o=!1,a=void 0;try{for(var u,l=(0,c._)(e.values()).sort(function(e,t){return e.index-t.index})[Symbol.iterator]();!(i=(u=l.next()).done);i=!0){var s=u.value,f={height:s.height,y:s.y,cols:[]};if(r.push(f),0!==s.depth){var d=s.depth+t;d>n&&(n=d);for(var p="divider"===s.row.type||"error"===s.row.type||"create"===s.row.type||"emptyDir"===s.row.type?s.row.dir:(0,E._6)(s.row.path),h=p.split("/"),m=0;m<(0,E.jP)(p);m++){var g=h.slice(0,Number(m+1)).join("/");f.cols.push(g)}}}}catch(e){o=!0,a=e}finally{try{i||null==l.return||l.return()}finally{if(o)throw a}}for(var y=new Map,_=t;_<n;_++){var D=[];y.set(_,D);var b=!0,A=!1,w=void 0;try{for(var I,U=r[Symbol.iterator]();!(b=(I=U.next()).done);b=!0){var R=I.value,S=R.cols[_],x=R.y;if(S){var N=D[D.length-1];N&&N.y+N.height===x?N.height+=R.height:D.push({y:x,height:R.height,dir:S,depth:_-t})}}}catch(e){A=!0,w=e}finally{try{b||null==U.return||U.return()}finally{if(A)throw w}}}var T=[],C=!0,O=!1,L=void 0;try{for(var M,Z=y[Symbol.iterator]();!(C=(M=Z.next()).done);C=!0){var H=(0,v._)(M.value,2),F=(H[0],H[1]);T.push.apply(T,(0,c._)(F))}}catch(e){O=!0,L=e}finally{try{C||null==Z.return||Z.return()}finally{if(O)throw L}}return T}(e(F),e(j))}),W=(0,y.eU)(!1),V=(0,y.eU)(null,function(e,t,r){var n=new Map,i=e(em),o=e(j),a=!0,u=!1,l=void 0;try{for(var c,s=r.rows[Symbol.iterator]();!(a=(c=s.next()).done);a=!0){var f=c.value,d=f.key.toString(),p=i[f.index];if(p){var h=Math.max(0,T({row:p,baseDepth:o}));n.set(f.index,{y:f.start+8,height:f.size,index:f.index,key:d,depth:h,row:p})}}}catch(e){u=!0,l=e}finally{try{a||null==s.return||s.return()}finally{if(u)throw l}}t(F,n),t(Z,r.scrollHeight+16)}),K=(0,y.eU)({}),$=(0,D.mg)(K,function(e){var t;return null!=(t=e.onContextMenu)?t:null}),X=(0,y.eU)(function(e){return!!e(K).readOnly||!e(W)}),q=(0,y.eU)(function(e){var t;return null!=(t=e(K).fontSize)?t:14}),J=function(e,t){if("divider"===t)switch(e){case 10:return 28;case 12:case 13:case 14:return 38;case 18:return 44;default:return 48}switch(e){case 10:return 18;case 12:case 13:return 24;case 14:return 32;case 18:return 38;default:return 40}},Q=(0,y.eU)(function(e){return J(e(q),"file")}),ee=function(e){switch(e){case 10:case 12:return 12;case 13:case 14:return 16;case 18:return 20;default:return 24}},et=(0,y.eU)(function(e){return ee(e(q))}),er=(0,y.eU)(function(e){return 14>e(q)?4:8}),en=(0,y.eU)(function(e){return 14>=e(q)?4:8}),ei=(0,y.eU)(function(e){return 13===e(q)?6:16>e(q)?4:8}),eo=function(e){switch(e){case 10:return 10;case 12:case 13:case 14:return 12;case 18:return 14;default:return 18}},ea=function(e){switch(e){case 10:return 12;case 12:case 13:return 16;case 14:return 24;case 18:return 32;default:return 40}},eu=(0,y.eU)(function(e){return ea(e(q))}),el=(0,y.eU)(function(e){return eo(e(q))}),ec=function(e){switch(e){case 10:case 12:case 13:return 10;case 14:case 18:return 16;default:return 20}},es=(0,y.eU)(function(e){return ec(e(q))}),ef=(0,y.eU)(new Map);function ed(e){var t=e.filename;return b.ap.includes(t)?"Config files":b.UC.includes(t)?"Packager files":null}var ep=(0,y.eU)([]),eh=(0,y.eU)([]),em=(0,y.eU)(function(e){var t,r,n=e(K),i=n.filter,o=n.alwaysShowCreateRow,a=n.root,u=void 0===a?A.Dl:a,l=n.sort,s=n.readOnly;return function(e){var t=e.root,r=void 0===t?A.Dl:t,n=e.dirInfo,i=e.filter,o=e.sort,a=e.getSection,u=e.readOnly,l=e.pendingUploads,s=e.pendingMoves,f=e.pathBeingRenamed,p=e.alwaysShowCreateRow,h=[],m=(null==l?void 0:l.length)?function(e){var t=new Map,r=!0,n=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(r=(o=a.next()).done);r=!0){var u=o.value,l=(0,E._6)(u.targetPath)||A.Dl,c=t.get(l),s={filename:(0,E.WP)(u.targetPath),progress:u.progress};c?c.push(s):t.set(l,[s])}}catch(e){n=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw i}}return t}(l):null,g=new Map,y=new Map;if(null==s?void 0:s.length){var _=!0,D=!1,b=void 0;try{for(var w,R=s[Symbol.iterator]();!(_=(w=R.next()).done);_=!0){var S=w.value,x=S.from,N=S.to;g.set(x.path,x.type),y.set(N,x.type)}}catch(e){D=!0,b=e}finally{try{_||null==R.return||R.return()}finally{if(D)throw b}}}return!function e(t){var l=n.get(t);if(!(!l||g.has(t))&&l.expanded){if(t===r&&l.loading&&!l.children)return void h.push({type:"dir",path:t});if(l.error)return void h.push({type:"error",message:l.error.message,dir:t});var s=l.children?(0,c._)(l.children):void 0;(s=null==s?void 0:s.filter(function(e){return!(0,I.yU)(e.filename)}))&&g.size>0&&(s=s.filter(function(e){return!g.has(C(t,e.filename))}));var _=!0,D=!1,b=void 0;try{for(var w,R=y[Symbol.iterator]();!(_=(w=R.next()).done);_=!0)!function(){var e=(0,v._)(w.value,2),r=e[0],n=e[1];if(!O(t,r))return;var i=(0,E.WP)(r);if(null==s?!void 0:!s.some(function(e){return e.filename===i}))s||(s=[]),s.push({filename:i,type:n})}()}catch(e){D=!0,b=e}finally{try{_||null==R.return||R.return()}finally{if(D)throw b}}var S=null==m?void 0:m.get(t);if(S){s||(s=[]);var x=!0,N=!1,T=void 0;try{for(var L,M=S[Symbol.iterator]();!(x=(L=M.next()).done);x=!0){var Z=L.value,H=Z.filename,F=Z.progress;s.push({filename:H,type:d.pt.File,progress:F})}}catch(e){N=!0,T=e}finally{try{x||null==M.return||M.return()}finally{if(N)throw T}}}if(s){if(!l.create&&!S&&s&&0===s.length)return void h.push({type:u?"emptyDir":"create",dir:t});var Y=function(e,t){var r=t.getSection,n=[],i=new Map,o=!0,a=!1,u=void 0;try{for(var l,c=e[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){var s=l.value,f=r(s),p=s.progress?{type:"upload",progress:s.progress,filename:s.filename}:{type:s.type===d.pt.File?"file":"dir",filename:s.filename};if(!f){n.push(p);continue}var h=i.get(f);if(h){h.push(p);continue}i.set(f,[p])}}catch(e){a=!0,u=e}finally{try{o||null==c.return||c.return()}finally{if(a)throw u}}var m=!0,g=!1,y=void 0;try{for(var E,_=i[Symbol.iterator]();!(m=(E=_.next()).done);m=!0){var D=(0,v._)(E.value,2),b=D[0],A=D[1];n.push({type:"divider",label:b}),(0,U.Yv)(n,A)}}catch(e){g=!0,y=e}finally{try{m||null==_.return||_.return()}finally{if(g)throw y}}return n}(s.filter(i).sort(function(e,n){return o(e,n,t===r)}),{getSection:t===A.Dl?a:function(){return null}}),P=-1,k=!0,G=!1,B=void 0;try{for(var j,z=Y[Symbol.iterator]();!(k=(j=z.next()).done);k=!0)!function(){var r=j.value;if("error"===r.type||"emptyDir"===r.type)throw Error("Expected dir, file, or divider row");if("divider"===r.type)return -1===P&&(P=h.length),h.push({type:"divider",dir:t,label:r.label});var i=C(t,r.filename);if("dir"===r.type){var o={type:"dir",path:i};f===i&&(o.rename=!0),y.has(i)&&(o.pending=!0);var a=null==m?void 0:m.get(i);if(a&&(o.uploadProgress=a.map(function(e){return e.progress})),h.push(o),!n.get(i))return;e(i)}else if("upload"===r.type)h.push({type:"uploadFile",path:i,progress:r.progress});else if(!S||!S.some(function(e){return e.filename===r.filename})){var u={type:"file",path:i};f===i&&(u.rename=!0),y.has(i)&&(u.pending=!0),h.push(u)}}()}catch(e){G=!0,B=e}finally{try{k||null==z.return||z.return()}finally{if(G)throw B}}if(l.create||p){var W={type:"create",dir:t,fileType:l.create?l.create:void 0};-1===P?h.push(W):h.splice(P,0,W)}}}}(r),h}({root:u,dirInfo:e(ef),filter:i,sort:void 0===l?N:l,readOnly:void 0!==s&&s,getSection:ed,pendingUploads:e(ep),pathBeingRenamed:null!=(t=e(G))?t:void 0,pendingMoves:null!=(r=e(eh))?r:void 0,alwaysShowCreateRow:o})}),ev=(0,y.eU)(function(e){var t=e(H);if(!t)return null;var r=e(em).findIndex(function(e){return("file"===e.type||"dir"===e.type)&&e.path===t});return -1!==r?r:null}),eg=(0,y.eU)(null,function(e,t,r){var n,i=e(ev),o=e(H);if((null==(n=document.activeElement)?void 0:n.tagName)!=="INPUT"&&null!==i&&null!==o){var a=e(em);switch(r.key){case"ArrowDown":r.preventDefault();var u=x(a,{dir:"next",fromIndex:i});((null==u?void 0:u.type)==="dir"||(null==u?void 0:u.type)==="file")&&t(H,u.path);return;case"ArrowUp":r.preventDefault();var l=x(a,{dir:"previous",fromIndex:i});((null==l?void 0:l.type)==="dir"||(null==l?void 0:l.type)==="file")&&t(H,l.path);return;case"ArrowLeft":case"ArrowRight":r.preventDefault();var c=e(ef).get(o);if(!c)return;"ArrowLeft"===r.key&&c.expanded?t(e_,o):"ArrowRight"!==r.key||c.expanded||t(eb,o);return;case"Enter":case" ":if("Enter"===r.key&&!e(X))return;if(e(ef).has(o))return void t(eA,o);e(K).onFileSelect({event:r,path:o,type:"keydown"});return}}}),ey=(0,y.eU)(null,function(e,t,r){var n;r.path===(null!=(n=e(K).root)?n:A.Dl)&&t(W,!0),t(ef,function(e){return(0,_.jM)(e,function(e){var t=r.path===A.Dl?null:r.path+"/",n=!0,i=!1,o=void 0;try{for(var a,u=r.children[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){var l,c=a.value,s=t?t+c.filename:c.filename,f=e.get(s);if(c.type!==d.pt.Directory){f&&(null==(l=f.disposeWatcher)||l.call(f),e.delete(s));continue}f||e.set(s,{expanded:!1})}}catch(e){i=!0,o=e}finally{try{n||null==u.return||u.return()}finally{if(i)throw o}}var p=e.get(r.path);p&&(p.children=r.children,p.loading=!1,p.error=void 0)})})}),eE=(0,y.eU)(null,function(e,t,r){var n;r.path===(null!=(n=e(K).root)?n:A.Dl)&&t(W,!0),t(ef,function(e){return(0,_.jM)(e,function(e){var t,n=e.get(r.path);n&&(n.loading=!1,n.error=r.error,null==(t=n.disposeWatcher)||t.call(n),n.disposeWatcher=null)})})}),e_=(0,y.eU)(null,function(e,t,r){var n=Array.isArray(r)?r:[r];t(ef,function(e){return(0,_.jM)(e,function(e){var t=!0,r=!1,i=void 0;try{for(var o,a=n[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var u=o.value,l=e.get(u);l&&(l.expanded=!1,l.loading=!1,l.disposeWatcher&&(l.disposeWatcher(),l.disposeWatcher=null))}}catch(e){r=!0,i=e}finally{try{t||null==a.return||a.return()}finally{if(r)throw i}}})})}),eD=(0,y.eU)(null,function(e,t,r){t(ef,function(e){return(0,_.jM)(e,function(e){var t,n=e.get(r);n&&(null==(t=n.disposeWatcher)||t.call(n),e.delete(r))})})}),eb=(0,y.eU)(null,function(e,t,r){var n=Array.isArray(r)?r:[r],i=e(K).fs;t(ef,function(e){return(0,_.jM)(e,function(e){var r=!0,o=!1,a=void 0;try{for(var u,l=n[Symbol.iterator]();!(r=(u=l.next()).done);r=!0)!function(){var r,n=u.value,o=null!=(r=e.get(n))?r:{expanded:!0};e.has(n)?o.expanded=!0:e.set(n,o),o.disposeWatcher?o.disposeWatcher():o.loading=!0,o.disposeWatcher=i.watchDir(n,{onError:function(e){return t(eE,{path:n,error:e})},onChange:function(e){return t(ey,{path:n,children:e})},onMoveOrDelete:function(){return t(eD,n)}})}()}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}})})}),eA=(0,y.eU)(null,function(e,t,r){var n=e(ef).get(r);if(!n){t(ef,function(e){return(0,_.jM)(e,function(e){e.set(r,{expanded:!1})})}),t(eb,r);return}t(n.expanded?e_:eb,r)}),ew=(0,y.eU)(function(e){return e(K).manageWidth?e(W)?function(e){var t=e.rows,r=e.baseDepth,n=[],i=new Map,o=!0,a=!1,u=void 0;try{for(var l,c=t[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){var s=l.value,f=function(e){var t=e.row,r=T({row:t,baseDepth:e.baseDepth});switch(t.type){case"file":case"dir":case"uploadFile":return{text:(0,E.WP)(t.path),depth:r};case"error":return{text:t.message,depth:r};case"divider":return{text:t.label,depth:r};case"create":case"emptyDir":return{text:R,depth:r}}}({row:s,baseDepth:r}),d=f.depth,p=f.text,h=i.get(d);if(!h){i.set(d,new Map([[s.type,p]]));continue}var m=h.get(s.type);m&&(null==m?void 0:m.length)>p.length||h.set(s.type,p)}}catch(e){a=!0,u=e}finally{try{o||null==c.return||c.return()}finally{if(a)throw u}}var g=!0,y=!1,_=void 0;try{for(var D,b=i[Symbol.iterator]();!(g=(D=b.next()).done);g=!0){var A=(0,v._)(D.value,2),w=A[0],I=A[1],U=!0,S=!1,x=void 0;try{for(var N,C=I[Symbol.iterator]();!(U=(N=C.next()).done);U=!0){var O=(0,v._)(N.value,2),L=O[0],M=O[1];n.push({depth:w,type:L,text:M})}}catch(e){S=!0,x=e}finally{try{U||null==C.return||C.return()}finally{if(S)throw x}}}}catch(e){y=!0,_=e}finally{try{g||null==b.return||b.return()}finally{if(y)throw _}}return n}({rows:e(em),baseDepth:e(j)}):[{type:"dir",text:S,depth:1}]:null}),eI=(0,y.eU)(null,function(e,t,r){var n=e(K).onCreateStart;if(n)return void n({parentPath:r.parentPath,fileType:r.fileType});t(eb,r.parentPath),t(ef,function(e){return(0,_.jM)(e,function(e){var t=e.get(r.parentPath);t&&(t.create=r.fileType)})}),t(H,null)}),eU=(0,y.eU)(null,function(e,t,r){t(ef,function(e){return(0,_.jM)(e,function(e){var t=e.get(r);t&&(t.create=void 0)})})}),eR=(0,y.eU)(null,function(e,t,r){var n={path:r.path,type:r.fileType};t(H,n.path),t(eC,{node:n}),t(ef,function(e){return(0,_.jM)(e,function(e){var t=e.get(r.parentPath);t&&(t.create=void 0)})}),n.type===d.pt.Directory&&t(eb,n.path)}),eS=(0,y.eU)(new Map),ex=(0,y.eU)(null),eN=(0,y.eU)(function(e){var t,r;return null!=(r=null==(t=e(ex))?void 0:t.path)?r:null}),eT=(0,y.eU)(!0),eC=(0,y.eU)(null,function(e,t,r){var n=r.node,i=r.mode,o=e(em),a=e(ex);t(eT,!i),t(eS,function(e){return(0,_.jM)(e,function(e){!function(e,t){var r=t.node,n=t.rows,i=t.mode,o=t.anchor;if(!i){e.clear(),e.set(r.path,r.type);return}if("multi"===i&&e.has(r.path))return e.delete(r.path);if("multi"===i)return e.set(r.path,r.type);var a=r.type===d.pt.Directory?"dir":"file",u=n.findIndex(function(e){return e.type===a&&e.path===r.path});if(-1!==u){var l=(null==o?void 0:o.type)===d.pt.Directory?"dir":"file",c=o?n.findIndex(function(e){return e.type===l&&e.path===o.path}):-1;if(-1!==c){var s=c<u?n.slice(c,u+1):n.slice(u,c+1),f=!0,p=!1,h=void 0;try{for(var m,v=n[Symbol.iterator]();!(f=(m=v.next()).done);f=!0){var g=m.value;("file"===g.type||"dir"===g.type)&&(s.includes(g)?e.set(g.path,"file"===g.type?d.pt.File:d.pt.Directory):e.delete(g.path))}}catch(e){p=!0,h=e}finally{try{f||null==v.return||v.return()}finally{if(p)throw h}}}}}(e,{node:n,rows:o,mode:i,anchor:a})})});var u=e(eS);if(!(u.size>1)){var l=!0,c=!1,s=void 0;try{for(var f,p=u[Symbol.iterator]();!(l=(f=p.next()).done);l=!0){var h=(0,v._)(f.value,2),m=h[0],g=h[1];t(ex,{path:m,type:g})}}catch(e){c=!0,s=e}finally{try{l||null==p.return||p.return()}finally{if(c)throw s}}}}),eO=(0,y.eU)(null,function(e,t){t(eS,new Map),t(eT,!0),t(ex,null)}),eL=(0,y.eU)(null,function(){var e=(0,m._)(function(e,t,r){var n,i,o;return(0,g.YH)(this,function(a){switch(a.label){case 0:var u;return n=e(K).fs,[4,Promise.all(r.map((u=(0,m._)(function(e){var t;return(0,g.YH)(this,function(r){switch(r.label){case 0:return[4,n.readDir(e)];case 1:return[2,(t=r.sent()).error?t:{path:e,children:t.children,error:null}]}})}),function(e){return u.apply(this,arguments)})))];case 1:if((o=(i=a.sent()).filter(function(e){return null!==e.error})).length)return[2,{errors:o}];return t(ef,function(e){return(0,_.jM)(e,function(e){var t=!0,r=!1,n=void 0;try{for(var o,a=i[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var u=o.value;if(u.error)throw Error("Unexpected error");var l=e.get(u.path);if(!l){e.set(u.path,{loading:!1,expanded:!0,children:u.children,error:void 0});continue}l.loading=!1,l.expanded=!0,l.children=u.children,l.error=void 0}}catch(e){r=!0,n=e}finally{try{t||null==a.return||a.return()}finally{if(r)throw n}}})}),[2,{errors:null}]}})});return function(t,r,n){return e.apply(this,arguments)}}()),eM=(0,y.eU)(null,function(){var e=(0,m._)(function(e,t,r){var n,i,o,a,u,l,s,f,d;return(0,g.YH)(this,function(p){switch(p.label){case 0:n=e(ef),i=[],o=!0,a=!1,u=void 0;try{var h;for(l=((h=r.path.split("/")).pop(),[A.Dl].concat((0,c._)(h.map(function(e,t){return h.slice(0,t+1).join("/")}))))[Symbol.iterator]();!(o=(s=l.next()).done);o=!0)f=s.value,null!=(d=n.get(f))&&d.expanded||i.push(f)}catch(e){a=!0,u=e}finally{try{o||null==l.return||l.return()}finally{if(a)throw u}}if(!i.length)return[3,2];return[4,t(eL,i)];case 1:p.sent(),p.label=2;case 2:return t(eC,{node:r}),[2]}})});return function(t,r,n){return e.apply(this,arguments)}}()),eZ=(0,y.eU)(null),eH=(0,y.eU)(null,function(e,t,r){var n=e(eZ);if(n)for(var i=e(em),o=0;o<i.length;o++){var a=i[o];if(("file"===a.type||"dir"===a.type)&&a.path===r&&!(o>n.options.count-1)){n.scrollToIndex(o);break}}}),eF=r(79203),eY=r(26325),eP=r(94680),ek=(0,f.createContext)(null);function eG(e){return(0,s.Y)(ek.Provider,{value:e.store,children:e.children})}function eB(){var e=(0,f.useContext)(ek);if(!e)throw Error("Expected store in context");return e}function ej(e){return(0,eF.md)(e,{store:eB()})}function ez(e){return(0,eP.k)(e,eB())}var eW=function(e){return(0,eF.Xr)(e,{store:eB()})};function eV(e){return(0,eY.yF)((0,f.useCallback)(function(t){return t(e)},[e]),{store:eB()})}var eK=(0,y.eU)(null),e$=(0,y.eU)(null,function(e,t,r){var n=[r];if(!e(eT)){var i=!0,o=!1,a=void 0;try{for(var u,l=e(eS)[Symbol.iterator]();!(i=(u=l.next()).done);i=!0){var c=(0,v._)(u.value,2),s=c[0],f=c[1];r.path!==s&&n.push({path:s,type:f})}}catch(e){o=!0,a=e}finally{try{i||null==l.return||l.return()}finally{if(o)throw a}}}t(eK,(0,E.Ag)(n))});function eX(){return(eX=(0,m._)(function(e,t){return(0,g.YH)(this,function(r){switch(r.label){case 0:return[4,Promise.all(t.map(function(t){return t.type===d.pt.Directory?e.deleteDir(t.path):e.deleteFile(t.path)}))];case 1:return[2,{error:r.sent().filter(function(e){return e.error}).length?"Something went wrong deleting files":null}]}})})).apply(this,arguments)}var eq=r(64287),eJ=r(13539),eQ=r(89852),e0=r(98444),e1=r(47993),e2=r(79730),e5=r(22677),e4=r(69945),e3=r.n(e4),e7=r(72562),e6=r(1982),e8=r(7357),e9=r(35141),te=r.n(e9),tt=r(70633),tr=r(81497),tn=r(4880),ti=r(93707),to=r(23099),ta=r.n(to),tu=r(53522),tl=r(27741),tc=r(66485),ts=r(68373);function tf(e){var t=e.fileName,r=e.parentPath,n=r===A.Dl?"":r+"/",i=n+t,o=i.split("/");return{pathPrefix:n,newFilePath:i,segments:o}}function td(e){return tp.apply(this,arguments)}function tp(){return(tp=(0,m._)(function(e){var t,r,n,i,o,a,u,l,c,s,f,d,p,h,m,y,_,D,b;return(0,g.YH)(this,function(g){switch(g.label){case 0:if(t=e.fileName,r=e.parentPath,n=e.fs,t.startsWith("/"))return[2,"File names cannot include forward slashes"];o=(i=tf({fileName:t,parentPath:r})).pathPrefix,a=i.newFilePath,u=i.segments,l=!0,c=!1,s=void 0,g.label=1;case 1:g.trys.push([1,7,8,9]),f=Object.entries(u)[Symbol.iterator](),g.label=2;case 2:if(l=(d=f.next()).done)return[3,6];if(h=(p=(0,v._)(d.value,2))[0],m=p[1],y=Number(h),_=[],y!==u.length-1)return[3,4];return[4,n.stat(a)];case 3:g.sent().exists&&_.push((0,E.WP)(a)),g.label=4;case 4:if(!(D=(0,ts.U)({fileName:m,siblingNames:_,parentPath:o+u.slice(0,y).join("/")})))return[3,5];return[2,D];case 5:return l=!0,[3,2];case 6:return[3,9];case 7:return b=g.sent(),c=!0,s=b,[3,9];case 8:try{l||null==f.return||f.return()}finally{if(c)throw s}return[7];case 9:return[2,null]}})})).apply(this,arguments)}function th(e){var t=tf({fileName:e.fileName,parentPath:e.parentPath}),r=t.pathPrefix,n=t.segments,i=!0,o=!1,a=void 0;try{for(var u,l=Object.entries(n)[Symbol.iterator]();!(i=(u=l.next()).done);i=!0){var c=(0,v._)(u.value,2),s=c[0],f=c[1],d=Number(s),p=(0,ts.U)({fileName:f,siblingNames:[],parentPath:r+n.slice(0,d).join("/")});if(p)return p}}catch(e){o=!0,a=e}finally{try{i||null==l.return||l.return()}finally{if(o)throw a}}return null}var tm=r(15311),tv=r(27023),tg=(0,tm.v)(["scrollHeight","fontSize","fontSizeSmall","iconSize","horizontalPadding","borderRadius","gutterWidth","minHeight","iconTextGap","rowWidth","rowHeight","rowLeftIndent","rowY","dropPreviewDepth","dropPreviewHeight","dropPreviewY","dropPreviewOpacity","strokeDashoffset","statusColor","statusBackgroundColor","dirStatusIconSize","nodeBackgroundColor","dragPreviewX","dragPreviewY","contextMenuButtonDisplay","hasUnsavedChangesDisplay"]),ty=tg.cssVars,tE=tg.styleTokens,t_={paddingLeft:tE.horizontalPadding,paddingRight:tE.horizontalPadding},tD={"&& svg":{minWidth:tE.iconSize+" !important",minHeight:tE.iconSize+" !important",width:tE.iconSize+" !important",height:tE.iconSize+" !important"}},tb=[tv.wp.truncate,{fontSize:tE.fontSize}];function tA(e,t){return e.shiftKey?"bulk":"altKey"===t&&e.altKey||"cmdOrCtrlKey"===t&&(0,tc.T$)(e)?"multi":void 0}var tw=(0,y.eU)(null,function(e,t,r){var n=r.event,i=r.path;t(H,i);var o=e(K).multiselectModifierKey;t(eC,{node:{path:i,type:d.pt.Directory},mode:o?tA(n,o):void 0}),t(H,i),n.shiftKey||n.altKey||(0,tc.T$)(n)||t(eA,i)});function tI(){return{fontSize:ez(q),fontSizeSmall:ez(el),iconSize:ez(et),scrollHeight:ez(Z),horizontalPadding:ez(er),borderRadius:ez(en),gutterWidth:ez(es),minHeight:ez(Q),iconTextGap:ez(ei)}}function tU(e){return ej((0,tl.A)(function(){return(0,D.mg)(H,function(t){return t===e?0:-1})},[e]))}function tR(e){return ej((0,tl.A)(function(){return(0,D.mg)(F,function(t){var r,n=t.get(e);return n?{style:(r={},(0,l._)(r,ty.rowHeight,n.height+"px"),(0,l._)(r,ty.rowY,n.y+"px"),(0,l._)(r,ty.rowLeftIndent,"calc(".concat(n.depth," * ").concat(tE.gutterWidth,")")),r),depth:n.depth}:void 0},ta())},[e]))}function tS(e){var t=e.index,r=e.path,n=(0,f.useRef)(null),i=ez(H);return(0,f.useEffect)(function(){var e=function(e){var t;null==(t=n.current)||t.setAttribute("tabIndex",e.toString())},o=function(n){if(!n)return void e(0===t?0:-1);e(n===r?0:-1)};return o(i.current),i.subscribe(o)},[i,r,t]),(0,f.useEffect)(function(){var e=function(e){null!==t&&clearTimeout(t),e===r&&document.activeElement!==n.current&&(t=setTimeout(function(){var e;null==(e=n.current)||e.focus()},50))},t=null;e(i.current);var o=i.subscribe(e);return function(){null!==t&&clearTimeout(t),o()}},[i,r]),[n,eW(H)]}function tx(e,t){if(t===e.path)return!1;var r=t+"/"+(0,E.WP)(e.path);return!(r===e.path||(0,w.hL)(e.path,t)||(0,w.hL)(r,e.path))}var tN=(0,y.eU)(null,function(){var e=(0,m._)(function(e,t,r){var n,i,o,a,u,l,c,s,f,p;return(0,g.YH)(this,function(h){var v,y,_,D,b,I,U,R;switch(h.label){case 0:if(i=null==(n=e(ef).get(r.to))?void 0:n.children)return[3,2];return[4,e(K).fs.readDir(r.to)];case 1:if((o=h.sent()).error)return[2];i=o.children,h.label=2;case 2:if(!i)throw Error("Expected children");if(v=r.nodes,y=r.to,_=i,a=v.reduce(function(e,t){var r=(0,E.WP)(t.path),n=(0,E._6)(t.path),i=null==_?void 0:_.find(function(e){return e.filename===r});return i&&(""===n?A.Dl:n)!==y&&e.push({type:i.type,path:y===A.Dl?i.filename:y+"/"+i.filename}),e},[]),D=r.nodes,b=r.to,!(u=(I=(0,E.Ag)(D)).every(function(e){return tx(e,b)})?I.map(function(e){var t=(0,E.WP)(e.path);return{from:e,to:b===A.Dl?t:b+"/"+t}}):null)||(c=(l=e(K)).readOnly,s=l.fs,c))return[2];if(!a.length)return[3,4];if(a.some(function(e){return u.some(function(t){var r=t.from;return(0,w.hL)(e.path,r.path)})}))return[2];if(!r.overwrite)return null==(f=e(K).onConflicts)||f({type:"move",nodes:r.nodes,to:r.to,conflicts:a}),[2];return[4,Promise.all(a.map((U=(0,m._)(function(e){var t;return(0,g.YH)(this,function(r){switch(r.label){case 0:return[4,e.type===d.pt.Directory?s.deleteDir(e.path):s.deleteFile(e.path)];case 1:return[2,(t=r.sent()).error?{error:t.error,node:e}:null]}})}),function(e){return U.apply(this,arguments)})))];case 3:if(h.sent().filter(Boolean).length)return[2];h.label=4;case 4:return t(eh,u),[4,Promise.all(u.map((R=(0,m._)(function(e){var t,r,n;return(0,g.YH)(this,function(i){switch(i.label){case 0:return t=e.from,r=e.to,[4,t.type===d.pt.Directory?s.moveDir(t.path,r):s.moveFile(t.path,r)];case 1:return[2,(n=i.sent()).error?{error:n.error,from:t,to:r}:null]}})}),function(e){return R.apply(this,arguments)})))];case 5:if(p=h.sent(),t(eh,[]),p.filter(Boolean).length)return[2];return t(eS,new Map(u.map(function(e){return[e.to,e.from.type]}))),[2]}})});return function(t,r,n){return e.apply(this,arguments)}}()),tT=r(37872),tC=(0,y.eU)(null,function(){var e=(0,m._)(function(e,t,r){var n,i,o,a,u,l,s,f,p,h,v;return(0,g.YH)(this,function(y){switch(y.label){case 0:if(i=(n=e(K)).readOnly,o=n.fs,i)return[2];if(a=r.parentPath||A.Dl,l=null==(u=e(ef).get(a))?void 0:u.children,r.files.length>tr.Qq)return r.onError("Trying to upload too many files at once. Please try again with fewer files."),[2];if(r.files.reduce(function(e,t){return t.size+e},0)>tr.wr)return r.onError("Total file upload size exceeds maximum limit. Please try again with smaller files."),[2];if(l)return[3,2];return[4,o.readDir(a)];case 1:if((s=y.sent()).error)return[2];l=s.children,y.label=2;case 2:var E;if(!l)throw Error("Expected children");if(f=(0,c._)(new Set(r.files.map(function(e){return e.dirPath?e.dirPath.split("/")[0]:e.name}))),(h=(p=l.filter(function(e){return f.some(function(t){return t===e.filename})})).length?p.map(function(e){return{path:a===A.Dl?e.filename:a+"/"+e.filename,type:e.type}}):null)&&!r.overwrite)return null==(v=e(K).onConflicts)||v({type:"upload",files:r.files,to:a,conflicts:p.map(function(e){return{path:a===A.Dl?e.filename:a+"/"+e.filename,type:e.type}})}),[2];if(!h)return[3,4];return[4,Promise.all(h.map((E=(0,m._)(function(e){var t;return(0,g.YH)(this,function(r){switch(r.label){case 0:return[4,e.type===d.pt.Directory?o.deleteDir(e.path):o.deleteFile(e.path)];case 1:return[2,(t=r.sent()).error?{error:t.error,node:e}:null]}})}),function(e){return E.apply(this,arguments)})))];case 3:if(y.sent().filter(Boolean).length)return[2];y.label=4;case 4:return(0,tr.Zn)({parentPath:r.parentPath,files:r.files,fs:o,onStart:function(e){t(ep,function(t){return(0,_.jM)(t,function(t){var r=!0,n=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(r=(o=a.next()).done);r=!0){var u=o.value;t.push(u)}}catch(e){n=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw i}}})})},onUpload:function(e){t(ep,function(t){return(0,_.jM)(t,function(t){var r=t.findIndex(function(t){return t.targetPath===e.path});-1!==r&&t.splice(r,1)})})},onError:function(e){e.error===tr.lj.FileRead&&r.onError("Error reading file. Try uploading again."),t(ep,function(t){return(0,_.jM)(t,function(t){var r=t.findIndex(function(t){return t.targetPath===e.path});-1!==r&&t.splice(r,1)})})},onDone:function(e){var t=e.errors,r=e.parentPath;if(!t.length)return void tT.vF.info("Successfully uploaded files",{uploadSource:"filetree",parentPath:r})}}),[2]}})});return function(t,r,n){return e.apply(this,arguments)}}()),tO=r(36937),tL=r(18509),tM=r(43813),tZ=r(85389),tH=r(2188),tF=(0,y.eU)(0),tY=(0,y.eU)(null),tP=(0,y.eU)(function(e){var t=e(tY);if(null===t)return null;var r=e(F),n=-1!==t?r.get(t):null;return n&&n.depth>0||(null==n?void 0:n.row.type)==="dir"?function(e,t){var r=e.get(t);if(!r)return null;var n=0,i=r.height,o="dir"===r.row.type?r.depth+1:r.depth;if("dir"===r.row.type)o=r.depth+1,n=r.y;else{o=r.depth;for(var a=t-1;a>=0;a--){var u=e.get(a);if(!u)break;if("dir"===u.row.type&&("file"===r.row.type||"uploadFile"===r.row.type?O(u.row.path,r.row.path):u.row.path===r.row.dir)){i+=u.height,n=u.y;break}u.depth>=r.depth&&(i+=u.height)}}for(var l=t+1;l<e.size;l++){var c=e.get(l);if(!c||c.depth<=("dir"===r.row.type?r.depth:r.depth-1))break;i+=c.height}return{y:n,height:i,depth:o}}(r,t):{y:e(tF),depth:1,height:e(M).height-8}}),tk="(".concat(tE.dropPreviewDepth," - 1) * ").concat(tE.gutterWidth),tG=(0,tL.x)({root:[tv.wp.position.absolute,tv.wp.top(0),tv.wp.left(0),tv.wp.borderRadius(8),{pointerEvents:"none",transform:"translate(calc(".concat(tk,"), ").concat(tE.dropPreviewY,")"),width:"calc(100% - ".concat(tk,")"),height:tE.dropPreviewHeight,opacity:tE.dropPreviewOpacity,outline:"1px dashed ".concat(tE.statusColor),outlineOffset:-1}]}),tB=(0,f.memo)(function(){var e=ez(tP),t=ez(tJ),r=ez(tq),n=(0,f.useRef)(null);(0,h.d)(n,e,function(e){var t,r,n,i;return i={},(0,l._)(i,ty.dropPreviewY,(null!=(t=null==e?void 0:e.y)?t:0)+"px"),(0,l._)(i,ty.dropPreviewHeight,(null!=(r=null==e?void 0:e.height)?r:0)+"px"),(0,l._)(i,ty.dropPreviewDepth,null!=(n=null==e?void 0:e.depth.toString())?n:"0"),i}),(0,h.d)(n,r,function(e){return(0,l._)({},ty.dropPreviewOpacity,e?"1":"0")}),(0,h.d)(n,t,function(e){return(0,l._)({},ty.statusColor,e?tO.LU.accentPrimaryDefault:tO.LU.accentNegativeDefault)});var i=(0,e8.j)();return(0,s.Y)(tZ.S,{style:{transition:i?void 0:"transform 140ms, width 140ms, height 140ms, opacity 140ms ease-out 60ms"},innerRef:n,css:tG.root})}),tj=(0,y.eU)(null,function(e,t,r){if(null!==r){var n=!0,i=!1,o=void 0;try{for(var a,u=e(F)[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){var l=(0,v._)(a.value,2),c=l[0],s=l[1];if(!(r.y<s.y)&&!(r.y>s.y+s.height))return t(tY,c),s}}catch(e){i=!0,o=e}finally{try{n||null==u.return||u.return()}finally{if(i)throw o}}t(tY,-1)}}),tz=e2.ZU.Object({type:e2.ZU.Literal("nodes"),width:e2.ZU.Number(),height:e2.ZU.Number(),nodes:e2.ZU.Array(e2.ZU.Object({path:e2.ZU.String(),type:e2.ZU.Enum(d.pt)}))}),tW=(0,y.eU)(null,function(e,t,r){t(eS,function(e){return(0,_.jM)(e,function(e){e.set(r.path,r.type)})});var n=[r];if(e(eT))return n;var i=!0,o=!1,a=void 0;try{for(var u,l=e(eS)[Symbol.iterator]();!(i=(u=l.next()).done);i=!0){var c=(0,v._)(u.value,2),s=c[0],f=c[1];s!==r.path&&n.push({path:s,type:f})}}catch(e){o=!0,a=e}finally{try{i||null==l.return||l.return()}finally{if(o)throw a}}return n});function tV(e){var t=eW(tY),r=eW(tW),n=ej(X),i=(0,f.useRef)(null),o=(0,v._)((0,eJ.i)({type:e.type,item:function(){var t,n,o=r(e),a=null!=(n=null==(t=i.current)?void 0:t.getBoundingClientRect())?n:{width:160,height:32};return{nodes:o,type:"nodes",width:a.width,height:a.height}},collect:function(t){var r=t.getItem();return{isDragging:!!((null==r?void 0:r.type)==="nodes"&&r.nodes.some(function(t){return t.path===e.path}))}},end:function(){t(null)}}),3),a=o[0],u=o[1],l=o[2],c=a.isDragging;return(0,f.useEffect)(function(){l((0,e7.n)(),{captureDraggingState:!0})},[l]),{isDragging:c,dragRef:n?void 0:u,sizeRef:i}}var tK=(0,tL.x)({root:[tv.wp.position.absolute,{left:0,top:0,transform:"translate(".concat(tE.dragPreviewX,", ").concat(tE.dragPreviewY,")"),pointerEvents:"none"}],item:[tv.wp.backgroundColor.backgroundHighest,tv.wp.flex.row,tv.wp.align.center,tv.wp.shadow(3),t_,{height:tE.rowHeight,borderRadius:tE.borderRadius}],icon:[tD,{marginRight:tE.iconTextGap}],text:[tb,tv.wp.flex.growAndShrink(1),{color:tE.statusColor}],count:[tb,tv.wp.backgroundColor.accentPrimaryDimmest,tv.wp.color.accentPrimaryStrongest,tv.wp.fontWeight.medium,tv.wp.position.absolute,tv.wp.left("calc(50% - 4px)"),tv.wp.top("calc(100% - 4px)"),tv.wp.borderRadius("full"),tv.wp.px(4),tv.wp.center,{fontSize:tE.fontSizeSmall}]}),t$=(0,f.memo)(function(e){var t=(0,f.useRef)(null),r=tI(),n=ez(tX);return(0,h.d)(t,n,function(e){var t;return t={},(0,l._)(t,ty.dragPreviewX,(e?e.x:0)+"px"),(0,l._)(t,ty.dragPreviewY,(e?e.y:0)+"px"),t}),(0,h.d)(t,r.horizontalPadding,function(e){return(0,l._)({},ty.horizontalPadding,e+"px")}),(0,h.d)(t,r.fontSize,function(e){return(0,l._)({},ty.fontSize,e+"px")}),(0,h.d)(t,r.fontSizeSmall,function(e){return(0,l._)({},ty.fontSizeSmall,e+"px")}),(0,h.d)(t,r.iconSize,function(e){return(0,l._)({},ty.iconSize,e+"px")}),(0,h.d)(t,r.iconTextGap,function(e){return(0,l._)({},ty.iconTextGap,e+"px")}),(0,h.d)(t,r.borderRadius,function(e){return(0,l._)({},ty.borderRadius,e+"px")}),(0,h.d)(t,r.gutterWidth,function(e){return(0,l._)({},ty.gutterWidth,e+"px")}),(0,s.Y)(tZ.S,{innerRef:t,css:tK.root,children:(0,s.FD)(tZ.S,{css:tK.item,style:{width:e.width,height:e.height},children:[(0,s.Y)(tZ.S,{css:tK.icon,children:e.type===d.pt.File?(0,s.Y)(tM.A,{path:e.path}):(0,s.Y)(tH.A,{})}),(0,s.Y)(tZ.S,{css:tK.text,children:(0,E.WP)(e.path)}),e.count>1?(0,s.Y)(tZ.S,{css:tK.count,children:e.count}):null]})})}),tX=(0,y.eU)(null);(0,y.eU)(function(e){return null!==e(tX)});var tq=(0,y.eU)(!1),tJ=(0,y.eU)(!1);function tQ(){var e=(0,eQ.V)(function(e){return{item:e.getItem(),isDragging:e.isDragging(),initialOffset:e.getInitialSourceClientOffset(),currentOffset:e.getSourceClientOffset()}}),t=e.isDragging,r=e.item,n=e.currentOffset,i=eW(tX);if((0,f.useEffect)(function(){i(n?{x:n.x,y:n.y}:null)},[i,n]),!t||!e5.J(tz,r))return null;var o=r.nodes,a=r.width,u=r.height,l=(0,v._)(o,1)[0];return l?(0,e1.createPortal)((0,s.Y)(t$,{type:l.type,path:l.path,count:o.length,width:a,height:u}),document.body):null}var t0=r(96907),t1=r.n(t0),t2=r(30908),t5=e2.ZU.Enum(d.pt),t4=e2.ZU.Object({filename:e2.ZU.String({minLength:1}),type:t5}),t3=e2.ZU.Object({scrollOffset:e2.ZU.Number({minimum:0}),dirInfo:e2.ZU.Record(e2.ZU.String(),e2.ZU.Object({expanded:e2.ZU.Boolean(),children:e2.ZU.Array(t4)}))});function t7(e){return"repl:workspace:filetree:"+e}var t6=e2.ZU.Array(e2.ZU.String()),t8="repl:workspace:filetree:savedKeys",t9=(0,D.mg)(K,function(e){return e.localCacheKey?t7(e.localCacheKey):null}),re=(0,y.eU)(null,function(e){var t=e(K),r=t.localCacheKey,n=t.filter;if(r){var i=null!=(f=null==(s=e(eZ))?void 0:s.scrollOffset)?f:0,o=e(ef),a=!1,u=!0,l=!1,c=void 0;try{for(var s,f,d,p=o[Symbol.iterator]();!(u=(d=p.next()).done);u=!0){var h=(0,v._)(d.value,2)[1].children;if(a=!!(null==h?void 0:h.length))break}}catch(e){l=!0,c=e}finally{try{u||null==p.return||p.return()}finally{if(l)throw c}}if(a){var m,g,y=function(e,t){var r={dirInfo:Object.create(null),scrollOffset:e.scrollOffset},n=!0,i=!1,o=void 0;try{for(var a,u=e.dirInfo[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){var l=(0,v._)(a.value,2),c=l[0],s=l[1],f=s.expanded,d=s.children;if(d){var p=d.filter(t);p.length&&(r.dirInfo[c]={expanded:f,children:p})}}}catch(e){i=!0,o=e}finally{try{n||null==u.return||u.return()}finally{if(i)throw o}}return r}({dirInfo:o,scrollOffset:i},n),E=t7(r),_=(U=t2.A.get(t8),e5.J(t6,U)?U:null);if(_){var D=_.filter(function(e){return e!==E});D.unshift(E);var b=D.splice(20),A=!0,w=!1,I=void 0;try{for(var U,R,S=b[Symbol.iterator]();!(A=(R=S.next()).done);A=!0){var x=R.value;t2.A.remove(x)}}catch(e){w=!0,I=e}finally{try{A||null==S.return||S.return()}finally{if(w)throw I}}t2.A.set(t8,D)}else t2.A.set(t8,[E]);return m=r,g=y,t2.A.set(t7(m),g)}}}),rt=r(17844),rr=r(93629),rn=r(90329),ri=r(32331),ro=r(80954),ra={name:"sameWidth",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(e){var t=e.state;t.styles.popper.width="".concat(t.rects.reference.width,"px")},effect:function(e){var t=e.state;t.elements.reference instanceof HTMLElement&&(t.elements.popper.style.width="".concat(t.elements.reference.offsetWidth,"px"))}},ru=r(98679),rl=r(85051),rc=r(19202),rs=(0,D.mg)(K,function(e){return e.autocomplete}),rf=(0,tL.x)({icon:[tD,{marginRight:tE.iconTextGap}],item:[t_,tv.wp.flex.row,tv.wp.align.center,rl.b.listItem,{height:tE.rowHeight}],text:[tb,tv.wp.flex.growAndShrink(1)]});function rd(e){var t=e.id,r=e.items,n=e.activeIndex,i=e.onSuggestion,o=e.fileType,a=e.innerRef;return(0,s.Y)(tZ.S,{tag:"ul",id:t,"aria-label":"Suggestions",innerRef:a,children:r.map(function(e,t){var r=t===n;return(0,s.FD)(tZ.S,{id:e.value,tag:"li",role:"option","aria-selected":r,style:{backgroundColor:r?tO.LU.interactiveBackground:void 0,color:r?tO.LU.foregroundDefault:tO.LU.foregroundDimmer},onClick:function(){return i(e.value)},css:rf.item,children:[(0,s.Y)(tZ.S,{css:rf.icon,children:o===d.pt.Directory?(0,s.Y)(tH.A,{}):(0,s.Y)(tM.A,{path:e.value})}),(0,s.Y)(rc.e,{css:rf.text,text:e.value,highlight:e.highlight,dimmed:!r})]},e.value)})})}var rp=r(24602),rh=r(36075),rm=r(41358),rv=r(71872),rg=[tE.horizontalPadding,tE.iconSize,tE.iconTextGap].join(" + "),ry=[rl.b.filled,{height:"100%",width:"100%",paddingLeft:"calc(".concat(rg,")"),paddingRight:tE.horizontalPadding,fontSize:tE.fontSize}],rE=(0,tL.x)({root:[t_,{padding:tE.horizontalPadding}],icon:[tD,tv.wp.color.accentNegativeDefault,{marginRight:tE.iconTextGap}],text:[{fontSize:tE.fontSize},tv.wp.color.foregroundDimmer,tv.wp.flex.growAndShrink(1)]});function r_(e){return(0,s.FD)(tZ.S,{css:rE.root,row:!0,children:[(0,s.Y)(tZ.S,{css:rE.icon,children:(0,s.Y)(rv.A,{})}),(0,s.Y)(tZ.S,{css:rE.text,children:e.message})]})}var rD=(0,tL.x)({root:[tv.wp.position.relative,tv.wp.flex.growAndShrink(1),{height:"100%"}],icon:[tD,tv.wp.position.absolute,tv.wp.left(tE.horizontalPadding),tv.wp.top("50%"),{transform:"translateY(-50%)"}],input:ry,inputLoading:[ry,rp.S.backgroundPulse()],menu:[tv.wp.overflow("hidden"),{borderRadius:tE.borderRadius,border:"1px solid",borderColor:tO.LU.outlineDefault}],label:[tv.wp.visuallyHidden]});function rb(e){var t,r,n,i,o,a,u,c,m,g,y,E=(0,f.useId)(),D=(0,f.useId)(),b=(t=(0,f.useRef)(null),r=tI(),(0,h.d)(t,r.fontSize,function(e){return(0,l._)({},ty.fontSize,e+"px")}),(0,h.d)(t,r.iconTextGap,function(e){return(0,l._)({},ty.iconTextGap,e+"px")}),(0,h.d)(t,r.borderRadius,function(e){return(0,l._)({},ty.borderRadius,e+"px")}),(0,h.d)(t,r.horizontalPadding,function(e){return(0,l._)({},ty.horizontalPadding,e+"px")}),(0,h.d)(t,r.iconSize,function(e){return(0,l._)({},ty.iconSize,e+"px")}),(0,h.d)(t,r.fontSize,function(e){return(0,l._)({},ty.rowHeight,J(e,"file")+"px")}),(0,h.d)(t,r.iconTextGap,function(e){return(0,l._)({},ty.iconTextGap,e+"px")}),i=(n=(0,v._)((0,f.useState)(null),2))[0],o=n[1],u=(a=(0,v._)((0,f.useState)(null),2))[0],c=a[1],g=(m=(0,rn.E)(i,u,{modifiers:[{name:"offset",options:{offset:[0,4]}},ra],placement:"bottom-start"})).styles,y=m.attributes,{menuRef:(0,p.S)([t,c],{breadcrumb:"client/workspace/components/Filetree/FileNodeInput.tsx:100"}),menuAnchorRef:o,styles:g.popper,attributes:y.popper}),A=function(e){var t=e.onSuggestion,r=e.siblings,n=e.value,i=ej(rs),o=(0,v._)((0,f.useState)({items:[],activeIndex:null}),2),a=o[0],u=o[1],l=(0,ru.A)(r),c=(0,ru.A)(n),s=(0,v._)((0,f.useTransition)(),2)[1],d=i?function(e){s(function(){var t=i(e);u(function(e){return(0,_.jM)(e,function(e){e.items=t.filter(function(e){return e.value!==c.current&&!l.current.some(function(t){return t.filename===e.value})})})})})}:null;function p(){u({items:[],activeIndex:null})}return{items:a.items.length?a.items:null,activeIndex:a.activeIndex,query:d,onKeyDown:function(e){if("Enter"===e.key){var r=null!==a.activeIndex?a.items[a.activeIndex]:null;if(!r)return;return e.preventDefault(),t(r.value),p(),!0}return"ArrowDown"===e.key?(e.preventDefault(),u(function(e){return(0,_.jM)(e,function(e){if(null===e.activeIndex||e.activeIndex>e.items.length-1){e.activeIndex=0;return}e.activeIndex++})}),!0):"ArrowUp"===e.key?(e.preventDefault(),u(function(e){return(0,_.jM)(e,function(e){if(null===e.activeIndex){e.activeIndex=e.items.length-1;return}if(0===e.activeIndex){e.activeIndex=null;return}e.activeIndex--})}),!0):void 0},clear:p}}({onSuggestion:e.onSuggestion,siblings:e.siblings,value:e.value}),w=eV(eZ),I=(0,v._)((0,f.useState)(!0),2),U=I[0],R=I[1],S=(0,f.useRef)(null);(0,f.useEffect)(function(){if(S.current){var e,t=null==(e=w())?void 0:e.scrollElement;if(t)return(0,ro.l)(S.current,function(){return R(!0),function(){return R(!1)}},{root:t})}},[w]);var x=U&&!!(e.error||A.items),N=A.items&&A.activeIndex?A.items[A.activeIndex]:void 0,T=!e.error&&A.items?A.items:null,C=(0,f.useRef)(null),O=A.clear,L=(0,ri.A)(function(e){var t;null!=(t=C.current)&&t.contains(e.target)||O()},[O]),M=(0,ri.A)(function(t){var r,n,i=e.inputRef.current;i&&((null==(r=C.current)?void 0:r.contains(t.target))||(null==(n=L.current)?void 0:n.contains(t.target))||e.onClickOutside({inputValue:i.value}))},[]),Z=b.menuAnchorRef,H=(0,p.S)([C,Z],{breadcrumb:"client/workspace/components/Filetree/FileNodeInput.tsx:250"});return(0,s.FD)(s.FK,{children:[(0,s.Y)("label",{css:rD.label,htmlFor:E,children:"file name"}),(0,s.FD)(tZ.S,{css:rD.root,innerRef:H,children:[(0,s.Y)(tZ.S,{css:rD.icon,children:e.fileType===d.pt.Directory?(0,s.Y)(tH.A,{}):(0,s.Y)(tM.A,{path:e.value})}),(0,s.Y)("input",{spellCheck:!1,"aria-controls":A.query?D:void 0,"aria-expanded":A.items?"true":"false","aria-activedescendant":null==N?void 0:N.value,role:A.query?"combobox":void 0,id:E,ref:(0,p.S)([e.inputRef,S,M],{breadcrumb:"client/workspace/components/Filetree/FileNodeInput.tsx:274"}),css:e.loading?rD.inputLoading:rD.input,value:e.value,onChange:e.loading?void 0:function(t){var r;e.onChange(t),null==(r=A.query)||r.call(A,{input:t.currentTarget.value,fileType:e.fileType,type:e.type,siblings:e.siblings})},onKeyDown:function(t){A.onKeyDown(t)||e.onKeyDown(t)}})]}),(0,s.Y)(rh.Z,{children:(0,s.FD)(rm.ui,(0,rr._)((0,rt._)({css:rD.menu,elevated:!0,innerRef:b.menuRef,style:(0,rr._)((0,rt._)({},b.styles),{display:x?"block":"none"})},b.attributes),{children:[e.error?(0,s.Y)(r_,{message:e.error}):null,T?(0,s.Y)(rd,{id:D,innerRef:L,items:T,activeIndex:A.activeIndex,onSuggestion:function(t){e.onSuggestion(t),O()},fileType:e.fileType}):null]}))})]})}var rA=(0,tL.x)({createFilePicker:[{fontSize:tE.fontSize,paddingRight:tE.horizontalPadding,paddingLeft:tE.horizontalPadding}],button:[tv.wp.reset.button,tv.wp.p(2),rl.b.filled,tv.wp.color.foregroundDimmer,{fontSize:"inherit"}],text:[tb,tv.wp.color.foregroundDimmest]});function rw(e){var t,r,n,i,o,a,u,l,c,p,h,y,E,_,b,w,I,U,R,S,x,N,T=(t=e.dir,n=eW(eI),i=eW(eU),o=eW(eR),u=(a=(0,v._)((0,f.useState)(""),2))[0],l=a[1],c=eV(K),h=(p=(0,v._)((0,f.useState)(!1),2))[0],y=p[1],_=(E=(0,v._)((0,f.useState)(null),2))[0],b=E[1],w=(0,tl.A)(function(){return(0,D.mg)(ef,function(e){return e.get(t)})},[t]),I=(0,tl.A)(function(){return(0,D.mg)(w,function(e){var t;return null!=(t=null==e?void 0:e.create)?t:null})},[w]),U=ej((0,tl.A)(function(){return(0,D.mg)(w,function(e){var t;return null!=(t=null==e?void 0:e.children)?t:null})},[w])),R=ej(I),S=(0,m._)(function(e){var r,n,i,a,u,s,f,p,h,m;return(0,g.YH)(this,function(v){switch(v.label){case 0:if(!R||(a=(i=c()).readOnly,u=i.fs,a))return[2];if(s=null,0!==e.length)return[3,1];return s="File names cannot be empty",[3,4];case 1:if(!e.includes("/"))return[3,3];return[4,td({fileName:e,parentPath:t,fs:u})];case 2:return s=v.sent(),[3,4];case 3:s=(0,ts.U)({fileName:e,siblingNames:null!=(f=null==U?void 0:U.map(function(e){return e.filename}))?f:[],parentPath:t}),v.label=4;case 4:if(s)return b(s),[2];if((h=(p=t===A.Dl?null:t+"/")?p+e:e).includes("//")&&(h=h.split("/").filter(function(e){return e.length>0}).join("/")),y(!0),R!==d.pt.Directory)return[3,6];return[4,u.createDir(h)];case 5:return m=v.sent(),[3,8];case 6:return[4,u.writeFile(h,new tu.A(""))];case 7:m=v.sent(),v.label=8;case 8:if(m.error)return b("Something went wrong"),[2];return y(!1),l(""),o({parentPath:t,path:h,fileType:R}),null==(r=(n=c()).onCreate)||r.call(n,{path:h,type:R}),[2]}})}),x=function(e){return S.apply(this,arguments)},!(N=_)&&u.includes("/")?N=th({fileName:u,parentPath:t}):N||(N=(0,ts.U)({fileName:u,siblingNames:null!=(r=null==U?void 0:U.map(function(e){return e.filename}))?r:[],parentPath:t})),{value:u,setValue:l,fileType:R,create:x,creating:h,error:N,clearError:function(){return b(null)},cancel:(0,tl.A)(function(){return function(){return i(t)}},[t,i]),start:(0,tl.A)(function(){return function(e){return n({parentPath:t,fileType:e})}},[t,n]),siblings:U}),C=(0,f.useRef)(null);return((0,f.useEffect)(function(){var e;T.fileType&&(null==(e=C.current)||e.focus())},[T.fileType]),T.fileType)?(0,s.Y)(rb,{siblings:T.siblings||[],type:"create",inputRef:C,loading:T.creating,error:T.error,value:T.value,fileType:T.fileType,onClickOutside:function(e){var t=e.inputValue;if(""===t)return void T.cancel();T.create(t)},onChange:function(e){T.error&&T.clearError(),T.setValue(e.currentTarget.value)},onKeyDown:function(e){if("Escape"===e.key)return void T.cancel();"Enter"===e.key&&T.create(e.currentTarget.value)},onSuggestion:function(e){T.setValue(e),T.create(e)}}):(0,s.Y)(rI,{create:T.start})}function rI(e){return(0,s.FD)(tZ.S,{css:rA.createFilePicker,align:"center",row:!0,gap:4,children:[(0,s.Y)(tZ.S,{css:rA.text,children:"Add a"}),(0,s.Y)(tZ.S,{tag:"button",css:rA.button,onClick:function(){return e.create(d.pt.File)},children:"file"}),(0,s.Y)(tZ.S,{css:rA.text,children:"or "}),(0,s.Y)(tZ.S,{tag:"button",css:rA.button,onClick:function(){return e.create(d.pt.Directory)},children:"folder"})]})}var rU=(0,tL.x)({root:[{marginLeft:"auto",paddingLeft:tE.horizontalPadding}],svg:[{transform:"rotate(-90deg)",transformOrigin:"center center","& .inner-circle":{strokeDashoffset:tE.strokeDashoffset}}]});function rR(e){var t=ej(q)/2,r=t/2,n=2*r*Math.PI,i=(0,f.useRef)(null);return(0,h.d)(i,e.progress,function(e){return(0,l._)({},ty.strokeDashoffset,(n-e*n).toString())}),(0,s.Y)(tZ.S,{innerRef:i,css:rU.root,children:(0,s.FD)("svg",{css:rU.svg,height:2*t,width:2*t,children:[(0,s.Y)("circle",{fill:tO.LU.backgroundHigher,r:t,cx:t,cy:t}),(0,s.Y)("circle",{className:"inner-circle",stroke:tO.LU.foregroundDimmest,fill:"transparent",strokeWidth:t,strokeDasharray:n+" "+n,r:r,cx:t,cy:t})]})})}var rS=function(e){return e.reduce(function(e,t){return e+t.current},0)/e.length};function rx(e){var t,r,n,i,o=ej(q)/2,a=o/2,u=2*a*Math.PI,c=(t=e.uploadProgress,n=(r=(0,v._)((0,f.useState)(rS(t)),2))[0],i=r[1],(0,f.useEffect)(function(){var e=[],r=!0,n=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var l=a.value;e.push(l.subscribe(function(){i(rS(t))}))}}catch(e){n=!0,o=e}finally{try{r||null==u.return||u.return()}finally{if(n)throw o}}return function(){e.map(function(e){return e()})}},[t]),n),d=(0,f.useRef)(null);return(0,s.Y)(tZ.S,{innerRef:d,css:rU.root,children:(0,s.FD)("svg",{css:rU.svg,height:2*o,width:2*o,children:[(0,s.Y)("circle",{fill:tO.LU.backgroundHigher,r:o,cx:o,cy:o}),(0,s.Y)("circle",{className:"inner-circle",style:(0,l._)({},ty.strokeDashoffset,(u-c*u).toString()),stroke:tO.LU.foregroundDimmest,fill:"transparent",strokeWidth:o,strokeDasharray:u+" "+u,r:a,cx:o,cy:o})]})})}function rN(e){var t,r,n,i,o,a,u,l,c,p,h,y,_,b,w,I,U,R,S,x,N,T=(0,v._)((t={path:e.path,type:e.fileType},n=eV(K),o=(i=(0,v._)((0,f.useState)(null),2))[0],a=i[1],u=(0,E._6)(t.path)||A.Dl,l=(0,E.WP)(t.path),c=eW(G),p=eW(H),y=(h=(0,v._)((0,f.useState)(l),2))[0],_=h[1],w=(b=(0,v._)((0,f.useState)(!1),2))[0],I=b[1],U=(0,tl.A)(function(){return(0,D.mg)(ef,function(e){var t;return null==(t=e.get(u))?void 0:t.children})},[u]),R=y!==l,S=ej(U),x=null,R&&y.includes("/")?x=th({fileName:y,parentPath:u}):R&&(x=(0,ts.U)({fileName:y,siblingNames:null!=(r=null==S?void 0:S.map(function(e){return e.filename}))?r:[],parentPath:u})),N=(0,m._)(function(e){var r,i,o,s,f,h,m,v,y,_,D;return(0,g.YH)(this,function(g){switch(g.label){case 0:if(x||!e||e===l||(i=(r=n()).readOnly,o=r.fs,s=r.onFileRenameStart,f=r.onFileRenameEnd,i))return[2];if(h=null,!e.includes("/"))return[3,2];return[4,td({fileName:e,parentPath:u,fs:o})];case 1:return h=g.sent(),[3,3];case 2:h=(0,ts.U)({fileName:e,siblingNames:null!=(m=null==S?void 0:S.map(function(e){return e.filename}))?m:[],parentPath:u}),g.label=3;case 3:if(h)return a(h),[2];if(y=(v=u===A.Dl?null:u+"/")?v+e:e,_=(0,E._6)(y)||A.Dl,I(!0),null==s||s({from:t.path,to:y}),_===A.Dl)return[3,6];return[4,o.stat(_)];case 4:if(g.sent().exists)return[3,6];return[4,o.createDir(_)];case 5:g.sent(),g.label=6;case 6:if(t.type!==d.pt.Directory)return[3,8];return[4,o.moveDir(t.path,y)];case 7:return D=g.sent(),[3,10];case 8:return[4,o.moveFile(t.path,y)];case 9:D=g.sent(),g.label=10;case 10:if(D.error)return a("Something went wrong"),I(!1),null==f||f(),[2];return c(null),null==f||f(),p(y),[2]}})}),[{canRename:!!y&&R&&!x,value:y,renaming:w,error:o||x,siblings:S},{setValue:_,rename:function(e){return N.apply(this,arguments)},cancel:function(){var e=n().onFileRenameEnd;c(null),null==e||e(),p(t.path)}}]),2),C=T[0],O=T[1],L=O.setValue,M=O.rename,Z=O.cancel,F=(0,f.useRef)(null),Y=(0,f.useRef)(C.value);return(0,f.useEffect)(function(){if(F.current){var e=Y.current;if(e){var t=e.lastIndexOf(".");t<=1&&(t=e.length);var r=+!!e.startsWith(".");F.current.focus(),F.current.setSelectionRange(r,t)}}},[]),(0,s.Y)(rb,{siblings:C.siblings?C.siblings.filter(function(t){return t.filename!==(0,E.WP)(e.path)}):[],type:"rename",inputRef:F,loading:C.renaming,error:C.error,value:C.value,fileType:e.fileType,onClickOutside:function(e){var t=e.inputValue;C.canRename?M(t):C.error||Z()},onChange:function(e){L(e.currentTarget.value)},onKeyDown:function(e){if("Escape"===e.key)return void Z();"Enter"===e.key&&(C.canRename?M(e.currentTarget.value):C.error||Z())},onSuggestion:function(e){L(e),M(e)}})}var rT=r(88990),rC=(n={},(0,l._)(n,rT.PX.ADDED,"A"),(0,l._)(n,rT.PX.UNTRACKED,"A"),(0,l._)(n,rT.PX.MODIFIED,"M"),(0,l._)(n,rT.PX.DELETED,"D"),(0,l._)(n,rT.PX.RENAMED,"R"),(0,l._)(n,rT.PX.COPIED,"C"),n),rO=(i={},(0,l._)(i,rT.PX.ADDED,tO.LU.greenDimmest),(0,l._)(i,rT.PX.UNTRACKED,tO.LU.greenDimmest),(0,l._)(i,rT.PX.MODIFIED,tO.LU.yellowDimmest),(0,l._)(i,rT.PX.DELETED,tO.LU.redDimmest),(0,l._)(i,rT.PX.RENAMED,tO.LU.tealDimmest),(0,l._)(i,rT.PX.COPIED,tO.LU.limeDimmest),i),rL=(o={},(0,l._)(o,rT.PX.ADDED,tO.LU.greenStrongest),(0,l._)(o,rT.PX.UNTRACKED,tO.LU.greenStrongest),(0,l._)(o,rT.PX.MODIFIED,tO.LU.yellowStrongest),(0,l._)(o,rT.PX.DELETED,tO.LU.redStrongest),(0,l._)(o,rT.PX.RENAMED,tO.LU.tealStrongest),(0,l._)(o,rT.PX.COPIED,tO.LU.limeStrongest),o);function rM(e){return e===rT.PX.ADDED||e===rT.PX.UNTRACKED||e===rT.PX.MODIFIED||e===rT.PX.DELETED||e===rT.PX.RENAMED||e===rT.PX.COPIED}var rZ={color:tE.statusColor,fontSize:tE.fontSizeSmall,minWidth:tE.dirStatusIconSize,height:tE.dirStatusIconSize},rH=(0,tL.x)({fileIcon:[tv.wp.fontWeight.bold,tv.wp.px(2),tv.wp.center,rZ],directoryCountIcon:[tv.wp.fontWeight.medium,tv.wp.borderRadius(4),tv.wp.px(2),tv.wp.center,rZ,{backgroundColor:tE.statusBackgroundColor}],directoryDraftBufferIndicator:[tv.wp.width(8),tv.wp.height(8),tv.wp.ml(8),tv.wp.border({color:tO.LU.foregroundDimmer,width:1}),{borderRadius:"50%"}],fileDraftBufferIndicator:[tv.wp.width(8),tv.wp.height(8),tv.wp.backgroundColor.foregroundDimmer,{borderRadius:"50%"}]});function rF(e){return(0,s.Y)(tZ.S,{css:rH.fileIcon,children:(0,s.Y)(tZ.S,{children:e.text})})}function rY(e){return(0,s.Y)(tZ.S,{css:rH.directoryCountIcon,children:(0,s.Y)(tZ.S,{children:e.count})})}var rP=r(63166),rk=r(4616),rG=r(62252),rB=r(63456),rj=r(63837),rz=[tv.wp.position.absolute,tv.wp.top(0),tv.wp.left(0),{width:"calc(100% - ".concat(tE.rowLeftIndent,")"),height:tE.rowHeight,transform:"translateY(".concat(tE.rowY,")"),marginLeft:tE.rowLeftIndent}],rW=(0,tL.x)({divider:(0,c._)(rz).concat([t_,tv.wp.flex.growAndShrink(1),tv.wp.justify.center]),dividerInner:[{borderTop:"1px dashed",borderColor:tO.LU.outlineDimmest,height:"70%",justifyContent:"end"}],dividerText:[tv.wp.truncate,tv.wp.color.foregroundDimmer,{fontSize:tE.fontSizeSmall}],error:(0,c._)(rz).concat([tv.wp.rowWithGap(4),tv.wp.align.center,t_]),emptyDir:(0,c._)(rz).concat([t_,tv.wp.color.foregroundDimmest,tv.wp.justify.center,{paddingLeft:tE.iconSize,paddingRight:tE.horizontalPadding}]),row:(0,c._)(rz).concat([tv.wp.flex.growAndShrink(1),tv.wp.flex.row,tv.wp.align.center,rl.b.nofill,(u={backgroundColor:tE.nodeBackgroundColor,borderRadius:tE.borderRadius,cursor:"pointer","&:focus":{boxShadow:"0 0 0 2px "+tO.LU.accentPrimaryDefault,zIndex:1}},(0,l._)(u,ty.hasUnsavedChangesDisplay,"flex"),(0,l._)(u,"@media (hover: hover)",(0,l._)({},ty.contextMenuButtonDisplay,"none")),(0,l._)(u,"&:hover, &:active, &:focus",(a={},(0,l._)(a,ty.contextMenuButtonDisplay,"flex"),(0,l._)(a,ty.hasUnsavedChangesDisplay,"none"),a)),(0,l._)(u,"transitionDuration","0ms"),u)]),rowContent:[tv.wp.flex.row,tv.wp.align.center,tv.wp.flex.growAndShrink(1),t_],uploadRow:(0,c._)(rz).concat([tv.wp.flex.growAndShrink(1),tv.wp.align.center,tv.wp.flex.row,tv.wp.align.center,t_,tv.wp.border({color:"transparent"}),(0,l._)({backgroundColor:tE.nodeBackgroundColor,borderRadius:tE.borderRadius},ty.statusColor,tO.LU.foregroundDimmer)]),createRow:(0,c._)(rz).concat([tv.wp.justify.center]),icon:[tD,{marginRight:tE.iconTextGap}],text:[tb,tv.wp.flex.growAndShrink(1),{color:tE.statusColor}],emptyDirText:[tb,tv.wp.display.flex,tv.wp.justify.center,tv.wp.flex.growAndShrink(1),{color:tE.statusColor}],contextMenuButton:[tv.wp.reset.button,tv.wp.height("100%"),tv.wp.center,tv.wp.cursor.pointer,rl.b.filled,tD,{display:tE.contextMenuButtonDisplay,borderRadius:"0 ".concat(tE.borderRadius," ").concat(tE.borderRadius," 0"),transitionDuration:"0ms",backgroundColor:"transparent"}],draftBufferContainer:[{display:tE.hasUnsavedChangesDisplay}]});function rV(e){var t,r=(t=e.path,ej((0,tl.A)(function(){return(0,y.eU)(function(e){var r;return null!=(r=e(L).get(t))?r:null})},[t]))),n=ej(eu);return(null==r?void 0:r.length)?(0,s.Y)(rP.A,{size:n,activeUsers:r}):null}function rK(e){var t,r=(t=e.path,ej((0,tl.A)(function(){return(0,y.eU)(function(e){var r=[],n=!0,i=!1,o=void 0;try{for(var a,u=e(L)[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){var l=(0,v._)(a.value,2),s=l[0],f=l[1];if(!(0,w.hL)(t,s))return;r.push.apply(r,(0,c._)(f))}}catch(e){i=!0,o=e}finally{try{n||null==u.return||u.return()}finally{if(i)throw o}}return r.length?r:null})},[t])));return(null==r?void 0:r.length)?(0,s.Y)(rP.A,{activeUsers:r}):null}function r$(e){return(0,s.Y)(tZ.S,{title:"menu",tag:"button",css:rW.contextMenuButton,onClick:e.onClick,children:(0,s.Y)(rj.A,{})})}function rX(e,t){var r=ez((0,tl.A)(function(){return(0,D.mg)(eS,function(e){return e.has(t)})},[t]));(0,h.d)(e,r,function(e){return(0,l._)({},ty.nodeBackgroundColor,e?tO.LU.backgroundHigher:"transparent")}),(0,f.useEffect)(function(){var t=function(t){e.current&&e.current.setAttribute("aria-selected",t?"true":"false")};return t(r.current),r.subscribe(t)},[e,r,t])}var rq=(0,f.memo)(function(e){var t,r,n,i,o,a,u,c,h,m,g,y=(0,f.useRef)(null),_=tR(e.index),b=ej((t=e.path,(0,tl.A)(function(){return(0,D.mg)(ef,function(e){var r;return!!(null==(r=e.get(t))?void 0:r.expanded)})},[t]))),A=ej((r=e.path,(0,tl.A)(function(){return(0,D.mg)(ef,function(e){var t;return!!(null==(t=e.get(r))?void 0:t.loading)})},[r]))),I=(i=(n=(0,v._)((0,f.useState)(A),2))[0],o=n[1],(0,f.useEffect)(function(){if(!A)return void o(!1);var e=setTimeout(function(){return o(!0)},500);return function(){clearTimeout(e)}},[A]),i),U=eW(B),R=ej(Y),x=tU(e.path),N=(a=e.path,u=eW(tw),(0,tl.A)(function(){return function(e){u({event:e,path:a})}},[u,a])),T=(0,v._)(tS({path:e.path,index:e.index}),2),C=T[0],O=T[1],L=e.path===R&&A,M=L?S:(0,E.WP)(e.path),Z=tV({path:e.path,type:d.pt.Directory}),H=Z.dragRef,F=Z.sizeRef,k=Z.isDragging;rX(y,e.path);var G=(c=e.path,ej((0,tl.A)(function(){return(0,D.mg)(P,function(e){return e?function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){var l=(0,v._)(a.value,2),c=l[0],s=l[1],f=s.index,d=s.worktree;(0,w.hL)(t,c)&&r.push({path:c,index:f,worktree:d})}}catch(e){i=!0,o=e}finally{try{n||null==u.return||u.return()}finally{if(i)throw o}}if(0===r.length)return null;var p=r.every(function(e){return e.index===rT.PX.ADDED||e.worktree===rT.PX.UNTRACKED})?rT.PX.ADDED:rT.PX.MODIFIED;if(!rM(p))return null;var h=r.length;return{color:rL[p],backgroundColor:rO[p],count:h}}(e,c):null},ta())},[c]))),j=ej($);return(0,s.FD)(tZ.S,{style:(0,rr._)((0,rt._)({},null==_?void 0:_.style),(g={},(0,l._)(g,ty.statusColor,null!=(h=null==G?void 0:G.color)?h:tO.LU.foregroundDimmer),(0,l._)(g,ty.statusBackgroundColor,null==G?void 0:G.backgroundColor),(0,l._)(g,"opacity",k?.1:void 0),g)),tabIndex:x,role:"treeitem","aria-label":M,"aria-expanded":b,"aria-level":(null!=(m=null==_?void 0:_.depth)?m:0)+1,css:rW.row,onFocus:function(){return O(e.path)},innerRef:(0,p.S)([y,C,F,e.pending?void 0:H],{breadcrumb:"client/workspace/components/Filetree/Row.tsx:345"}),onContextMenu:j?function(t){j(t,{path:e.path,type:d.pt.Directory})}:void 0,onKeyDown:e.pending?void 0:function(t){"Enter"===t.key&&U(e.path)},onClick:e.pending?void 0:function(e){e.currentTarget===e.target&&N(e)},children:[(0,s.FD)(tZ.S,{title:e.path,css:rW.rowContent,onClick:e.pending?void 0:N,children:[(0,s.Y)(tZ.S,{css:rW.icon,children:L||I&&!b?(0,s.Y)(rB.A,{}):(0,s.Y)(s.FK,{children:b?(0,s.Y)(rG.A,{color:tO.LU.foregroundDimmer}):(0,s.Y)(tH.A,{color:tO.LU.foregroundDimmer})})}),(0,s.Y)(tZ.S,{css:rW.text,children:M}),e.uploadProgress?(0,s.Y)(rx,{uploadProgress:e.uploadProgress}):null,G?(0,s.Y)(rY,{count:G.count}):null,b?null:(0,s.Y)(rK,{path:e.path}),null]}),j?(0,s.Y)(r$,{onClick:function(t){j(t,{path:e.path,type:d.pt.Directory})}}):null]})}),rJ=(0,f.memo)(function(e){var t,r,n,i,o,a,u,c,h=(0,f.useRef)(null),m=tR(e.index),g=(t=e.path,r=eV(K),n=eW(eC),i=eW(H),(0,tl.A)(function(){return{onClick:function(e){var o=r(),a=o.onFileSelect,u=o.multiselectModifierKey,l=u?tA(e,u):void 0;n({node:{path:t,type:d.pt.File},mode:l}),i(t),l||null==a||a({path:t,event:e,type:"click"})},onDoubleClick:function(e){var n=r().onFileDoubleClick;null==n||n(e,t)}}},[t,r,i,n])),y=g.onClick,_=g.onDoubleClick,b=tU(e.path),A=eW(B),w=(0,v._)(tS({path:e.path,index:e.index}),2),I=w[0],U=w[1],R=(0,E.WP)(e.path),S=tV({path:e.path,type:d.pt.File}),x=S.dragRef,N=S.sizeRef,T=S.isDragging;rX(h,e.path);var C=(o=e.path,ej((0,tl.A)(function(){return(0,D.mg)(P,function(e){return e?function(e,t){var r=null==e?void 0:e.get(t);if(!r)return null;var n=null;return r.worktree!==rT.PX.UNMODIFIED?n=r.worktree:r.index!==rT.PX.UNMODIFIED&&(n=r.index),n&&rM(n)?{color:rL[n],text:rC[n]}:null}(e,o):null},ta())},[o]))),O=ej($);return(0,s.FD)(tZ.S,{style:(0,rr._)((0,rt._)({},null==m?void 0:m.style),(c={},(0,l._)(c,ty.statusColor,null!=(a=null==C?void 0:C.color)?a:tO.LU.foregroundDimmer),(0,l._)(c,"opacity",T?.1:void 0),c)),tabIndex:b,dataCy:"filetree-file",css:rW.row,onFocus:function(){return U(e.path)},innerRef:(0,p.S)([h,I,N,e.pending?void 0:x],{breadcrumb:"client/workspace/components/Filetree/Row.tsx:464"}),role:"treeitem","aria-label":R,"aria-level":(null!=(u=null==m?void 0:m.depth)?u:0)+1,onDoubleClick:e.pending?void 0:_,onContextMenu:O?function(t){O(t,{path:e.path,type:d.pt.File})}:void 0,onKeyDown:e.pending?void 0:function(t){"Enter"===t.key&&A(e.path)},onClick:e.pending?void 0:function(e){e.currentTarget===e.target&&y(e)},children:[(0,s.FD)(tZ.S,{title:e.path,css:rW.rowContent,onClick:e.pending?void 0:y,children:[(0,s.Y)(tZ.S,{css:rW.icon,children:(0,s.Y)(tM.A,{path:e.path})}),(0,s.Y)(tZ.S,{css:rW.text,children:R}),C?(0,s.Y)(rF,{text:C.text}):null,(0,s.Y)(rV,{path:e.path}),null]}),O?(0,s.Y)(r$,{onClick:function(t){O(t,{path:e.path,type:d.pt.File})}}):null]})}),rQ=(0,f.memo)(function(e){var t=tR(e.index);return(0,s.Y)(tZ.S,{css:rW.divider,style:null==t?void 0:t.style,role:"treeitem",children:(0,s.Y)(tZ.S,{css:rW.dividerInner,children:(0,s.Y)(tZ.S,{css:rW.dividerText,children:e.label})})})}),r0=(0,f.memo)(function(e){var t=tR(e.index);return(0,s.FD)(tZ.S,{css:rW.error,style:null==t?void 0:t.style,role:"treeitem",children:[(0,s.Y)(rv.A,{}),(0,s.Y)(rk.EY,{multiline:!1,children:e.message})]})}),r1=(0,f.memo)(function(e){var t=tR(e.index);return(0,s.Y)(tZ.S,{css:rW.emptyDir,style:null==t?void 0:t.style,role:"treeitem",children:(0,s.Y)(tZ.S,{css:rW.emptyDirText,children:R})})}),r2=(0,f.memo)(function(e){var t=tR(e.index);return(0,s.Y)(tZ.S,{css:rW.createRow,style:null==t?void 0:t.style,role:"treeitem",children:(0,s.Y)(rw,{dir:e.dir})})}),r5=(0,f.memo)(function(e){var t=tR(e.index),r=(0,E.WP)(e.path);return(0,s.Y)(tZ.S,{style:null==t?void 0:t.style,css:rW.createRow,role:"treeitem","aria-label":r,children:(0,s.Y)(rN,{path:e.path,fileType:e.fileType})})}),r4=(0,f.memo)(function(e){var t=tR(e.index),r=(0,E.WP)(e.path);return(0,s.FD)(tZ.S,{style:null==t?void 0:t.style,css:rW.uploadRow,role:"treeitem","aria-label":r,children:[(0,s.Y)(tZ.S,{css:rW.icon,children:(0,s.Y)(tM.A,{path:e.path})}),(0,s.Y)(tZ.S,{css:rW.text,children:r}),(0,s.Y)(rR,{progress:e.progress})]})}),r3=(0,f.memo)(function(e){var t,r=ej((t=e.index,(0,tl.A)(function(){return(0,y.eU)(function(e){var r,n;return null!=(n=null==(r=e(F).get(t))?void 0:r.row)?n:null})},[t])));return r?"error"===r.type?(0,s.Y)(r0,{index:e.index,message:r.message}):"divider"===r.type?(0,s.Y)(rQ,{index:e.index,label:r.label}):"emptyDir"===r.type?(0,s.Y)(r1,{index:e.index}):"create"===r.type?(0,s.Y)(r2,{index:e.index,dir:r.dir}):"uploadFile"===r.type?(0,s.Y)(r4,{index:e.index,path:r.path,progress:r.progress}):r.rename?(0,s.Y)(r5,{index:e.index,path:r.path,fileType:"file"===r.type?d.pt.File:d.pt.Directory}):"file"===r.type?(0,s.Y)(rJ,{index:e.index,path:r.path,pending:!!r.pending}):(0,s.Y)(rq,{index:e.index,path:r.path,pending:!!r.pending,uploadProgress:r.uploadProgress}):null}),r7=[tE.horizontalPadding,tE.rowLeftIndent,tE.iconSize,tE.iconTextGap].join(" + "),r6=(0,tL.x)({root:[tv.wp.overflow("hidden"),tv.wp.height(0),{pointerEvents:"none"}],file:[{paddingLeft:"calc(".concat(r7,")"),paddingRight:tE.horizontalPadding}]}),r8=(0,f.memo)(function(){var e=ej(ew);return e?(0,s.Y)(tZ.S,{css:r6.root,children:e.map(function(e){var t=e.type,r=e.text,n=e.depth,i=(0,l._)({},ty.rowLeftIndent,"calc(".concat(n," * ").concat(tE.gutterWidth,")")),o=t+n;return"divider"===t?(0,s.Y)(tZ.S,{style:i,css:rW.dividerInner,children:(0,s.Y)(rk.EY,{css:rW.dividerInner,multiline:!1,children:r.toUpperCase()})},o):(0,s.Y)(tZ.S,{css:r6.file,style:i,children:"create"===t?(0,s.Y)(rI,{create:function(){}}):(0,s.Y)(tZ.S,{css:rW.text,children:r.toUpperCase()})},o)})}):null}),r9=r(68387),ne=(0,tL.x)({content:[tv.wp.position.relative,{overflowY:"auto",height:"100%",minHeight:tE.minHeight}],scroll:[{position:"relative",height:tE.scrollHeight}],gutter:[tv.wp.position.absolute,tv.wp.top(0),tv.wp.left(0),tv.wp.reset.button,tv.wp.align.end,tv.wp.cursor.pointer,{width:tE.gutterWidth,"& > div":[tv.wp.height("100%"),tv.wp.width(1),{marginRight:"25%",opacity:.2,backgroundColor:tO.LU.foregroundDimmest}],"&:hover > div":{backgroundColor:tO.LU.accentPrimaryDefault,opacity:1}}]}),nt=(0,f.memo)(function(e){var t,r,n,i,o,a,u,m,g,y,_,D,b,w,I,U,R,S,x,N,T,C,O,L=ej(F),Z=tI();(0,h.d)(e.scrollRef,Z.fontSize,function(e){var t;return t={},(0,l._)(t,ty.fontSize,e+"px"),(0,l._)(t,ty.dirStatusIconSize,e+"px"),t}),(0,h.d)(e.scrollRef,Z.fontSizeSmall,function(e){return(0,l._)({},ty.fontSizeSmall,e+"px")}),(0,h.d)(e.scrollRef,Z.iconSize,function(e){return(0,l._)({},ty.iconSize,e+"px")}),(0,h.d)(e.scrollRef,Z.iconTextGap,function(e){return(0,l._)({},ty.iconTextGap,e+"px")}),(0,h.d)(e.scrollRef,Z.horizontalPadding,function(e){return(0,l._)({},ty.horizontalPadding,e+"px")}),(0,h.d)(e.scrollRef,Z.borderRadius,function(e){return(0,l._)({},ty.borderRadius,e+"px")}),(0,h.d)(e.scrollRef,Z.scrollHeight,function(e){return(0,l._)({},ty.scrollHeight,e+"px")}),(0,h.d)(e.scrollRef,Z.gutterWidth,function(e){return(0,l._)({},ty.gutterWidth,e+"px")}),(0,h.d)(e.scrollRef,Z.minHeight,function(e){return(0,l._)({},ty.minHeight,e+"px")});var H=eW(eg),P=(t=eW(tj),r=eW(tY),n=(0,f.useRef)(null),i=(0,f.useRef)(null),o=(0,f.useRef)(null),a=(0,e6.A)().showError,u=eV(tF),m=eW(tC),g=eW(tN),y=eW(tJ),_=(0,f.useRef)(null),D=eV(ef),b=eV(Y),w=eW(M),I=eW(eb),U=ej(X),S=(R=(0,v._)((0,eq.H)(function(){return{accept:[d.pt.File,d.pt.Directory,e0.FILE],canDrop:function(){return!0},hover:function(e,r){var a=o.current;if(a){i.current&&function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{scrollZoneSize:{w:50,h:50},scrollVelocity:{x:50,y:50},scrollUpdateThrottle:100},n=r.scrollZoneSize,i=r.scrollVelocity,o=r.scrollUpdateThrottle,a=e3()(function(){var r=t.getClientOffset();if(!r)return[0,0];var o=r.x,a=r.y,u=e.getBoundingClientRect(),l=u.x,c=u.y,s=u.width,f=u.height,d=Math.min(s/2,n.w),p=Math.min(f/2,n.h),h=function(e,t){var r=(0,v._)(t,2),n=r[0],i=r[1];return te()(e,n[0],n[1])?(e-n[1])/(n[1]-n[0]):te()(e,i[0],i[1])?(e-i[0])/(i[1]-i[0]):0};return[h(o,[[l,l+d],[l+s-d,l+s]])*i.x,h(a,[[c,c+p],[c+f-p,c+f]])*i.y]},o,{trailing:!1})();if(a){var u=(0,v._)(a,2),l=u[0],c=u[1];if(0!==l||0!==c){var s=e.scrollLeft,f=e.scrollTop,d=e.scrollWidth,p=e.scrollHeight,h=e.clientWidth,m=e.clientHeight;requestAnimationFrame(function(){e.scrollTop=(0,tt.E)(0,d-h,s+l),e.scrollTop=(0,tt.E)(0,p-m,f+c)})}}}(i.current,r);var l=r.getClientOffset();if(l){var c=t({x:l.x-a.x,y:l.y-a.y+u()});c?"file"===c.row.type||"uploadFile"===c.row.type?n.current=(0,E._6)(c.row.path)||A.Dl:"dir"===c.row.type?n.current=c.row.path:n.current=c.row.dir:n.current=b();var s="nodes"!==e.type||(0,E.Ag)(e.nodes).every(function(e){var t;return tx(e,null!=(t=n.current)?t:b())});if(y(s),(null==c?void 0:c.row.type)!=="dir"){_.current&&(clearTimeout(_.current.timer),_.current=null);return}var f=c.row.path;if(_.current){if(_.current.dir===f)return;clearTimeout(_.current.timer),_.current=null}if(s){var d=setTimeout(function(){var e;null!=(e=D().get(f))&&e.expanded||I(f)},400);_.current={dir:f,timer:d}}}}},drop:function(e,t){var r,i=null!=(r=n.current)?r:b();if("nodes"===e.type){g({to:i,nodes:e.nodes}),n.current=null;return}e.dirContent.then(function(e){var t=e.reduce(function(e,t){return t.size+e},0);return e.length>tr.Qq?void a("Trying to upload too many files at once. Please try again with fewer files."):t>tr.wr?void a("Total file upload size exceeds maximum limit. Please try again with smaller files."):void m({parentPath:i===A.Dl?void 0:i,files:e.filter(Boolean),onError:a})}),n.current=null},collect:function(e){return{isOver:e.isOver()}}}},[]),2))[0].isOver,x=R[1],N=eW(tq),(0,f.useEffect)(function(){if(N(S),S){var e,t=null==(e=i.current)?void 0:e.getBoundingClientRect();o.current=t?{x:t.x,y:t.y}:null,t&&w({width:t.width,height:t.height});return}_.current&&(clearTimeout(_.current.timer),_.current=null),n.current=null,r(null)},[N,S,r,w]),T=eW(tF),(0,f.useEffect)(function(){var e=i.current;if(e){var t=e3()(function(){T(e.scrollTop)},200);return e.addEventListener("scroll",t),function(){t.cancel(),e.removeEventListener("scroll",t)}}},[T]),{dropRef:U?void 0:x,containerRef:i}),k=P.dropRef,G=P.containerRef,B=eW(eO),j=ej($),z=ej(Y);C=eW(eH),O=ez(eN),(0,f.useEffect)(function(){var e=function(){O.current&&C(O.current)};return e(),O.subscribe(e)},[O,C]);var W=(0,p.S)([e.scrollRef,k,G],{breadcrumb:"client/workspace/components/Filetree/index.tsx:163"});return(0,s.FD)(tZ.S,{css:ne.content,px:2,innerRef:W,onKeyDown:H,onContextMenu:j?function(e){e.target===e.currentTarget&&j(e,{type:d.pt.Directory,path:z})}:void 0,onClick:function(e){e.target===e.currentTarget&&B()},children:[(0,s.Y)(r8,{}),(0,s.FD)(tZ.S,{css:ne.scroll,role:"tree",children:[(0,c._)(L.values()).map(function(e){var t=e.key,r=e.index;return(0,s.Y)(r3,{index:r},t)}),(0,s.Y)(nn,{}),(0,s.Y)(tB,{}),(0,s.Y)(tQ,{})]})]})}),nr=(0,f.memo)(function(){var e,t,r,n,i,o,a,u,l,d,p,h,m,v,g,y,E,_,D,b,A=(t=(0,f.useRef)(null),r=ej(em),n=eV(em),i=eV(q),o=(0,tl.A)(function(){return function(e){var t=n()[e];return t?J(i(),t.type):0}},[n,i]),a=eV(K),u=ez(ev),l=(0,f.useRef)(ej(k)),d=(0,tn.Te)({count:r.length,overscan:null!=(e=a().overscan)?e:100,getScrollElement:function(){return t.current},getItemKey:function(e){var t=r[e];return t?"error"===t.type?"error:"+t.dir+t.message:"divider"===t.type?"divider:"+t.dir+t.label:"emptyDir"===t.type?"emptyDir:"+t.dir:"create"===t.type?"create:"+t.dir:t.type+":"+t.path:""},estimateSize:o,rangeExtractor:function(e){var t=(0,ti.vp)(e);return null===u.current||t.includes(u.current)||void 0===r[u.current]?t:(0,c._)(t).concat([u.current])}}),(0,f.useEffect)(function(){l.current&&d.scrollToOffset(l.current)},[d,l]),p=eW(V),h=d.getVirtualItems(),m=d.getTotalSize(),(0,f.useEffect)(function(){p({rows:h,scrollHeight:m})},[p,h,m]),v=ej(W),(0,f.useEffect)(function(){if(v){var e=function(e){null!==e&&d.getVirtualItems()[e]&&d.scrollToIndex(e,{align:"auto",behavior:"auto"})};return setTimeout(function(){return e(u.current)}),u.subscribe(e)}},[d,u,v]),g=eW(eZ),(0,f.useEffect)(function(){g(d)},[g,d]),{scrollRef:t,virtualizer:d}).scrollRef;return y=ez(eK),E=eV(K),(0,f.useEffect)(function(){return y.subscribe(function(e){if(e){var t=E(),r=t.readOnly,n=t.onDeleteNodes,i=t.fs;!r&&n&&n({nodes:e,confirm:function(){return function(e,t){return eX.apply(this,arguments)}(i,e)}})}})},[E,y]),_=ej(t9),D=ez(ef),b=eW(re),(0,f.useEffect)(function(){if(_){var e,t,r=null,n=null!=(e=window.requestIdleCallback)?e:window.requestAnimationFrame,i=null!=(t=window.cancelIdleCallback)?t:window.cancelAnimationFrame,o=t1()(function(){r&&i(r),r=n(b)},1e3),a=D.subscribe(o);return document.addEventListener("visibilitychange",b),document.addEventListener("beforeunload",b),function(){o.cancel(),r&&i(r),document.removeEventListener("visibilitychange",b),document.removeEventListener("beforeunload",b),a(),b()}}},[_,D,b]),(0,s.Y)(nt,{scrollRef:A})}),nn=(0,f.memo)(function(){var e=ej(z),t=eW(e_);return(0,s.Y)(s.FK,{children:e.map(function(e){return(0,s.Y)(tZ.S,{tag:"button",onClick:function(){return t(e.dir)},css:ne.gutter,style:{height:e.height,transform:"translate(calc(".concat(e.depth," * ").concat(tE.gutterWidth,"), ").concat(e.y,"px)")},children:(0,s.Y)(tZ.S,{})},"gutter"+e.dir+e.depth+e.y)})})});function ni(e){var t,r,n;return t=(0,e6.A)().showError,r=(0,v._)((0,f.useState)(function(){var r,n,i,o,a=(0,y.y$)();a.set(K,e);var u=null!=(r=e.root)?r:A.Dl,l=e.localCacheKey?(i=e.localCacheKey,o=t2.A.get(t7(i)),e5.J(t3,o)?{dirInfo:new Map(Object.entries(o.dirInfo)),scrollOffset:o.scrollOffset}:null):null;l&&a.set(k,l.scrollOffset);var c=null!=(n=null==l?void 0:l.dirInfo)?n:new Map;return c.has(u)||c.set(u,{expanded:!0}),a.set(ef,c),e.focusedPath&&a.set(H,e.focusedPath),{store:a,create:function(e,t){if(t)return void a.set(eI,{parentPath:t,fileType:e});var r=u,n=a.get(ex);(null==n?void 0:n.type)===d.pt.File?r=(0,E._6)(n.path)||A.Dl:(null==n?void 0:n.type)===d.pt.Directory&&(r=n.path),a.set(eI,{parentPath:r,fileType:e})},setPresenceState:function(e){a.set(L,e)},setFileStatus:function(e){a.set(P,e)},rename:function(e){a.set(B,e)},move:function(e){a.set(tN,e)},upload:function(e){a.set(tC,(0,rr._)((0,rt._)({},e),{onError:t}))},onLoad:function(t){var r=e.fs.watchDir(u,{onChange:function(){t({error:null}),r()},onError:function(e){t({error:e}),r()}});return r},select:function(e){return null===e?a.set(eO):a.set(eM,e)},scrollToPath:function(e){return a.set(eH,e)},hasLocalCache:!!l,getChildren:function(e){var t,r;return null!=(r=null==(t=a.get(ef).get(e))?void 0:t.children)?r:null},getSelectedNode:function(){return a.get(ex)},getSelectedNodes:function(){return a.get(eS)},deleteNodes:function(e){a.set(e$,e)},collapse:function(e){return a.set(e_,e)},getExpandedDirs:function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:A.Dl,r=new Set,n=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){var l=(0,v._)(a.value,2),c=l[0],s=l[1];c!==t&&s.expanded&&(t===A.Dl||(0,w.hL)(t,c))&&r.add(c)}}catch(e){i=!0,o=e}finally{try{n||null==u.return||u.return()}finally{if(i)throw o}}return 0===r.size?null:r}(a.get(ef),e)},expandParentDirsToPath:function(e){var t=(0,r9.q)(e).slice(0,-1),r=!0,n=!1,i=void 0;try{for(var o,u=t[Symbol.iterator]();!(r=(o=u.next()).done);r=!0){var l=o.value;a.set(eb,l)}}catch(e){n=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(n)throw i}}}}}),1)[0],(0,f.useEffect)(function(){r.store.set(K,e)},[r.store,e]),(0,f.useEffect)(function(){var e=!0,t=!1,n=void 0;try{for(var i,o=r.store.get(ef)[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var a=(0,v._)(i.value,2),u=a[0];a[1].expanded&&r.store.set(eb,u)}}catch(e){t=!0,n=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw n}}return function(){var e=!0,t=!1,n=void 0;try{for(var i,o=r.store.get(ef)[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var a,u=(0,v._)(i.value,2),l=(u[0],u[1]);null==(a=l.disposeWatcher)||a.call(l)}}catch(e){t=!0,n=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw n}}}},[r.store]),n=(0,ru.A)(e.onLoad),(0,f.useEffect)(function(){return r.onLoad(function(e){var t;return null==(t=n.current)?void 0:t.call(n,e)})},[r,n]),r}function no(e){return(0,s.Y)(eG,{store:e.store,children:(0,s.Y)(nr,{})})}},77562:(e,t,r)=>{"use strict";r.d(t,{Ni:()=>o,a4:()=>i,fp:()=>a,iY:()=>u});var n=Object.values(r(46023).A.multiplayer);function i(e){var t={};return n.forEach(function(e){t[e]=0}),e.forEach(function(e){t[e.color]++}),Object.keys(t).sort(function(e,r){return t[e]-t[r]})[0]}function o(e){var t=e.sessions.sort(function(e,t){return e.timestamp-t.timestamp}),r=!0,n=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(r=(o=a.next()).done);r=!0){var u=o.value;if(u.activeFile)return u.activeFile}}catch(e){n=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw i}}return null}function a(e,t){var r=t.find(function(t){return t.sessions.some(function(t){return t.id===e})});if(!r)throw Error("Expected user with session ID ".concat(e));return r}function u(e){var t=e.seconds,r=e.nanos;return Number(t||0)+(r||0)/1e9}},77694:(e,t,r)=>{"use strict";r.d(t,{A:()=>d});var n=r(17844),i=r(81073),o=r(21462),a=r(46011),u=r(27741),l=r(20809),c=r(78835),s=r(25578),f=(0,o.memo)(s.Ay);function d(e){var t=e.source,r=e.sourcePos,o=e.fs,s=e.path,d=e.onCodeInsert,p=(0,l.l)(o,s),h=(0,a.A)(t,100),m=(0,u.A)(function(){return{img:p,a:function(e){return(0,i.Y)(c.A,(0,n._)({filePath:s},e))}}},[p,s]);return(0,i.Y)(f,{onCodeInsert:d,components:m,sourcePos:r,children:h})}},86139:(e,t,r)=>{"use strict";r.d(t,{$:()=>v,o:()=>m});var n=r(12694),i=r(21462),o=r(79730),a=r(22677),u=r(79932),l=r(14596),c=r(55100),s=r(27741),f=r(30908),d=o.ZU.Array(o.ZU.String()),p=function(e){return"repl:hiddenFiles:"+e},h={get:function(e){var t=f.A.get(p(e));return a.J(d,t)?t:null},set:function(e,t){f.A.set(p(e),t)}},m=function(e){var t=(0,c.A)(),r=(0,n._)((0,i.useState)(function(){return h.get(t)}),2),o=r[0],a=r[1];return(0,i.useEffect)(function(){return e.watch(function(e){var r=function(e){h.set(t,e),a(e)};if(e.error){e.error===l.DO.NotFound&&r([]);return}if(!e.config.hidden)return void r([]);r(e.config.hidden)})},[e,t]),o},v=function(e){var t=m(e);return(0,s.A)(function(){return null===t?null:t.map(function(e){return(0,u.tL)(e)||e})},[t])}},88645:(e,t,r)=>{"use strict";r.d(t,{Qq:()=>a,Yv:()=>i,rX:()=>o});var n=r(86105);function i(e,t){for(var r=0;r<t.length;r+=1e4)e.push.apply(e,(0,n._)(t.slice(r,r+1e4)))}function o(e){return(0,n._)(Array(e))}function a(e,t){return Array.from(new Set(e.map(function(e){return e[t]}))).map(function(r){return e.find(function(e){return e[t]===r})}).filter(function(e){return!!e})}},88990:(e,t,r)=>{"use strict";r.d(t,{aT:()=>ew,AR:()=>_,xx:()=>m,Os:()=>D,uA:()=>L,JC:()=>U,HJ:()=>R,Xo:()=>A,Gi:()=>w,UN:()=>I,PX:()=>S,FF:()=>e5,iM:()=>rn,z5:()=>eo,GM:()=>tR,fn:()=>ei,qK:()=>en,By:()=>tU,is:()=>eu,xd:()=>eP,TL:()=>ej,om:()=>e_,nI:()=>e$,sg:()=>k,FW:()=>eq,du:()=>e1,j5:()=>e6,wP:()=>tt,WE:()=>td,gP:()=>tm,Pb:()=>tg,uD:()=>tN,U4:()=>tE,g$:()=>tD,Ew:()=>ed,rv:()=>ev,$g:()=>tC,G_:()=>tL,z0:()=>e3,FR:()=>ts,TR:()=>tZ,pk:()=>tF,DZ:()=>tP,WC:()=>tG,C4:()=>t5,Z3:()=>t3,jz:()=>t6,Iw:()=>eI,QA:()=>t9,qE:()=>eG,CY:()=>rt,Q:()=>eR,Dx:()=>t0,He:()=>eV,Uy:()=>Q,CC:()=>ea,eB:()=>ee,em:()=>et,C2:()=>er,w9:()=>W,xM:()=>V});var n,i,o,a=r(79730),u=function(e){return e.HEAD="HEAD",e.REMOTE_HEAD="REMOTE_HEAD",e.BRANCH="BRANCH",e.REMOTE_BRANCH="REMOTE_BRANCH",e.TAG="TAG",e}({});a.ZU.Enum(u);var l=a.ZU.Object({type:a.ZU.Literal("BRANCH"),name:a.ZU.String()}),c=a.ZU.Object({type:a.ZU.Literal("HEAD"),name:a.ZU.Literal("HEAD"),detached:a.ZU.Boolean(),ref:a.ZU.Union([l,a.ZU.Null()])}),s=a.ZU.Object({type:a.ZU.Literal("REMOTE_HEAD"),name:a.ZU.Literal("HEAD"),remote:a.ZU.String()}),f=a.ZU.Object({type:a.ZU.Literal("REMOTE_BRANCH"),name:a.ZU.String(),remote:a.ZU.String(),branch:a.ZU.String()}),d=a.ZU.Object({type:a.ZU.Literal("TAG"),name:a.ZU.String()}),p=a.ZU.Union([c,s,l,f,d]),h=a.ZU.Object({name:a.ZU.String(),email:a.ZU.String(),date:a.ZU.Number()}),m=function(e){return e.LOCAL="LOCAL",e.REMOTE="REMOTE",e.TRACKED="TRACKED",e}({});a.ZU.Enum(m);var v=a.ZU.Object({hash:a.ZU.String(),author:h}),g=a.ZU.Object({type:a.ZU.Literal("LOCAL"),name:a.ZU.String(),push:a.ZU.Union([f,l,a.ZU.Null()]),commit:v,remote:a.ZU.Null(),tracking:a.ZU.Null()}),y=a.ZU.Object({type:a.ZU.Literal("REMOTE"),name:a.ZU.String(),remote:a.ZU.String(),commit:v,push:a.ZU.Null(),tracking:a.ZU.Null()}),E=a.ZU.Object({type:a.ZU.Literal("TRACKED"),name:a.ZU.String(),remote:a.ZU.String(),push:f,tracking:y,commit:v}),_=a.ZU.Union([g,y,E]);a.ZU.Union([_,l,f,a.ZU.String()]),a.ZU.Object({refs:a.ZU.Array(p),hash:a.ZU.String(),parents:a.ZU.Union([a.ZU.Null(),a.ZU.Array(a.ZU.String())]),grafted:a.ZU.Boolean(),author:h,committer:h,subject:a.ZU.String(),body:a.ZU.String(),trailers:a.ZU.Record(a.ZU.String(),a.ZU.Union([a.ZU.String(),a.ZU.Undefined()])),notes:a.ZU.Optional(a.ZU.String())});var D=function(e){return e.ADDED="ADDED",e.COPIED="COPIED",e.DELETED="DELETED",e.MODIFIED="MODIFIED",e.RENAMED="RENAMED",e.TYPE_CHANGED="TYPE_CHANGED",e.UNKNOWN="UNKNOWN",e.BROKEN="BROKEN",e}({}),b=a.ZU.Enum(D);a.ZU.Object({path:a.ZU.String(),type:b,originalPath:a.ZU.Optional(a.ZU.String())}),a.ZU.Object({name:a.ZU.String(),push:a.ZU.String(),fetch:a.ZU.String()});var A=function(e){return e.FF_ONLY="FF_ONLY",e.MERGE="MERGE",e.REBASE="REBASE",e}({});a.ZU.Enum(A);var w=function(e){return e.NOT_INITIALIZED="NOT_INITIALIZED",e.ON_UNBORN_BRANCH="ON_UNBORN_BRANCH",e.MERGING="MERGING",e.REBASING="REBASING",e.REVERTING="REVERTING",e.CHERRY_PICKING="CHERRY_PICKING",e.APPLYING_MAILBOX="APPLYING_MAILBOX",e.BISECTING="BISECTING",e.INDEX_LOCKED="INDEX_LOCKED",e.DIRTY_WORKTREE="DIRTY_WORKTREE",e.DIRTY_INDEX="DIRTY_INDEX",e.CLEAN="CLEAN",e.DETACHED_HEAD="DETACHED_HEAD",e}({});a.ZU.Enum(w);var I=function(e){return e.INITIALIZING="INITIALIZING",e.INTERMEDIATE="INTERMEDIATE",e.NORMAL="NORMAL",e.DETACHED_HEAD="DETACHED_HEAD",e}({});a.ZU.Enum(I);var U=function(e){return e.FS_CHANGE="FS_CHANGE",e.FORCED_REFRESH="FORCED_REFRESH",e.NEW_PROFILE="NEW_PROFILE",e.CHANGED_PROFILE="CHANGED_PROFILE",e}({}),R=function(e){return e.REPLIT_DEFAULT="REPLIT_DEFAULT",e.GITHUB="GITHUB",e}({}),S=function(e){return e.UNTRACKED="UNTRACKED",e.UNMODIFIED="UNMODIFIED",e.MODIFIED="MODIFIED",e.TYPE_CHANGED="TYPE_CHANGED",e.ADDED="ADDED",e.DELETED="DELETED",e.RENAMED="RENAMED",e.COPIED="COPIED",e.UNMERGED="UNMERGED",e}({}),x=a.ZU.Enum(S),N=a.ZU.Object({type:a.ZU.Object({index:x,worktree:x}),path:a.ZU.String(),staged:a.ZU.Boolean(),unmerged:a.ZU.Boolean(),source:a.ZU.Optional(a.ZU.Object({type:a.ZU.Union([a.ZU.Literal("RENAMED"),a.ZU.Literal("COPIED")]),score:a.ZU.Number(),path:a.ZU.String()}))});a.ZU.Object({commit:a.ZU.Union([a.ZU.String(),a.ZU.Null()]),branch:a.ZU.Union([a.ZU.String(),a.ZU.Null()]),upstream:a.ZU.Union([a.ZU.Null(),a.ZU.Object({branch:a.ZU.String(),ahead:a.ZU.Number(),behind:a.ZU.Number()})]),stashes:a.ZU.Number(),changes:a.ZU.Array(N)});var T=r(29935),C=r(86105),O=r(82643),L=function(e){return e.UNKNOWN_NOT_GIT="UNKNOWN_NOT_GIT",e.UNKNOWN="UNKNOWN",e.TIMEOUT="TIMEOUT",e.CHANNEL_CLOSED="CHANNEL_CLOSED",e.UNKNOWN_REF="UNKNOWN_REF",e.NOT_INITIALIZED="NOT_INITIALIZED",e.UNAUTHENTICATED="UNAUTHENTICATED",e.INDEX_FILE_CORRUPT="INDEX_FILE_CORRUPT",e.UNKNOWN_REMOTE="UNKNOWN_REMOTE",e.INDEX_LOCKED="INDEX_LOCKED",e.NO_COMMITS="NO_COMMITS",e.PATH_MATCHED_NO_FILES="PATH_MATCHED_NO_FILES",e.USER_NOT_CONFIGURED="USER_NOT_CONFIGURED",e.INVALID_REFERENCE="INVALID_REFERENCE",e.BRANCH_ALREADY_EXISTS="BRANCH_ALREADY_EXISTS",e.MERGE_CONFLICT="MERGE_CONFLICT",e.UPSTREAM_NOT_SET="UPSTREAM_NOT_SET",e.HEAD_DETACHED="HEAD_DETACHED",e.DIRTY_WORKTREE="DIRTY_WORKTREE",e.PUSH_REJECTED="PUSH_REJECTED",e.REMOTE_ALREADY_EXISTS="REMOTE_ALREADY_EXISTS",e.ALREADY_INITIALIZED="ALREADY_INITIALIZED",e.INVALID_STATE="INVALID_STATE",e.PROTECTED_BRANCH="PROTECTED_BRANCH",e.NOTE_SUCCESSFULLY_REMOVED="NOTE_SUCCESSFULLY_REMOVED",e.OBJECT_HAS_NO_NOTE="OBJECT_HAS_NO_NOTE",e.OBJECT_ALREADY_HAS_NOTE="OBJECT_ALREADY_HAS_NOTE",e.NOTE_SUCCESSFULLY_OVERWRITTEN="NOTE_SUCCESSFULLY_OVERWRITTEN",e.PRE_COMMIT_HOOK_FAILED="PRE_COMMIT_HOOK_FAILED",e}({}),M=/^(fatal: |error: |remote: error: |CONFLICT \([^)]+\): )/im,Z=/^cat: .*: No such file or directory$/im;function H(e){return RegExp("^fatal: ".concat(e.source),"im")}function F(e){return RegExp("^error: ".concat(e.source),"im")}var Y=[{error:"NOT_INITIALIZED",match:[H(/not a git repository/)]},{error:"UNAUTHENTICATED",match:[H(/Authentication failed/),H(/unable to access/),H(/repository \S+ not found/),H(/could not read Username/),H(/could not read Password/),H(/Could not read from remote/)]},{error:"INDEX_FILE_CORRUPT",match:[H(/index file corrupt/),H(/index file smaller than expected/),F(/index file .*?\.idx is too small/)]},{error:"UNKNOWN_REMOTE",match:[H(/No such remote/),F(/No such remote/)]},{error:"UNKNOWN_REF",match:[H(/couldn't find remote ref/)]},{error:"INDEX_LOCKED",match:[H(/Unable to create .*?\.git\/index\.lock/),F(/Unable to create .*?\.git\/index\.lock/)]},{error:"NO_COMMITS",match:[H(/your current branch '.*?' does not have any commits yet/)]},{error:"PATH_MATCHED_NO_FILES",match:[H(/pathspec '.*?' did not match any files/),H(/pathspec '.*?' did not match any file\(s\) known to git/),H(/path '.*?' does not exist/),H(/path '.*?' exists on disk, but not in/)]},{error:"USER_NOT_CONFIGURED",match:[H(/unable to auto-detect email address/),H(/unable to auto-detect name/),H(/empty ident name \(for <.*?>\) not allowed/)]},{error:"INVALID_REFERENCE",match:[H(/invalid reference: .*?$/),H(/'.*?' - not a valid ref/)]},{error:"BRANCH_ALREADY_EXISTS",match:[H(/A branch named '.*?' already exists/)]},{error:"MERGE_CONFLICT",match:[H(/Not possible to fast-forward, aborting/),H(/refusing to merge unrelated histories/),H(/Exiting because of an unresolved conflict/),H(/Exiting because of unfinished merge/),F(/Failed to merge in the changes/),(n=/Merge conflict in/,RegExp("^CONFLICT \\([^\\)]+\\): ".concat(n.source),"im"))]},{error:"UPSTREAM_NOT_SET",match:[H(/The current branch \S+ has no upstream branch/),H(/No configured push destination/)]},{error:"HEAD_DETACHED",match:[H(/HEAD does not point to a branch/),H(/ref HEAD is not a symbolic ref/)]},{error:"DIRTY_WORKTREE",match:[F(/Your local changes to the following files would be overwritten/),F(/The following untracked working tree files would be overwritten/),F(/\S+ is not possible because you have unmerged files/),F(/cannot rebase: You have unstaged changes/)]},{error:"PROTECTED_BRANCH",match:[(i=/.*? Protected branch update failed/,RegExp("^remote: error: ".concat(i.source),"im"))]},{error:"PUSH_REJECTED",match:[F(/failed to push some refs to/)]},{error:"REMOTE_ALREADY_EXISTS",match:[H(/remote .*? already exists/),F(/remote .*? already exists/)]},{error:"INVALID_STATE",match:[H(/There is no merge in progress/),H(/There is no merge to abort/),H(/No rebase in progress/)]},{error:"OBJECT_ALREADY_HAS_NOTE",match:[F(/Cannot add notes. Found existing notes for object/)]}],P=[{error:"NOTE_SUCCESSFULLY_REMOVED",match:[/^Removing note for object/]},{error:"OBJECT_HAS_NO_NOTE",match:[/^Object \S+ has no note/]},{error:"NOTE_SUCCESSFULLY_OVERWRITTEN",match:[/^Overwriting existing notes for object \S+/]},{error:"PRE_COMMIT_HOOK_FAILED",match:[/pre-?commit/i]}];function k(e){if(M.test(e)){for(var t=0;t<Y.length;t++)for(var r=0;r<Y[t].match.length;r++)if(Y[t].match[r].test(e))return Y[t].error;return"UNKNOWN"}for(var n=0;n<P.length;n++)for(var i=0;i<P[n].match.length;i++)if(P[n].match[i].test(e))return P[n].error;return Z.test(e)?"PATH_MATCHED_NO_FILES":"UNKNOWN_NOT_GIT"}var G=r(12694),B=r(56902);function j(e,t){for(var r=[],n=e.split(t),i=0;i<n.length;i++){var o=n[i].trim();""!==o&&r.push(o)}return r}function z(e){return"'".concat(e.replace(/'/g,"'\\''"),"'")}function W(e){return e.replace(/^refs\/(?:heads|remotes)\//,"")}function V(e){if(-1===e.indexOf("/")||e.startsWith("refs/heads/"))return[null,null];if(e.startsWith("refs/remotes/")){var t=(0,B._)(e.split("/"));return[t[2],t.slice(3).join("/")]}var r=(0,B._)(e.split("/"));return[r[0],r.slice(1).join("/")]}function K(e){return e.replace(/^refs\/remotes\//,"")}function $(e){var t=(0,B._)(e.split("\n")),r=t[0],n=t.slice(1);return n.length?"".concat(r,"\n").concat(n.map(function(e){return"	"+e}).join("\n")):e}var X=/[~^:?*[\\\0-\x20\x7F]/,q=/^(([A-Za-z0-9]+@|http(|s):\/\/)|(http(|s):\/\/[A-Za-z0-9]+@))([A-Za-z0-9.]+(:\d+)?)(?::|\/)([\d/\w.-]+?)$/,J=new RegExp([X,/^$/,/^\//,/\/$/,/\.lock$/,/\/{2,}/,/^\./,/\.$/,/\/\./,/\.\./,/@\{/,/^@$/,/^-/].map(function(e){return"(?:".concat(e.source,")")}).join("|"));function Q(e){return 0===e.length||!X.test(e)}function ee(e){return!J.test(e)}function et(e){return!J.test(e)}function er(e){return q.test(e)}function en(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return"string"==typeof e?W(e):"commit"in e?e.type===m.LOCAL||t&&e.type===m.TRACKED?e.name:"".concat(e.remote,"/").concat(e.name):e.name}function ei(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("string"==typeof e)return e;if("commit"in e)return e.type===m.LOCAL||t&&e.type===m.TRACKED?"refs/heads/".concat(e.name):"refs/remotes/".concat(e.remote,"/").concat(e.name);if(e.type===u.BRANCH)return"refs/heads/".concat(e.name);if(e.type===u.REMOTE_BRANCH)return"refs/remotes/".concat(e.remote,"/").concat(e.branch);throw Error("Unknown branch object")}function eo(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("string"==typeof e)return t&&!e.startsWith("refs/remotes/")?null:(0,G._)(V(e),1)[0];if("commit"in e)return t&&e.type!==m.REMOTE?null:e.remote;if(e.type===u.BRANCH)return null;if(e.type===u.REMOTE_BRANCH)return e.remote;throw Error("Unknown branch object")}function ea(e,t){return e===t||null!==e&&null!==t&&ei(e)===ei(t)}function eu(e,t){return el.apply(this,arguments)}function el(){return(el=(0,T._)(function(e,t){var r,n,i,o,a;return(0,O.YH)(this,function(u){switch(u.label){case 0:if(r=t.name,n=t.url,o=void 0!==(i=t.fetch)&&i,!et(r=K(r)))return[2,{error:L.INVALID_REFERENCE,extras:{remote:r}}];return r=z(r),n=z(n),[4,e(["git remote add"].concat((0,C._)(o?["-f"]:[]),[r,n]).join(" "),{serviceMethod:"git-add-remote"})];case 1:if((a=u.sent()).error)return[2,a];return[2,{didFetch:a.output.includes("Updating"),error:null}]}})})).apply(this,arguments)}var ec=r(83846);function es(e,t){return"{ ".concat(e,"; } > /dev/null 2>&1 && echo -n '").concat(t,"' && exit 0")}var ef=[es("! git rev-parse --is-inside-work-tree",w.NOT_INITIALIZED),es('[ "$(! git rev-parse HEAD -- 2>&1)" = "fatal: bad revision \'HEAD\'" ]',w.ON_UNBORN_BRANCH),es("git rev-parse -q --verify MERGE_HEAD",w.MERGING),es("[ -d '.git/rebase-apply' ] && [ -f '.git/rebase-apply/applying' ]",w.APPLYING_MAILBOX),es("[ -d '.git/rebase-apply' ] || [ -d '.git/rebase-merge' ]",w.REBASING),es("git rev-parse -q --verify REVERT_HEAD",w.REVERTING),es("git rev-parse -q --verify CHERRY_PICK_HEAD",w.CHERRY_PICKING),es("[ -f '.git/BISECT_LOG' ]",w.BISECTING),es("! git symbolic-ref -q HEAD",w.DETACHED_HEAD),es("[ -f '.git/index.lock' ]",w.INDEX_LOCKED),"git update-index -q --refresh > /dev/null || exit $?",es('{ ! git diff-files --quiet; } || [ -n "$(git ls-files --others --exclude-standard)" ]',w.DIRTY_WORKTREE),es("! git diff-index --cached --quiet HEAD --",w.DIRTY_INDEX),'echo -n "CLEAN"'].join(";");function ed(e){return ep.apply(this,arguments)}function ep(){return(ep=(0,T._)(function(e){var t,r,n;return(0,O.YH)(this,function(i){switch(i.label){case 0:return[4,e(ef,{serviceMethod:"git-get-repository-state"})];case 1:if((t=i.sent()).error)return[2,t];if(!(t.output in w))return[2,{error:L.UNKNOWN,extras:{output:t.output}}];return n=function(e){switch(e){case w.NOT_INITIALIZED:case w.ON_UNBORN_BRANCH:return I.INITIALIZING;case w.MERGING:case w.REBASING:case w.REVERTING:case w.CHERRY_PICKING:case w.APPLYING_MAILBOX:case w.BISECTING:case w.INDEX_LOCKED:return I.INTERMEDIATE;case w.DIRTY_WORKTREE:case w.DIRTY_INDEX:case w.CLEAN:return I.NORMAL;case w.DETACHED_HEAD:return I.DETACHED_HEAD}}(r=t.output),[2,{state:r,type:n,error:null}]}})})).apply(this,arguments)}var eh='git commit --allow-empty --no-edit --quiet -m "Initial commit"',em='git add -A && git commit --allow-empty --no-edit --quiet -m "Initial commit"';function ev(e){return eg.apply(this,arguments)}function eg(){return(eg=(0,T._)(function(e){var t,r,n,i,o,a,u,l,c,s=arguments;return(0,O.YH)(this,function(f){switch(f.label){case 0:return n=void 0===(r=(t=s.length>1&&void 0!==s[1]?s[1]:{}).initialCommit)||r,o=void 0===(i=t.includeAllInitialFiles)||i,[4,ed(e)];case 1:if((a=f.sent()).error)return[2,a];if(a.type!==I.INITIALIZING)return[2,{error:L.ALREADY_INITIALIZED}];if(a.state!==w.ON_UNBORN_BRANCH)return[3,4];if(!n)return[3,3];return[4,e(o?em:eh,{serviceMethod:"git-init"})];case 2:if((u=f.sent()).error)return[2,u];f.label=3;case 3:return[2,{error:null}];case 4:return[4,e(["git init --quiet","git checkout --quiet --no-progress -b main"],{serviceMethod:"git-init"})];case 5:if((l=f.sent()).error)return[2,l];if(!n)return[3,7];return[4,e(o?em:eh,{serviceMethod:"git-init"})];case 6:if((c=f.sent()).error)return[2,c];f.label=7;case 7:return[2,{error:null}]}})})).apply(this,arguments)}a.ZU.Object({initialCommit:a.ZU.Optional(a.ZU.Boolean()),includeAllInitialFiles:a.ZU.Optional(a.ZU.Boolean())});var ey=(o={},(0,ec._)(o,w.INDEX_LOCKED,"if [[ ! -f .git/index.lock ]]; then exit 0; fi; for _ in $(seq 0 10); do if ! pgrep -x git >/dev/null; then rm -f .git/index.lock && exit 0; else sleep 0.1; fi; done"),(0,ec._)(o,w.MERGING,"git merge --abort"),(0,ec._)(o,w.REBASING,"git rebase --abort"),(0,ec._)(o,w.REVERTING,"git revert --abort"),(0,ec._)(o,w.CHERRY_PICKING,"git cherry-pick --abort"),(0,ec._)(o,w.APPLYING_MAILBOX,"git am --abort"),(0,ec._)(o,w.BISECTING,"git bisect reset >/dev/null 2>&1"),o),eE=a.ZU.Object({message:a.ZU.String(),trailers:a.ZU.Optional(a.ZU.Record(a.ZU.String(),a.ZU.String())),noVerify:a.ZU.Optional(a.ZU.Boolean()),files:a.ZU.Optional(a.ZU.Array(a.ZU.String())),allowEmpty:a.ZU.Optional(a.ZU.Boolean())});function e_(e,t){return eD.apply(this,arguments)}function eD(){return(eD=(0,T._)(function(e,t){var r,n;return(0,O.YH)(this,function(i){switch(i.label){case 0:return[4,e(function(e){var t=e.message,r=e.trailers,n=e.files,i=e.allowEmpty,o=e.noVerify,a=["--allow-empty-message","--cleanup=whitespace","--no-edit","--quiet","-m ".concat(z(t))];if(r){var u=!0,l=!1,c=void 0;try{for(var s,f=Object.entries(r)[Symbol.iterator]();!(u=(s=f.next()).done);u=!0){var d=(0,G._)(s.value,2),p=d[0],h=d[1],m=z("".concat(p,":").concat($(h)));a.push("--trailer ".concat(m))}}catch(e){l=!0,c=e}finally{try{u||null==f.return||f.return()}finally{if(l)throw c}}}return(void 0===i||i)&&a.push("--allow-empty"),(void 0===o||o)&&a.push("--no-verify"),n&&a.push.apply(a,["--only","--"].concat((0,C._)(n.map(z)))),"git --literal-pathspecs commit ".concat(a.join(" "))}(t),{serviceMethod:"git-commit"})];case 1:if((r=i.sent()).error)return[2,r];return[4,e("git rev-parse HEAD",{serviceMethod:"git-commit"})];case 2:if((n=i.sent()).error)return[2,n];return[2,{hash:n.output,error:null}]}})})).apply(this,arguments)}var eb=r(17844),eA=r(93629),ew="Replit-Restored-To";function eI(e,t){return eU.apply(this,arguments)}function eU(){return(eU=(0,T._)(function(e,t){var r;return(0,O.YH)(this,function(n){switch(n.label){case 0:var i,o,a,u,l;return[4,e((o=z(t.commit),a=z(null!=(i=t.message)?i:"Restored to ".concat(o)),u=function(e){if(0===Object.keys(e).length)return"";var t=Object.entries(e).map(function(e){var t=(0,G._)(e,2),r=t[0],n=t[1];return"".concat(r,": ").concat($(n))}).join("\n");return'-m "'.concat(t,'"')}((0,eA._)((0,eb._)({},t.trailers),(0,ec._)({},ew,"${RESOLVED_COMMIT_HASH}"))),l="-p HEAD"+(t.extraParent?" -p ".concat(z(t.extraParent)):""),["set -eo pipefail;","RESOLVED_COMMIT_HASH=$(git rev-parse ".concat(o,");"),"COMMIT_HASH=$(git commit-tree ".concat(l," -m ").concat(a," ").concat(u,' "${RESOLVED_COMMIT_HASH}^{tree}");'),'git reset --quiet --hard "$COMMIT_HASH";','echo -n "$COMMIT_HASH";'].join(" ")))];case 1:if((r=n.sent()).error)return[2,r];return[2,{hash:r.output,error:null}]}})})).apply(this,arguments)}function eR(e,t){return eS.apply(this,arguments)}function eS(){return(eS=(0,T._)(function(e,t){var r,n;return(0,O.YH)(this,function(i){switch(i.label){case 0:if(!(r=function(e){if("all"in e)return e.all?["git add -A"]:["git reset -q -- ."];var t=e.add,r=e.reset;if(!(null==t?void 0:t.length)&&!(null==r?void 0:r.length))return null;var n=[];if(t){var i=t.map(z).join(" ");n.push("git --literal-pathspecs add -- ".concat(i))}if(r){var o=r.map(z).join(" ");n.push("git --literal-pathspecs reset -q -- ".concat(o))}return n}(t)))return[2,{error:null}];return[4,e(r,{serviceMethod:"git-stage-files"})];case 1:if((n=i.sent()).error)return[2,n];return[2,{error:null}]}})})).apply(this,arguments)}a.ZU.Object({commit:a.ZU.String(),extraParent:a.ZU.Optional(a.ZU.String()),message:a.ZU.Optional(a.ZU.String()),trailers:a.ZU.Optional(a.ZU.Record(a.ZU.String(),a.ZU.String()))}),a.ZU.Union([a.ZU.Object({all:a.ZU.Boolean()}),a.ZU.Object({add:a.ZU.Optional(a.ZU.Array(a.ZU.String())),reset:a.ZU.Optional(a.ZU.Array(a.ZU.String()))})]);var ex="refs/replit/agent-ledger";function eN(e,t){return eT.apply(this,arguments)}function eT(){return(eT=_async_to_generator(function(e,t){var r,n,i,o,a;return _ts_generator(this,function(u){switch(u.label){case 0:return r=t.commit,n=t.message,o=void 0===(i=t.trailers)?{}:i,r=wrapInSingleQuotes(r),n=wrapInSingleQuotes(null!=n?n:r),a=formatTrailersForMessage(o),[4,e(["set -eo pipefail",'RESOLVED_COMMIT_HASH="$(git rev-parse '.concat(r,')"'),'PREVIOUS_LEDGER_COMMIT="$(git rev-parse --verify '.concat(ex,' 2>/dev/null || true)"'),"PARENTS=()",'if [[ -n "${PREVIOUS_LEDGER_COMMIT}" ]]; then PARENTS+=(-p "${PREVIOUS_LEDGER_COMMIT}"); fi',"PARENTS+=(-p ".concat(r,")"),'COMMIT_HASH=$(git commit-tree "${PARENTS[@]}" -m '.concat(n," ").concat(a,' "${RESOLVED_COMMIT_HASH}^{tree}")'),"git update-ref --no-deref ".concat(ex,' "${COMMIT_HASH}"'),"git update-ref --no-deref ".concat("refs/heads/replit-agent",' "${COMMIT_HASH}"')].join("; "))];case 1:return[2,u.sent()]}})})).apply(this,arguments)}a.ZU.Pick(eE,["message","trailers","noVerify"]);a.ZU.Object({a:a.ZU.String(),b:a.ZU.String()});r(2526),r(79932),a.ZU.Object({maxLineLength:a.ZU.Optional(a.ZU.Integer()),maxLength:a.ZU.Optional(a.ZU.Integer()),ignorePatterns:a.ZU.Optional(a.ZU.Array(a.ZU.String({description:"Glob patterns to ignore. Supports globstars."})))});function eC(){return(eC=_async_to_generator(function(e){var t,r,n;return _ts_generator(this,function(i){switch(i.label){case 0:return[4,gitAgentEnsureRepository(e)];case 1:return i.sent(),[4,e("git rev-parse --absolute-git-dir")];case 2:if((t=i.sent()).error)return[2,t];return[4,e("git clean -ffd")];case 3:if((r=i.sent()).error)return[2,r];return n=t.output.trim(),[4,e(['if [[ -f "'.concat(n,'/MERGE_HEAD" ]]; then git merge --abort; fi;'),'if [[ -f "'.concat(n,'/REBASE_HEAD" ]]; then git rebase --abort; fi;'),'if [[ -f "'.concat(n,'/CHERRY_PICK_HEAD" ]]; then git cherry-pick --abort; fi;'),'if [[ -f "'.concat(n,'/REVERT_HEAD" ]]; then git revert --abort; fi;'),'if [[ -f "'.concat(n,'/BISECT_LOG" ]]; then git bisect reset; fi;'),"if ! git symbolic-ref -q HEAD; then git checkout --quiet --force main; fi;"].join(" "))];case 4:return i.sent(),[2,{error:null}]}})})).apply(this,arguments)}a.ZU.Object({commit:a.ZU.String()});var eO="HEAD -> ",eL="refs/heads/",eM="refs/remotes/",eZ="tag: ",eH="refs/tags/",eF=/^refs\/remotes\/([^/]+)\/HEAD$/;function eY(e){var t;switch("HEAD"===(t=e)||"refs/HEAD"===t||t.startsWith(eO)?u.HEAD:t.startsWith(eL)?u.BRANCH:t.startsWith(eM)?eF.test(t)?u.REMOTE_HEAD:u.REMOTE_BRANCH:t.startsWith(eH)||t.startsWith(eZ)?u.TAG:u.BRANCH){case u.HEAD:if(e.startsWith(eO)){if(e.endsWith("(detached)"))return{type:u.HEAD,name:"HEAD",detached:!0,ref:null};return{type:u.HEAD,name:"HEAD",detached:!1,ref:eY(e.slice(eO.length))}}return{type:u.HEAD,name:"HEAD",detached:!1,ref:null};case u.REMOTE_HEAD:var r=e.slice(eM.length),n=(0,G._)(r.split("/"),1)[0];return{type:u.REMOTE_HEAD,name:"HEAD",remote:n};case u.BRANCH:return{type:u.BRANCH,name:e.startsWith(eL)?e.slice(eL.length):e};case u.REMOTE_BRANCH:var i=e.slice(eM.length),o=(0,B._)(i.split("/")),a=o[0],l=o.slice(1).join("/");return{type:u.REMOTE_BRANCH,name:i,remote:a,branch:l};case u.TAG:return e.startsWith(eZ)&&(e=e.slice(eZ.length)),e.startsWith(eH)&&(e=e.slice(eH.length)),{type:u.TAG,name:e}}}function eP(e,t){return ek.apply(this,arguments)}function ek(){return(ek=(0,T._)(function(e,t){var r,n,i,o,a,u;return(0,O.YH)(this,function(l){switch(l.label){case 0:if(r=(t=ei(t)).startsWith("refs/heads/"),n=t.startsWith("refs/remotes/"),r)return[3,2];return i=n?t:"refs/remotes/".concat(t),[4,e("git show-ref --verify ".concat(i),{serviceMethod:"git-branch-exists"})];case 1:if(!(o=l.sent()).error)return[2,{exists:!0,ref:eY(i),error:null}];if(o.error!==L.INVALID_REFERENCE)return[2,o];l.label=2;case 2:if(n)return[3,4];return a=r?t:"refs/heads/".concat(t),[4,e("git show-ref --verify ".concat(a),{serviceMethod:"git-branch-exists"})];case 3:if(!(u=l.sent()).error)return[2,{exists:!0,ref:eY(a),error:null}];if(u.error!==L.INVALID_REFERENCE)return[2,u];l.label=4;case 4:return[2,{exists:!1,ref:null,error:null}]}})})).apply(this,arguments)}function eG(e,t){return eB.apply(this,arguments)}function eB(){return(eB=(0,T._)(function(e,t){var r,n,i,o;return(0,O.YH)(this,function(a){switch(a.label){case 0:return r=t.upstream,n=t.branchName,i=["--set-upstream-to",r],n&&i.push(z(n)),[4,e("git branch ".concat(i.join(" ")),{serviceMethod:"git-set-branch-upstream"})];case 1:if((o=a.sent()).error)return[2,o];return[2,{error:null}]}})})).apply(this,arguments)}function ej(e,t,r){return ez.apply(this,arguments)}function ez(){return(ez=(0,T._)(function(e,t,r){var n,i,o;return(0,O.YH)(this,function(a){switch(a.label){case 0:if(ea(t,r)){if(t=en(t,!0),r=en(r),t===r)return[2,{canMerge:!0,error:null}]}else t=en(t),r=en(r);return t=z(t),r=z(r),n="git merge-base ".concat(t," ").concat(r),i='git merge-tree "$('.concat(n,')" ').concat(t," ").concat(r),[4,e("set -eo pipefail; (".concat(i," | ").concat("( (grep -q -e '^+<* \\.our$' && echo '1') || echo '0')",") || test $? -eq 141"),{serviceMethod:"git-can-merge-branches"})];case 1:if((o=a.sent()).error)return[2,o];return[2,{canMerge:"0"===o.output,error:null}]}})})).apply(this,arguments)}function eW(){return(eW=(0,T._)(function(e,t){var r,n;return(0,O.YH)(this,function(i){switch(i.label){case 0:return r=["--quiet"],t.guess||r.push("--no-guess"),(t.newBranch&&void 0===t.track||t.track)&&r.push("--track"),t.force&&r.push("-f"),t.newBranch&&r.push("-b",t.newBranch),r.push(z(t.branchRef.name),"--"),[4,e("git checkout ".concat(r.join(" ")),{serviceMethod:"git-checkout"})];case 1:if((n=i.sent()).error)return[2,n];return[2,{ok:!0,error:null}]}})})).apply(this,arguments)}a.ZU.Object({branchRef:a.ZU.Union([l,f]),guess:a.ZU.Optional(a.ZU.Boolean()),newBranch:a.ZU.Optional(a.ZU.String()),track:a.ZU.Optional(a.ZU.Boolean()),force:a.ZU.Optional(a.ZU.Boolean())}),a.ZU.Object({force:a.ZU.Optional(a.ZU.Enum({DeleteFiles:"DeleteFiles",DeleteFilesAndUntrackedGitRepos:"DeleteFilesAndUntrackedGitRepos"})),untrackedDirectories:a.ZU.Optional(a.ZU.Boolean()),allUntrackedFiles:a.ZU.Optional(a.ZU.Boolean()),paths:a.ZU.Optional(a.ZU.Array(a.ZU.String()))});function eV(e,t){return eK.apply(this,arguments)}function eK(){return(eK=(0,T._)(function(e,t){var r,n,i,o,a;return(0,O.YH)(this,function(l){switch(l.label){case 0:return[4,eP(e,t=ei(t,!0))];case 1:if((r=l.sent()).error)return[2,r];if(!r.exists)return[2,{error:L.INVALID_REFERENCE,extras:{branch:t}}];if(n={guess:!1},r.ref.type!==u.REMOTE_BRANCH)return[3,3];return o=r.ref.branch,[4,eP(e,"refs/heads/".concat(o))];case 2:if((a=l.sent()).error)return[2,a];return a.exists?i=a.ref:(n.track=!0,n.newBranch=o,i=r.ref),[3,4];case 3:i=r.ref,l.label=4;case 4:return[2,function(e,t){return eW.apply(this,arguments)}(e,(0,eb._)({branchRef:i},n))]}})})).apply(this,arguments)}function e$(e,t){return eX.apply(this,arguments)}function eX(){return(eX=(0,T._)(function(e,t){var r,n,i,o,a,l,c,s,f,d,p;return(0,O.YH)(this,function(h){switch(h.label){case 0:return r=t.name,i=void 0===(n=t.startPoint)?"HEAD":n,o=t.track,l=void 0!==(a=t.checkout)&&a,[4,eP(e,r=W(r))];case 1:if((c=h.sent()).error)return[2,c];if(c.exists)return[2,{error:L.BRANCH_ALREADY_EXISTS,extras:{branch:r}}];if("HEAD"===i){if(!0===o)return[2,{error:L.INVALID_REFERENCE,extras:{branch:r}}];o=!1}if(!1===o)return[3,3];return[4,eP(e,i)];case 2:if((s=h.sent()).error)return[2,s];if(!s.exists&&!0===o)return[2,{error:L.INVALID_REFERENCE,extras:{branch:r}}];s.exists&&s.ref.type===u.REMOTE_BRANCH&&void 0===o&&(o=!0),h.label=3;case 3:return f=["--quiet",o?"--track":"--no-track",z(r),z(i)],[4,e("git branch ".concat(f.join(" ")),{serviceMethod:"git-create-branch"})];case 4:if((d=h.sent()).error)return[2,d];if(!l)return[3,6];return[4,eV(e,r)];case 5:if((p=h.sent()).error)return[2,p];h.label=6;case 6:return[2,{error:null}]}})})).apply(this,arguments)}a.ZU.Object({remote:a.ZU.String()});function eq(e){return eJ.apply(this,arguments)}function eJ(){return(eJ=(0,T._)(function(e){var t,r,n,i,o,a=arguments;return(0,O.YH)(this,function(u){switch(u.label){case 0:return t=a.length>1&&void 0!==a[1]?a[1]:{},r=["--quiet"],t.depth&&(n=t.deepen?"--deepen":"--depth",r.push("".concat(n,"=").concat(t.depth))),t.remote?r.push(z(t.remote)):r.push("--all"),!1===t.tags&&r.push("--no-tags"),t.refs&&t.refs.length>0&&(i=r).push.apply(i,(0,C._)(t.refs)),[4,e("git fetch ".concat(r.join(" ")),{serviceMethod:"git-fetch"})];case 1:if((o=u.sent()).error)return[2,o];return[2,{error:null}]}})})).apply(this,arguments)}a.ZU.Object({remote:a.ZU.Optional(a.ZU.String()),depth:a.ZU.Optional(a.ZU.Number()),deepen:a.ZU.Optional(a.ZU.Boolean()),tags:a.ZU.Optional(a.ZU.Boolean()),refs:a.ZU.Optional(a.ZU.Array(a.ZU.String()))});var eQ=["main","master","trunk","dev","develop","development","staging","prod","production"].map(function(e){return'if [ $(git rev-parse --verify --quiet "heads/'.concat(e,'") ]; then\n      echo "refs/heads/').concat(e,'"\n    fi')}).join("\n"),e0='\ngit remote | while IFS= read -r remote; do\n  if [ -z "$remote" ]; then continue; fi\n  branch="$('.concat('\nif [ -f ".git/refs/remotes/$remote/HEAD" ]; then\n  echo "$(sed -e "s/^ref: refs\\/remotes\\/$remote\\///" < .git/refs/remotes/$remote/HEAD)"\nelse\n  remote_result="$(git ls-remote --symref "$remote" HEAD)"\n  if [ -z "$remote_result" ]; then\n    echo ""\n  else\n    branch_name="$(\n      echo "$remote_result" | \\\n      head -1 | \\\n      awk \'{print $2}\' | \\\n      sed -e "s/^refs\\/heads\\///"\n    )"\n    git remote set-head "$remote" "$branch_name" >&2\n    echo "$branch_name"\n  fi\nfi\n'.trim(),')"\n  if [ -z "$branch" ]; then continue; fi\n  echo "refs/remotes/$remote/$branch"\n  if [ $(git rev-parse --verify --quiet "heads/$branch") ]; then\n    echo "refs/heads/$branch"\n  fi\ndone\n').concat(eQ,"\n").trim();function e1(e){return e2.apply(this,arguments)}function e2(){return(e2=(0,T._)(function(e){var t;return(0,O.YH)(this,function(r){switch(r.label){case 0:return[4,e(e0,{serviceMethod:"git-find-default-branches"})];case 1:if((t=r.sent()).error)return[2,t];return[2,{refs:(0,C._)(new Set(j(t.output,"\n"))).map(function(e){return eY(e)}),error:null}]}})})).apply(this,arguments)}function e5(e,t){return!!e&&!!t&&(e===t||e.name===t.name&&e.remote===t.remote)}function e4(e){var t=(0,G._)(e.split("	"),6),r=t[0],n=t[1],i=t[2],o=t[3],a=t[4],l=t[5],c=eY(r),s={hash:i,author:{name:o,email:a.replace(/^<|>$/g,""),date:1e3*parseInt(l,10)}};if(c.type===u.BRANCH){var f=n?eY(n):null,d=f&&(f.type===u.REMOTE_BRANCH||f.type===u.BRANCH)?f:null;return{type:m.LOCAL,name:c.name,push:d,remote:null,tracking:null,commit:s}}return c.type===u.REMOTE_BRANCH?{type:m.REMOTE,name:c.branch,remote:c.remote,push:null,tracking:null,commit:s}:null}function e3(e){return e7.apply(this,arguments)}function e7(){return(e7=(0,T._)(function(e){var t,r,n=arguments;return(0,O.YH)(this,function(i){switch(i.label){case 0:return[4,e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!1===e.local&&!1===e.remote)throw Error("Cannot specify both local and remote as false");var t=[];if(t.push('--format="%(refname)%09%(push)%09%(objectname)%09%(authorname)%09%(authoremail)%09%(authordate:unix)"'),e.max&&t.push("--count=".concat(e.max)),e.pattern)if("string"==typeof e.pattern)t.push(z(e.pattern));else{var r,n,i=e.pattern.map(function(e){return z(e)});t.push.apply(t,(0,C._)(i))}else(null==(r=e.local)||r)&&t.push("refs/heads"),(null==(n=e.remote)||n)&&t.push("refs/remotes");return"git for-each-ref ".concat(t.join(" "))}(n.length>1&&void 0!==n[1]?n[1]:{}),{serviceMethod:"git-list-branches"})];case 1:if((t=i.sent()).error)return[2,t];return(r=function(e){var t=[],r=[],n=!0,i=!1,o=void 0;try{for(var a,l=e[Symbol.iterator]();!(n=(a=l.next()).done);n=!0){var c=a.value;c.type===m.LOCAL?t.push(c):c.type===m.REMOTE&&r.push(c)}}catch(e){i=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(i)throw o}}var s=new Set,f=[],d=!0,p=!1,h=void 0;try{for(var v,g=r[Symbol.iterator]();!(d=(v=g.next()).done);d=!0)!function(){var e=v.value,r=t.find(function(t){return t.push&&t.push.type===u.REMOTE_BRANCH&&t.push.remote===e.remote&&t.push.branch===e.name&&t.name===e.name});r&&(s.add(e),s.add(r),f.push({type:m.TRACKED,name:r.name,remote:e.remote,push:r.push,tracking:e,commit:r.commit}))}()}catch(e){p=!0,h=e}finally{try{d||null==g.return||g.return()}finally{if(p)throw h}}var y=e.filter(function(e){return!s.has(e)});return(0,C._)(y).concat((0,C._)(f))}(j(t.output,"\n").map(e4).filter(function(e){return null!==e}))).sort(function(e,t){return t.commit.author.date-e.commit.author.date}),[2,{branches:r,error:null}]}})})).apply(this,arguments)}function e6(e,t){return e8.apply(this,arguments)}function e8(){return(e8=(0,T._)(function(e,t){var r,n,i,o,a,u,l,c,s,f,d,p;return(0,O.YH)(this,function(h){switch(h.label){case 0:if(!ee(t=en(t,!0)))return[2,{error:L.INVALID_REFERENCE,extras:{branch:t}}];return r=W(t),i=(n=(0,G._)(V(t),2))[0],o=n[1],a=["refs/heads/".concat(r),"refs/remotes/*/".concat(r)],i&&o&&(a.push("refs/heads/".concat(o)),a.push("refs/remotes/".concat(i,"/").concat(o))),[4,e3(e,{pattern:a})];case 1:if((u=h.sent()).error)return[2,u];if(0===u.branches.length)return[2,{error:L.INVALID_REFERENCE,extras:{branch:t}}];l=!0,c=!1,s=void 0;try{for(f=u.branches[Symbol.iterator]();!(l=(d=f.next()).done);l=!0)if((p=d.value).type!==m.REMOTE&&p.name===r||i&&o&&p.type!==m.LOCAL&&p.remote===i&&p.name===o)return[2,{branch:p,error:null}]}catch(e){c=!0,s=e}finally{try{l||null==f.return||f.return()}finally{if(c)throw s}}return[2,{error:L.INVALID_REFERENCE,extras:{branch:t}}]}})})).apply(this,arguments)}var e9=/(?:(?:[ADMTU]\0[^\0]+?)|(?:[RC][0-9]+\0[^\0]+?\0[^\0]+?))(?=\0|$)/g,te=/([ACDMRTU])([0-9]+)?\0([^\0]+?)(?:\0([^\0]+?))?$/;function tt(e,t){return tr.apply(this,arguments)}function tr(){return(tr=(0,T._)(function(e,t){var r,n,i,o,a,u,l,c,s,f,d,p,h,m,v;return(0,O.YH)(this,function(g){switch(g.label){case 0:return r="".concat(z(t.a)," ").concat(z(t.b)),n=["--name-status","-z","-M"],t.copies&&n.push("-C","-C"),[4,e("git diff ".concat(n.join(" ")," ").concat(r))];case 1:if((i=g.sent()).error)return[2,i];o=[],a=!0,u=!1,l=void 0;try{for(c=i.output.matchAll(e9)[Symbol.iterator]();!(a=(s=c.next()).done);a=!0)(f=(0,G._)(s.value,1)[0].match(te))&&(p=(d=(0,G._)(f,5))[1],h=d[3],m=d[4],v=function(e){switch(e){case"A":case"U":return D.ADDED;case"C":return D.COPIED;case"D":return D.DELETED;case"M":return D.MODIFIED;case"R":return D.RENAMED;case"T":return D.TYPE_CHANGED;default:throw Error("Unknown file type: ".concat(e))}}(p),o.push(v===D.RENAMED||v===D.COPIED?{type:v,path:m,originalPath:h}:{type:v,path:h}))}catch(e){u=!0,l=e}finally{try{a||null==c.return||c.return()}finally{if(u)throw l}}return[2,{files:o,error:null}]}})})).apply(this,arguments)}a.ZU.Object({a:a.ZU.String(),b:a.ZU.String(),copies:a.ZU.Optional(a.ZU.Boolean())});var tn={char:"\0"},ti={format:"%x1f",char:"\x1f"},to={format:"%x1e",char:"\x1e"},ta={format:"%x1d",char:"\x1d"},tu=["only","separator=".concat(to.format),"key_value_separator=".concat(ta.format)].join(","),tl='--format="format:'+["%D","%H","%P","%an","%ae","%at","%cn","%ce","%ct","%s","%b","%(trailers:".concat(tu,")"),"%N"].join(ti.format)+'"';function tc(e){var t=e.trimStart().split(ti.char),r=(0,G._)(t,13),n=r[0],i=r[1],o=r[2],a=r[3],u=r[4],l=r[5],c=r[6],s=r[7],f=r[8],d=r[9],p=r[10],h=r[11],m=r[12],v=[],g=o?o.split(" "):null,y=!1,E=!0,_=!1,D=void 0;try{for(var b,A=j(n,",")[Symbol.iterator]();!(E=(b=A.next()).done);E=!0){var w=b.value;if("grafted"===w){y=!0;continue}v.push(eY(w))}}catch(e){_=!0,D=e}finally{try{E||null==A.return||A.return()}finally{if(_)throw D}}var I={name:a,email:u,date:1e3*parseInt(l,10)},U={name:c,email:s,date:1e3*parseInt(f,10)},R=d?d.trim():"",S=p?p.trim():"",x=!1,N=Object.fromEntries(j(h,to.char).map(function(e){var t,r,n,i=e.indexOf(ta.char),o=-1===i?e:e.slice(0,i),a=-1===i?"":e.slice(i+1);if(S&&!x){x=!0;var u=S.lastIndexOf(o+":");-1!==(u=-1===u?S.lastIndexOf(o+"="):u)&&(S=S.slice(0,u).trim())}return[o,(r=(t=(0,B._)(a.split("\n")))[0],(n=t.slice(1)).length?"".concat(r,"\n").concat(n.map(function(e){return e.slice(1)}).join("\n")):a)]})),T=m&&""!==m.trim()?m.trim():void 0;return{refs:v,hash:i,parents:g,grafted:y,author:I,committer:U,subject:R,body:S,trailers:N,notes:T}}function ts(e){return tf.apply(this,arguments)}function tf(){return(tf=(0,T._)(function(e){var t,r=arguments;return(0,O.YH)(this,function(n){switch(n.label){case 0:var i,o,a,u,l,c,s;return[4,e((a=void 0===(o=(i=r.length>1&&void 0!==r[1]?r[1]:{}).max)?25:o,u=i.skip,l=i.revRange,c=i.path,s=["-z","--decorate=full","--full-history",tl],a=Math.max(1,Math.min(a,200)),s.push("-n ".concat(a)),u&&s.push("--skip ".concat(u)),l&&s.push(l),s.push("--"),c&&s.push(c),"git log ".concat(s.join(" "))),{serviceMethod:"git-log"})];case 1:if((t=n.sent()).error){if(t.error===L.NO_COMMITS)return[2,{commits:[],error:null}];return[2,t]}return[2,{commits:j(t.output,tn.char).map(tc),error:null}]}})})).apply(this,arguments)}function td(e,t){return tp.apply(this,arguments)}function tp(){return(tp=(0,T._)(function(e,t){var r,n;return(0,O.YH)(this,function(i){switch(i.label){case 0:if(!t.commit)return[2,{error:L.INVALID_REFERENCE,extras:{commit:t.commit}}];return[4,ts(e,{max:1,revRange:t.commit})];case 1:if((r=i.sent()).error)return[2,r];if(0===r.commits.length)return[2,{error:L.INVALID_REFERENCE,extras:{commit:t.commit}}];return n=r.commits[0],[2,(0,eA._)((0,eb._)({},n),{error:null})]}})})).apply(this,arguments)}a.ZU.Object({max:a.ZU.Optional(a.ZU.Integer()),skip:a.ZU.Optional(a.ZU.Integer()),revRange:a.ZU.Optional(a.ZU.String()),path:a.ZU.Optional(a.ZU.String())}),a.ZU.Object({commit:a.ZU.String()});var th=["git diff -z --name-only --diff-filter=U","echo -n ".concat("\x1f"),"{ git grep -z -l -E '<{7,}|={7,}|>{7,}' || exit $(( $? == 1 ? 0 : $? )); }"].join(" && ");function tm(e){return tv.apply(this,arguments)}function tv(){return(tv=(0,T._)(function(e){var t,r,n,i,o,a,u,l,c,s,f;return(0,O.YH)(this,function(d){switch(d.label){case 0:return[4,e(th,{serviceMethod:"git-get-conflicting-files"})];case 1:if((t=d.sent()).error)return[2,t];if(n=(r=(0,G._)(t.output.split("\x1f").map(function(e){return j(e,"\0")}),2))[0],i=r[1],!n.length)return[2,{files:new Map,error:null}];o=new Map,a=!0,u=!1,l=void 0;try{for(c=n[Symbol.iterator]();!(a=(s=c.next()).done);a=!0)f=s.value,o.set(f,!i.includes(f))}catch(e){u=!0,l=e}finally{try{a||null==c.return||c.return()}finally{if(u)throw l}}return[2,{files:o,error:null}]}})})).apply(this,arguments)}function tg(e,t){return ty.apply(this,arguments)}function ty(){return(ty=(0,T._)(function(e,t){var r,n,i,o,a,u;return(0,O.YH)(this,function(l){switch(l.label){case 0:if(r=t.path,n=t.convertToBase64,o=void 0===(i=t.revision)?"HEAD":i,""===r)return[2,{content:null,error:null}];return a=z("".concat(o,":").concat(r)),[4,e(n?"git --no-pager show ".concat(a," | base64"):"git --no-pager show ".concat(a),{verbatim:!0,serviceMethod:"git-get-file-contents"})];case 1:if((u=l.sent()).error){if(u.error===L.PATH_MATCHED_NO_FILES)return[2,{content:null,error:null}];return[2,u]}return[2,{content:u.output,error:null}]}})})).apply(this,arguments)}function tE(e){return t_.apply(this,arguments)}function t_(){return(t_=(0,T._)(function(e){var t,r,n,i,o,a,u;return(0,O.YH)(this,function(l){switch(l.label){case 0:return[4,ed(e)];case 1:if((t=l.sent()).error)return[2,t];if((r=t.state)!==w.MERGING)return[2,{error:L.INVALID_STATE,extras:{state:r,expected:[w.MERGING]}}];return[4,e("cat '.git/MERGE_HEAD'",{serviceMethod:"git-get-merging-refs"})];case 2:if((n=l.sent()).error)return[2,n];if(!(i=j(n.output,"\n")).length)return[2,{commits:[],branches:[],error:null}];return o="{ grep -F '".concat(i.join("\n"),"' || exit 0; }"),[4,e("".concat('git for-each-ref --format="%(objectname)	%(refname)" refs/heads/ refs/remotes/'," | ").concat(o),{serviceMethod:"git-get-merging-refs"})];case 3:if((a=l.sent()).error)return[2,a];if(!a.output)return[2,{commits:i,branches:[],error:null}];return u=j(a.output,"\n").map(function(e){return e.split("	")[1]}).map(W),[2,{commits:i,branches:u,error:null}]}})})).apply(this,arguments)}function tD(e){return tb.apply(this,arguments)}function tb(){return(tb=(0,T._)(function(e){var t,r,n,i,o,a,u,l,c,s,f,d,p,h;return(0,O.YH)(this,function(m){switch(m.label){case 0:return[4,e("git remote -v",{serviceMethod:"git-get-remotes"})];case 1:if((t=m.sent()).error)return[2,t];if(""===t.output)return[2,{remotes:new Map,error:null}];r=new Map,n=!0,i=!1,o=void 0;try{for(a=j(t.output,"\n")[Symbol.iterator]();!(n=(u=a.next()).done);n=!0)l=u.value,s=(c=(0,G._)(l.split(/\s+/),3))[0],f=c[1],d=c[2],s&&f&&d&&(h=null!=(p=r.get(s))?p:{name:s,fetch:"",push:""},"(fetch)"===d?(h.fetch=f,""===h.push&&(h.push=f),r.set(s,h)):"(push)"===d&&(h.push=f,""===h.fetch&&(h.fetch=f),r.set(s,h)))}catch(e){i=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw o}}return[2,{remotes:r,error:null}]}})})).apply(this,arguments)}function tA(e){switch(e){case"A":return D.ADDED;case"C":return D.COPIED;case"D":return D.DELETED;case"M":return D.MODIFIED;case"R":return D.RENAMED;case"T":return D.TYPE_CHANGED;case"X":default:return D.UNKNOWN;case"B":return D.BROKEN}}var tw=function(){var e=(0,T._)(function(e,t){var r;return(0,O.YH)(this,function(n){switch(n.label){case 0:return[4,e("git log -1 --pretty=%P ".concat(t))];case 1:if((r=n.sent()).error)return[2,!1];return[2,r.output.trim().length>0]}})});return function(t,r){return e.apply(this,arguments)}}(),tI=function(){var e=(0,T._)(function(e,t){var r,n,i,o,a,u,l,c,s;return(0,O.YH)(this,function(f){switch(f.label){case 0:return[4,e("git ls-tree --name-only -r ".concat(t),{serviceMethod:"git-get-files-for-commit"})];case 1:if((r=f.sent()).error)return[2,r];n=[],i=r.output.split("\n").filter(Boolean),o=!0,a=!1,u=void 0;try{for(l=i[Symbol.iterator]();!(o=(c=l.next()).done);o=!0)s=c.value,n.push({path:s,type:D.ADDED})}catch(e){a=!0,u=e}finally{try{o||null==l.return||l.return()}finally{if(a)throw u}}return[2,{files:n,error:null}]}})});return function(t,r){return e.apply(this,arguments)}}();function tU(e){return Array.from(e.matchAll(tx)).map(function(e){var t=(0,G._)(e,4),r=t[1],n=t[2];return{path:t[3],originalPath:n,type:tA(r)}})}function tR(e){return Array.from(e.matchAll(tS)).map(function(e){var t=(0,G._)(e,3),r=t[1];return{path:t[2],type:tA(r)}})}var tS=/([ADMUXBT])\0([^\0]+)/g,tx=/([RC])\d*\0([^\0]+)\0([^\0]+)/g;function tN(e,t){return tT.apply(this,arguments)}function tT(){return(tT=(0,T._)(function(e,t){var r,n,i;return(0,O.YH)(this,function(o){switch(o.label){case 0:return[4,tw(e,t)];case 1:if(!o.sent())return[2,tI(e,t)];return[4,e("git diff-tree --no-commit-id --name-status -z -r -C --find-copies-harder -M ".concat(t),{serviceMethod:"git-get-files-for-commit"})];case 2:if((r=o.sent()).error)return[2,r];return n=tU(r.output),i=tR(r.output),[2,{files:(0,C._)(n).concat((0,C._)(i)),error:null}]}})})).apply(this,arguments)}function tC(e){return tO.apply(this,arguments)}function tO(){return(tO=(0,T._)(function(e){var t;return(0,O.YH)(this,function(r){switch(r.label){case 0:return[4,e("git rev-parse --is-inside-work-tree",{serviceMethod:"git-is-initialized"})];case 1:if((t=r.sent()).error){if(t.error===L.NOT_INITIALIZED)return[2,{initialized:!1,error:null}];return[2,t]}return[2,{initialized:"true"===t.output,error:null}]}})})).apply(this,arguments)}function tL(e){return tM.apply(this,arguments)}function tM(){return(tM=(0,T._)(function(e){var t,r;return(0,O.YH)(this,function(n){switch(n.label){case 0:return[4,e("if [ -f '.git/FETCH_HEAD' ]; then stat -c %Y '.git/FETCH_HEAD'; fi",{serviceMethod:"git-last-fetched"})];case 1:if((t=n.sent()).error)return[2,t];if(!t.output||isNaN(r=parseInt(t.output,10)))return[2,{lastFetched:null,error:null}];return[2,{lastFetched:new Date(r*=1e3),error:null}]}})})).apply(this,arguments)}function tZ(e){return tH.apply(this,arguments)}function tH(){return(tH=(0,T._)(function(e){var t,r=arguments;return(0,O.YH)(this,function(n){switch(n.label){case 0:return[4,e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=[];return e.cached&&t.push("--cached"),e.deleted&&t.push("--deleted"),e.modified&&t.push("--modified"),e.others&&t.push("--others"),e.ignored&&t.push("--ignored"),e.directory&&t.push("--directory"),e.noEmptyDirectory&&t.push("--no-empty-directory"),"git ls-files ".concat(t.join(" "))}(r.length>1&&void 0!==r[1]?r[1]:{}),{serviceMethod:"git-ls-files"})];case 1:if((t=n.sent()).error)return[2,t];return[2,{files:t.output.split("\n").filter(function(e){return e.length>0}),error:null}]}})})).apply(this,arguments)}function tF(e,t){return tY.apply(this,arguments)}function tY(){return(tY=(0,T._)(function(e,t){var r,n,i,o,a,u,l,c,s;return(0,O.YH)(this,function(f){switch(f.label){case 0:return r=t.branch,n=t.message,o=void 0!==(i=t.allowConflicts)&&i,[4,ed(e)];case 1:if((a=f.sent()).error)return[2,a];if(u=a.state,a.type!==I.NORMAL||u===w.DIRTY_WORKTREE||u===w.DIRTY_INDEX)return[2,{error:L.INVALID_STATE,extras:{state:u,expected:[I.NORMAL]}}];return[4,eP(e,r)];case 2:if((l=f.sent()).error)return[2,l];if(!l.exists)return[2,{error:L.INVALID_REFERENCE,extras:{branch:r}}];if(o)return[3,4];return[4,ej(e,r,"HEAD")];case 3:if((c=f.sent()).error)return[2,c];if(!c.canMerge)return[2,{error:L.MERGE_CONFLICT}];f.label=4;case 4:var d,p,h,m;return p=(d={branch:r,message:n}).branch,h=d.message,p=ei(p),m=["--quiet","--no-edit","--no-ff","--overwrite-ignore","--commit"],h&&m.push("-m",z(h)),m.push(z(p)),[4,e("git merge ".concat(m.join(" ")),{serviceMethod:"git-merge"})];case 5:if((s=f.sent()).error!==L.MERGE_CONFLICT)return[3,8];if(o)return[3,7];return[4,e("git merge --abort")];case 6:return f.sent(),[2,s];case 7:return[2,{hasConflicts:!0,error:null}];case 8:if(s.error)return[2,s];return[2,{hasConflicts:!1,error:null}]}})})).apply(this,arguments)}function tP(e){return tk.apply(this,arguments)}function tk(){return(tk=(0,T._)(function(e){var t;return(0,O.YH)(this,function(r){switch(r.label){case 0:return[4,e("git merge --abort",{serviceMethod:"git-merge-abort"})];case 1:if((t=r.sent()).error)return[2,t];return[2,{error:null}]}})})).apply(this,arguments)}function tG(e){return tB.apply(this,arguments)}function tB(){return(tB=(0,T._)(function(e){var t;return(0,O.YH)(this,function(r){switch(r.label){case 0:return[4,e("GIT_EDITOR=/bin/true git merge --continue",{serviceMethod:"git-merge-continue"})];case 1:if((t=r.sent()).error)return[2,t];return[2,{error:null}]}})})).apply(this,arguments)}a.ZU.Object({object:a.ZU.String(),message:a.ZU.String(),force:a.ZU.Optional(a.ZU.Boolean())});a.ZU.Object({object:a.ZU.String(),message:a.ZU.String()});a.ZU.Object({object:a.ZU.String()});var tj="# branch.oid ",tz="# branch.head ",tW="# branch.upstream ",tV="# branch.ab ",tK="# stash ",t$=/^(\S)(\S) (\S{4}) (\S+) (\S+) (\S+) (\S+) (\S+) (.*)$/,tX=/^([RC])([0-9]+) (.+?)\t(.+)$/,tq=/^(\S)(\S) (\S{4}) (\S+) (\S+) (\S+) (\S+) (\S+) (\S+) (\S+) (.*)$/,tJ=/([RC][0-9]+ .+?)\0(.+?(?:\0|$))/g,tQ=function(e){return e.ORDINARY="1",e.RENAMED_OR_COPIED="2",e.UNMERGED="u",e.UNTRACKED="?",e.IGNORED="!",e}(tQ||{});function t0(e){return t1.apply(this,arguments)}function t1(){return(t1=(0,T._)(function(e){var t,r,n,i,o,a,u,l,c,s,f,d,p,h,m,v,g,y,E,_,D;return(0,O.YH)(this,function(b){switch(b.label){case 0:return t=null,r=null,n=null,i=0,o=[],a=["-z","--porcelain=v2","--branch","--show-stash","--untracked-files=all"],[4,e("git status ".concat(a.join(" ")),{serviceMethod:"git-status"})];case 1:if((u=b.sent()).error)return[2,u];l=j(u.output.replaceAll(tJ,"$1	$2"),"\0"),c=!0,s=!1,f=void 0;try{for(d=l[Symbol.iterator]();!(c=(p=d.next()).done);c=!0)(h=p.value).startsWith("#")?h.startsWith(tj)?(m=h.substring(tj.length),"(initial)"!==m&&(t=m)):h.startsWith(tz)?(v=h.substring(tz.length),"(detached)"!==v&&(r=v)):h.startsWith(tW)?(g=h.substring(tW.length),"(not queried)"!==g&&(n={branch:g,ahead:0,behind:0})):h.startsWith(tV)?n&&(E=(y=(0,G._)(h.substring(tV.length).split(" ").map(function(e){return Math.abs(parseInt(e,10))}),2))[0],_=y[1],n.ahead=E,n.behind=_):h.startsWith(tK)&&(i=parseInt(h.substring(tK.length),10)):(D=function(e){var t=e[0];switch(e=e.substring(2),t){case"!":default:return null;case"?":return{type:{index:S.UNTRACKED,worktree:S.UNTRACKED},path:e,staged:!1,unmerged:!1};case"u":var r=e.match(tq);if(!r)return null;var n=(0,G._)(r,12),i=n[1],o=n[2],a=n[11],u=t2(i),l=t2(o),c=u!==S.UNMODIFIED;return{type:{index:u,worktree:l},path:a,staged:c,unmerged:!0};case"1":case"2":var s=e.match(t$);if(!s)return null;var f=(0,G._)(s,10),d=f[1],p=f[2],h=f[9],m=t2(d),v=t2(p),g=m!==S.UNMODIFIED;if("1"===t)return{type:{index:m,worktree:v},path:h,staged:g,unmerged:!1};if("2"===t){var y=h.match(tX);if(!y)return null;var E=(0,G._)(y,5),_=E[1],D=E[2],b=E[3],A=E[4];return{type:{index:m,worktree:v},path:b,staged:g,unmerged:!1,source:{type:function(e){switch(e){case"R":default:return S.RENAMED;case"C":return S.COPIED}}(_),score:parseInt(D,10),path:A}}}return null}}(h),null!==D&&o.push(D))}catch(e){s=!0,f=e}finally{try{c||null==d.return||d.return()}finally{if(s)throw f}}return[2,{commit:t,branch:r,upstream:n,stashes:i,changes:o,error:null}]}})})).apply(this,arguments)}function t2(e){switch(e){case".":default:return S.UNMODIFIED;case"M":return S.MODIFIED;case"T":return S.TYPE_CHANGED;case"A":return S.ADDED;case"D":return S.DELETED;case"R":return S.RENAMED;case"C":return S.COPIED;case"U":return S.UNMERGED}}function t5(e){return t4.apply(this,arguments)}function t4(){return(t4=(0,T._)(function(e){var t,r,n,i,o,a,u,l,c,s=arguments;return(0,O.YH)(this,function(f){switch(f.label){case 0:return t=s.length>1&&void 0!==s[1]?s[1]:{},[4,t0(e)];case 1:if((r=f.sent()).error)return[2,r];if(!r.branch)return[2,{error:L.HEAD_DETACHED}];if(!r.upstream&&!t.experimental_override_remote||(i=(n=(0,G._)(t.experimental_override_remote?[t.experimental_override_remote.name,t.experimental_override_remote.branch]:V(r.upstream.branch),2))[0],o=n[1],!i||!o))return[2,{error:L.UPSTREAM_NOT_SET}];if(r.changes.length>0)return[2,{error:L.DIRTY_WORKTREE}];if("FF_ONLY"===(u=null!=(a=t.mode)?a:"FF_ONLY")&&r.upstream&&r.upstream.ahead>0)return[2,{error:L.MERGE_CONFLICT}];switch("FF_ONLY"!==u&&r.upstream&&0===r.upstream.ahead&&(u="FF_ONLY"),l=["--quiet","--no-edit"],u){case"FF_ONLY":l.push("--no-rebase","--ff-only");break;case"MERGE":l.push("--no-rebase","--ff");break;case"REBASE":l.push("--rebase")}return l.push(z(i),z(o)),[4,e("git pull ".concat(l.join(" ")),{serviceMethod:"git-pull"})];case 2:if((c=f.sent()).error!==L.MERGE_CONFLICT)return[3,8];if(t.allowConflicts)return[2,{hasConflicts:!0,error:null}];switch(u){case"MERGE":return[3,3];case"REBASE":return[3,5]}return[3,7];case 3:return[4,e("git merge --abort",{serviceMethod:"git-pull"})];case 4:case 6:return f.sent(),[3,7];case 5:return[4,e("git rebase --abort",{serviceMethod:"git-pull"})];case 7:return[2,c];case 8:if(c.error)return[2,c];return[2,{hasConflicts:!1,error:null}]}})})).apply(this,arguments)}function t3(e){return t7.apply(this,arguments)}function t7(){return(t7=(0,T._)(function(e){var t,r,n,i,o,a,l,c,s,f,d,p=arguments;return(0,O.YH)(this,function(h){switch(h.label){case 0:return t=p.length>1&&void 0!==p[1]?p[1]:{},[4,t0(e)];case 1:if((r=h.sent()).error)return[2,r];if(!r.branch)return[2,{error:L.HEAD_DETACHED}];if(n=null,i=null,t.publish){if(r.upstream)return[2,{error:L.BRANCH_ALREADY_EXISTS,extras:{branch:r.upstream}}];n=t.publish.remote,i=null!=(o=t.publish.name)?o:r.branch,n=W(n),i=W(i)}else{if(!r.upstream)return[2,{error:L.UPSTREAM_NOT_SET}];if(!t.force&&r.upstream.behind>0)return[2,{error:L.PUSH_REJECTED}];n=(a=(0,G._)(V(r.upstream.branch),2))[0],i=a[1]}if(!n||!i)return[2,{error:L.UPSTREAM_NOT_SET}];if(t.force)return[3,3];return[4,eq(e,{remote:n})];case 2:if((l=h.sent()).error)return[2,l];h.label=3;case 3:if(!t.publish)return[3,5];return[4,eP(e,"refs/remotes/".concat(n,"/").concat(i))];case 4:if((c=h.sent()).error)return[2,c];if(c.exists&&c.ref.type===u.REMOTE_BRANCH)return[2,{error:L.BRANCH_ALREADY_EXISTS,extras:{branch:i}}];h.label=5;case 5:return s=["--quiet"],t.force&&!t.publish&&s.push("--force-with-lease"),t.publish&&s.push("--set-upstream"),f="refs/heads/".concat(r.branch,":refs/heads/").concat(i),s.push(z(n),z(f)),[4,e("git push ".concat(s.join(" ")),{serviceMethod:"git-push"})];case 6:if((d=h.sent()).error)return[2,d];return[2,{error:null}]}})})).apply(this,arguments)}function t6(e,t){return t8.apply(this,arguments)}function t8(){return(t8=(0,T._)(function(e,t){var r;return(0,O.YH)(this,function(n){switch(n.label){case 0:if(!et(t=K(t)))return[2,{error:L.INVALID_REFERENCE,extras:{remote:t}}];return[4,e("git remote rm ".concat(z(t)),{serviceMethod:"git-remove-remote"})];case 1:if((r=n.sent()).error)return[2,r];return[2,{error:null}]}})})).apply(this,arguments)}function t9(e,t,r){return re.apply(this,arguments)}function re(){return(re=(0,T._)(function(e,t,r){var n,i,o,a,u,l,c,s,f,d,p,h,m,v,g;return(0,O.YH)(this,function(y){switch(y.label){case 0:if("string"==typeof t){if(""===t)return[2,{error:null}];t=[t]}if(!0!==t&&0===t.length)return[2,{error:null}];if(void 0===r)return[3,2];return n=["--quiet","--no-overlay","--worktree","--source=".concat(r),!0===t?".":"-- ".concat(t.join(" "))],[4,e("git --literal-pathspecs restore ".concat(n.join(" ")),{serviceMethod:"git-restore-files"})];case 1:if((i=y.sent()).error)return[2,i];return[2,{error:null}];case 2:return[4,t0(e)];case 3:if((o=y.sent()).error)return[2,o];a=[],u=[],l=!0,c=!1,s=void 0;try{for(f=o.changes[Symbol.iterator]();!(l=(d=f.next()).done);l=!0)if(p=d.value,!0===t||t.includes(p.path))switch(p.type.worktree){case S.UNMODIFIED:continue;case S.UNTRACKED:a.push(z(p.path));break;default:u.push(z(p.path))}}catch(e){c=!0,s=e}finally{try{l||null==f.return||f.return()}finally{if(c)throw s}}if(0===a.length&&0===u.length&&void 0===r)return[2,{error:null}];return h=[],a.length&&(m=["--quiet","--force","--",a.join(" ")],h.push("git --literal-pathspecs clean ".concat(m.join(" ")))),u.length&&(v=["--quiet","--no-overlay","--worktree","-- ".concat(u.join(" "))],h.push("git --literal-pathspecs restore ".concat(v.join(" ")))),[4,e(h,{serviceMethod:"git-restore-files"})];case 4:if((g=y.sent()).error)return[2,g];return[2,{error:null}]}})})).apply(this,arguments)}function rt(e,t){return rr.apply(this,arguments)}function rr(){return(rr=(0,T._)(function(e,t){var r,n,i;return(0,O.YH)(this,function(o){switch(o.label){case 0:if(r=t.remote,n=t.url,!et(r=K(r)))return[2,{error:L.INVALID_REFERENCE,extras:{remote:r}}];if(!er(n))return[2,{error:L.INVALID_REFERENCE,extras:{url:n}}];return r=z(r),n=z(n),[4,e("git remote set-url ".concat(r," ").concat(n),{serviceMethod:"git-set-remote-url"})];case 1:if((i=o.sent()).error)return[2,i];return[2,{error:null}]}})})).apply(this,arguments)}function rn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.session,r=e.askpass,n=e.author,i=e.committer,o={GIT_AUTHOR_NAME:"",GIT_AUTHOR_EMAIL:"",GIT_COMMITTER_NAME:"",GIT_COMMITTER_EMAIL:"",GIT_ASKPASS:"replit-git-askpass",GIT_PAGER:"",GIT_EDITOR:"",PAGER:"",EDITOR:""};if(void 0!==t&&(o.REPLIT_SESSION=t),void 0!==r&&(o.GIT_ASKPASS=r),n){o.GIT_AUTHOR_NAME=n.username,o.GIT_COMMITTER_NAME=n.username;var a=ri(n);o.GIT_AUTHOR_EMAIL=a,o.GIT_COMMITTER_EMAIL=a,i&&(o.GIT_COMMITTER_NAME=i.username,o.GIT_COMMITTER_EMAIL=ri(i))}return o}function ri(e){if("id"in e)return"".concat(e.id,"-").concat(e.username,"@users.noreply.replit.com");if("email"in e)return e.email;throw Error("Invalid user")}}}]);
//# sourceMappingURL=2911-677012a9dea73d25.js.map